<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="" />
<meta name="LOC_US_CHANGE" content="" />
<meta name="LOC_US_SRCFILE" content="" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WWH_Template_V1.0" />
    <meta name="LASTUPDATED" content="03/06/10 00:59:23" />
    <title>Adding Java Callout Actions</title>
    <link rel="StyleSheet" href="edocs.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");

if (top.location == self.location )
    self.location = "index.html?href=proxyactionsJavaCallout.html"
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <style type="text/css">
<!--
.style1 {font-family: "Courier New", Courier, monospace}
-->
    </style>
</head>

  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

<a name="wp1265748"> </a><h2 class="pHead1Split">
Adding Java Callout Actions
</h2>
<a name="wp1265749"> </a><p class="pBody">
Use the Java callout action to invoke a Java method, or EJB business service, from within the message flow. 
</p>
<a name="wp1325040"> </a><p class="pBody">
<b class="cBold">Before you begin</b>
</p>
<a name="wp1323999"> </a><p class="pBody">
These instructions assume you are already editing a message flow in the <b class="cBold">Edit Message Flow</b> page, as explained in <a href="javascript:WWHClickedPopup('consolehelp', 'proxyserviceCreateEditViewMessageFlows.html');" onMouseOver="WWHShowPopup('consolehelp', 'proxyserviceCreateEditViewMessageFlows.html', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Creating, Editing, and Viewing Message Flows</a>.
</p>
<a name="wp1325044"> </a><p class="pBody">
<b class="cBold">To add a Java Callout action</b>
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp1314914"> </a><li>Navigate to where you want to add the action, as described in <a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsAddAction.html');" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsAddAction.html', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();"><span class="cHyperlink">
Adding and Editing Actions in Message Flows</span></a>.</li>
<a name="wp1314916"> </a><li>Click the appropriate icon, then select <b class="cBold">Add an Action &gt; Message Processing &gt; Java Callout</b>.</li>
<a name="wp1268327"> </a><li>Click &lt;<b class="cBold">Method</b>&gt;. The <b class="cBold">Select a JAR</b> page is displayed. Select a JAR resource from the list. The <b class="cBold">Select a Class and Method</b> page is displayed.</li>
<a name="wp1268523"> </a><li>From the list of Java classes listed, click the + beside the appropriate class, to display a list of methods. Select a method and click <b class="cBold">Submit</b>. The Java callout action is displayed on the <b class="cBold">Edit Stage</b> page, as follows:</li>
<div class="pSmartList2Bullet"><ul class="pSmartList2Bullet">
<a name="wp1276962"> </a><li>&lt;<b class="cBold">Method</b>&gt; is replaced by the name of the Java method you selected in steps 2 and 3. This name is a link to the <b class="cBold">Select a Class and Method</b> page. You can click this link to change your selection of Java method.</li>
<a name="wp1276968"> </a><p class="pBodyRelative">
The method must be a static method.
</p>
<a name="wp1276963"> </a><li><b class="cBold">Parameters</b>: An &lt;<b class="cBold">Expression&gt;</b> link to the <b class="cBold">XQuery Expression Editor</b> page is provided for each argument the Java method requires. A label for each link indicates the data type for the argument, which will be one of the following: </li>
<div class="pSmartList3Bullet"><ul class="SmartList3Bullet">
<a name="wp1276919"> </a><li><code class="cCode">Java.lang.String</code> </li>
<a name="wp1276920"> </a><li>Primitive types, and their corresponding class types (e.g., <code class="cCode">int</code> vs. <code class="cCode">java.lang.Integer</code>)</li>
<a name="wp1276921"> </a><li><code class="cCode">java.lang.BigDecimal</code>, and <code class="cCode">java.lang.BigInteger</code> (these types are used in financial calculations where round-off errors or overflows are not tolerable)</li>
<a name="wp1276922"> </a><li>only <code class="cCode">org.apache.xbeans.XmlObject</code> and no typed xml beans.</li>
<a name="wp1276923"> </a><li><code class="cCode">byte[]</code> </li>
<a name="wp1276924"> </a><li><code class="cCode">java.lang.String[]</code>   (INPUT ONLY)</li>
<a name="wp1276925"> </a><li><code class="cCode">XmlObject [ ]</code> (INPUT ONLY)</li>
<li class="cCode style1"><span id="mainframespan">javax.activation.DataSource</span></li>
</ul>
</div>
<a name="wp1276927"> </a>
<li><strong>Return Parameter as Reference</strong>: This option makes the return value of a Java Callout invocation a &lt;java-content ref=&quot;jcid&quot;&gt; reference element regardless of its actual type, where jcid is the key to the object in the pipeline object repository. In the Result value field, enter the name of the variable to contain the java-content reference. This option lets you work with a referenced object in the message flow in addition to the pipeline XML for providing passthrough, performing message enrichment with Java Callout and inline actions, or performing message transformation between Java and non-Java transports. For more information, see &quot;Sending and Receiving Java Objects in Messages&quot; in the <em>Oracle Fusion Middleware Developer's Guide for Oracle Service Bus</em> at <a href="http://www.oracle.com/pls/as111170/lookup?id=OSBDV1874" target="_window">http://www.oracle.com/pls/as111170/lookup?id=OSBDV1874</a>.</li>
<li><b class="cBold">Result</b>: A <b class="cBold">Result</b> field in which you enter the variable to which the result is to be assigned. The label for the field indicates the data type of the result. </li>
<a name="wp1282298"> </a>
<table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>If the result is a byte array (the only possible array returned), the binary-content XML element is returned. </td>
</tr>
</table>
<a name="wp1282299"> </a><li><b class="cBold">Attach a Service Account</b>: A <b class="cBold">Service Account</b> link allows you to specify an optional Service Account if there is a security context for this Java method. To learn more about security contexts and service accounts, see <a href="javascript:WWHClickedPopup('consolehelp', 'serviceAccounts.html');" onMouseOver="WWHShowPopup('consolehelp', 'serviceAccounts.html', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Service Accounts</a>.</li>
<a name="wp1276933"> </a><p class="pBodyRelative">
In the case of fixed and mapped service accounts, the userid/password from the service account is authenticated in the local system and the security context propagated to the Java callout. In the case of <code class="cCode">passthru</code>, the security context is propagated to the Java callout. This context is the message level context if defined (with WS-Security). Else it is the transport level context. 
</p>
</ul>
</div>
<a name="wp1276902"> </a><li>Under <span style="font-weight: bold">Parameters</span>, click &lt;<span style="font-weight: bold">Expression&gt;</span>. The <span style="font-weight: bold">XQuery Expression Editor</span> page is displayed. Use the XQuery Expression Editor to provide the arguments required by the Java method. See <a href="javascript:WWHClickedPopup('consolehelp', 'proxyservicesCreatingAndEditingInlineExpressions.html');" onMouseOver="WWHShowPopup('consolehelp', 'proxyservicesCreatingAndEditingInlineExpressions.html', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Creating and Editing Inline XQuery and XPath Expressions</a></li>
<a name="wp1270340"> </a><p class="pBodyRelative">
If the type of the input value you enter does not match the declared input argument type, Oracle Service Bus tries to automatically typecast input values to the declared type of the input argument. For example a string value of <code class="cCode">&quot;123&quot;</code> will be converted to integer <code class="cCode">123</code> if the declared type of the input argument is java primitive <code class="cCode">int</code>. 
</p>
<a name="wp1270484"> </a><li>In the <b class="cBold">Result</b> field, assign a variable for the result returned by the Java method.</li>
<a name="wp1268739"> </a><li>If there is a security context for the Java method, select the check box and click <b class="cBold">&lt;Service Account&gt;</b>. The <b class="cBold">Select Service Account </b>page is displayed. Select the required service account from the list, and click <b class="cBold">Submit</b>.</li>
</ol></div>
<a name="wp1314248"> </a><p class="pBody">
<b class="cBold">After you finish</b>
</p>
<a name="wp1325051"> </a><p class="pBody">
When you complete the configuration of this action, continue by configuring other actions or by saving your configuration, as described in <a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsAddAction.html');" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsAddAction.html', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();"><span class="cHyperlink">
Adding and Editing Actions in Message Flows</span></a>.
</p>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>


<script type="text/javascript" language="JavaScript1.2">
   <!--
function WWHDefineBEALogoLink()
{
return "http://www.bea.com";
}
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
