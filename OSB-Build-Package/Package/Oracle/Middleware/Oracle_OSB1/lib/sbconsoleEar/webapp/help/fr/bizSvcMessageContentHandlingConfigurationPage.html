<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="" />
<meta name="LOC_US_CHANGE" content="" />
<meta name="LOC_US_SRCFILE" content="" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WWH_Template_V1.0" />
    <meta name="LASTUPDATED" content="03/06/10 00:59:04" />
    <title>Page Configuration de la gestion des messages</title>
    <link rel="StyleSheet" href="edocs.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");

if (top.location == self.location )
    self.location = "index.html?href=bizSvcMessageContentHandlingConfigurationPage.html"
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>

  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

<a name="wp1141706"> </a><h3 class="pHeading2">
Page Configuration de la gestion des messages
</h3>
<a name="wp1163400"> </a><p class="pBody">
La page <b class="cBold">Créer/Modifier un service fonctionnel - Configuration </b><b class="cBold"></b><b class="cBold">de la gestion des messages</b> est une des pages permettant de créer et modifier des services fonctionnels, comme indiqué dans <a href="javascript:WWHClickedPopup('consolehelp', 'businessServiceAddBusinessService.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'businessServiceAddBusinessService.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">Création et configuration de services fonctionnels</span></a> et <a href="javascript:WWHClickedPopup('consolehelp', 'BusinessServiceViewandChangeBusinessServices.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'BusinessServiceViewandChangeBusinessServices.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">Modification des configurations des services fonctionnels</span></a>.
</p>
<a name="wp1163410"> </a><p class="pBody">
Utilisez cette page pour indiquer la manière dont Oracle&nbsp;Service&nbsp;Bus gère le contenu des messages. Le <a href="javascript:WWHClickedPopup('consolehelp', 'bizSvcMessageContentHandlingConfigurationPage.html#wp1161154');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'bizSvcMessageContentHandlingConfigurationPage.html#wp1161154', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">tableau&nbsp;18-20</span></a> décrit les options de gestion des messages des services fonctionnels. Différentes options sont disponibles selon les types de transport.
</p>
<a name="wp1161198"> </a><p class="pBodyRelative">
</p>
<div align="left">
<table class="table" border="1" cellpadding="3" cellspacing="0" id="wp1161154table1161148">
  <caption><a name="wp1161154"> </a> Tableau&nbsp;18-20 Page Créer/Modifier un service fonctionnel - Configuration de la gestion des messages


</caption>
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><a name="wp1161158"> </a><div class="pCellHeading">
Option
</div>
</th>
    <th scope="col"><a name="wp1161160"> </a><div class="pCellHeading">
Procédure
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1161325"> </a><div class="pCellBody">
Prise en charge de XOP/MTOM
</div>
</td>
    <td class="table" scope="row"><a name="wp1161330"> </a><div class="pCellBody">
Cette fonctionnalité permet d'encoder les messages sortants au format&nbsp;MTOM/XOP. La méthode&nbsp;MTOM (Message Transmission Optimization Mechanism) SOAP permet d'envoyer des données binaires vers des services&nbsp;Web ou à partir de ces derniers. La méthode&nbsp;MTOM utilise la convention&nbsp;XOP (XML-binary Optimized Packaging) pour transférer les données binaires.
</div>
<a name="wp1170343"> </a><div class="pCellBody">
Oracle&nbsp;Service&nbsp;Bus prend en charge le format XOP/MTOM via les transports suivants&nbsp;:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1161331"> </a><li>HTTP/S</li>
<a name="wp1161332"> </a><li>Local</li>
<a name="wp1161333"> </a><li>SB</li>
</ul></div>
<a name="wp1161334"> </a><div class="pCellBody">
Cochez la case <b class="cBold">Activé</b> pour activer l'encodage des messages sortants au format&nbsp;MTOM/XOP. Cette option est désactivée pour les services fonctionnels importés basés sur des configurations de version antérieure.
</div>
<a name="wp1161335"> </a><div class="pCellBody">
Si vous choisissez d'activer la prise en charge&nbsp;XOP/MTOM, sélectionnez une méthode de gestion des données binaires dans les variables de contexte de message $header et $body, parmi les options suivantes&nbsp;:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1161336"> </a><li><b class="cBold">Inclure les données binaires par référence&nbsp;:</b> (option activée par défaut) dans un message de réponse sortant, remplace les éléments xop:Include par des éléments ctx:binary-content, lors de la configuration de la variable de contexte de message $body.</li>
<a name="wp1161337"> </a><li><b class="cBold">Inclure les données binaires par valeur&nbsp;:</b> dans un message de réponse sortant, remplace les éléments xop:Include par une version texte encodée en Base64 des données binaires correspondantes, lors de la configuration de la variable de contexte de message $body.</li>
</ul></div>
<a name="wp1161338"> </a><div class="pCellBody">
Lorsque la prise en charge&nbsp;XOP/MTOM est activée pour un service fonctionnel donné, il n'est pas obligatoire que chaque message sortant soit au format&nbsp;MTOM. Ce paramètre indique simplement que le service fonctionnel est capable de gérer les données traitées&nbsp;MTOM. 
</div>
<a name="wp1161343"> </a><div class="pCellBody">
Oracle&nbsp;Service&nbsp;Bus ne prend pas en charge les formats&nbsp;MTOM et&nbsp;SwA simultanément. Ainsi, lorsque Oracle&nbsp;Service&nbsp;Bus tente d'acheminer une demande sortante vers un service fonctionnel alors que la prise en charge&nbsp;MTOM/XOP est activée pour ce dernier et que la variable de contexte de message $attachments n'est pas NULL, le système génère une erreur d'exécution.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1161348"> </a><div class="pCellBody">
Pièces jointes
</div>
</td>
    <td class="table" scope="row"><a name="wp1161702"> </a><div class="pCellBody">
Oracle&nbsp;Service&nbsp;Bus prend en charge la transmission des pièces jointes&nbsp;MIME en continu via le transport&nbsp;HTTP/S.
</div>
<a name="wp1170317"> </a><div class="pCellBody">
Cette fonctionnalité permet de stocker les pièces jointes des messages de réponse sortants sur un fichier de disque, puis de traiter les données en continu sans avoir à placer le contenu des pièces jointes en mémoire tampon. Le service fonctionnel peut ainsi traiter des pièces jointes volumineuses de manière plus fiable et plus efficace.
</div>
<a name="wp1161705"> </a><div class="pCellBody">
Cochez la case <b class="cBold">Pièces jointes de page vers le disque</b> pour activer la transmission en continu des pièces jointes des messages de réponse sortants.
</div>
<a name="wp1161706"> </a><div class="pCellBody">
Lorsque vous activez la prise en charge&nbsp;XOP/MTOM, l'option Pièces jointes n'est disponible que si vous sélectionnez l'option <b class="cBold">Inclure les données binaires par référence</b> pour Prise en charge de XOP/MTOM. En outre, les données traitées contenant des pièces jointes doivent respecter la norme&nbsp;RFC&nbsp;822. Plus particulièrement, les lignes contenant des en-têtes Internet doivent se terminer par&nbsp;CRLF (retour à la ligne/retour chariot).
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1170371"> </a><div class="pCellBody">
Mise en mémoire cache des résultats
</div>
</td>
    <td class="table" scope="row"><a name="wp1170395"> </a><div class="pCellBody">
Si vous appelez des services fonctionnels dont les résultats changent rarement, la mise en mémoire cache des résultats permet d'améliorer les performances du service en renvoyant au client les résultats mis en mémoire cache, plutôt que d'appeler directement un service externe.
</div>
<a name="wp1170387"> </a><div class="pCellBody">
Afin d'utiliser la mise en mémoire cache des résultats pour un service fonctionnel, vous devez d'abord activer cette fonctionnalité de façon globale, comme indiqué dans <a href="javascript:WWHClickedPopup('consolehelp', 'configurationEnablingCachingGlobally.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'configurationEnablingCachingGlobally.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">Activation globale de la mise en mémoire cache des résultats</span></a>.
</div>
<a name="wp1170413"> </a><div class="pCellBody">
Configurez la mise en mémoire cache des résultats dans la section <b class="cBold">Paramètres avancés</b> à l'aide des lignes directrices suivantes&nbsp;:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1170428"> </a><li>Sélectionnez l'option <b class="cBold">Pris en charge</b>. Les autres champs sont activés.</li>
<a name="wp1170468"> </a><li><b class="cBold">Espaces de noms d'expression&nbsp;:</b> lorsque vous utilisez des expressions (expression de jeton de cache et/ou expression de délai d'expiration) pour configurer la mise en mémoire cache des résultats, vous pouvez entrer les espaces de noms et préfixes correspondants à utiliser dans les expressions. Dans ce champ, vous pouvez également accéder à la liste des espaces de noms existants.</li>
<a name="wp1170474"> </a><li><b class="cBold">Expression de jeton de cache :</b> Oracle Service Bus utilise des clés de cache pour identifier les résultats mis en mémoire cache à des fins d'extraction et de renseignement de champs. C'est le jeton de cache de la clé de cache qui fournit l'identificateur unique. Vous pouvez utiliser une expression (expression de jeton de cache) pour générer le jeton de cache de la clé de cache, afin d'identifier de façon unique un résultat mis en mémoire cache pour le service fonctionnel.</li>
<a name="wp1170558"> </a><p class="pTableListPara">
Pour générer le jeton de cache à partir d'une valeur de la demande (dans le flux de messages du service proxy appelant le service fonctionnel), utilisez une expression qui obtient la valeur à partir des éléments $body, $header, $operation ou $transportMetaData ($outbound/ctx:transport/ctx:request ou $outbound/ctx:transport/ctx:response) du pipeline. Vous pouvez, par exemple, remplir le jeton de cache à partir de l'ID client dans l'élément $body du message.
</p>
<a name="wp1170716"> </a><p class="pTableListPara">
L'expression de jeton de cache doit être résolue en une chaîne ou une valeur de contenu simple, comme un attribut ou un élément sans enfants. Si l'expression renvoie la valeur NULL ou génère une erreur, les résultats ne sont pas mis en mémoire cache.
</p>
<a name="wp1170883"> </a><p class="pTableListPara">
<b class="cBold">Remarque&nbsp;:</b> vous pouvez également générer le jeton de cache à partir de la demande, sans avoir besoin de défnir une expression de jeton de cache dans la configuration du service fonctionnel. Pour ce faire, vous devez inclure une valeur dans $outbound/ctx:transport/ctx:request/ctx:cache-token, dans le pipeline du service proxy. La valeur entrée remplace l'expression de jeton de cache spécifiée dans la configuration du service fonctionnel.
</p>
<a name="wp1170477"> </a><li><b class="cBold">Délai d'expiration&nbsp;:</b> le délai d'expiration, ou la durée de vie, détermine le moment où une entrée du cache de résultats du service fonctionnel est vidée. La valeur zéro&nbsp;(0) indique que l'élément n'arrive jamais à expiration. Une valeur négative indique que l'élément ne doit pas être mis en mémoire cache. Sélectionnez l'une des options suivantes&nbsp;:</li>
</ul></div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><div class="pSmartList1Bullet"><ul class="pSmartList1Bullet">
<div class="pSmartList2Bullet"><ul class="pSmartList2Bullet">
<a name="wp1171052"> </a><li><b class="cBold">Utiliser la valeur par défaut&nbsp;:</b> la valeur par défaut correspond au délai d'expiration défini dans <em class="cEmphasis">DOMAIN_HOME</em>/config/osb/coherence/osb-coherence-config.xml. La valeur par défaut est de 5&nbsp;minutes.</li>
<a name="wp1171053"> </a><li><b class="cBold">Durée&nbsp;:</b> définissez une durée spécifique.</li>
<a name="wp1171054"> </a><li><b class="cBold">Expression XQuery&nbsp;:</b> comme vous pouvez définir le jeton de cache à l'aide d'une expression, vous pouvez également utiliser une expression XQuery pour obtenir le délai d'expiration à partir de la demande ou de la réponse. Sélectionnez <b class="cBold">Demande</b> ou <b class="cBold">Réponse</b>.<br /><br />Pour générer le délai d'expiration à partir d'une valeur de la demande ou de la réponse, utilisez une expression qui obtient la valeur à partir des éléments $body, $header, $operation ou $transportMetaData ($outbound/ctx:transport/ctx:request ou $outbound/ctx:transport/ctx:response) du pipeline. Vous pouvez, par exemple, utiliser une valeur que vous avez définie dans l'en-tête&nbsp;HTTP de contrôle de cache.<br /><br />Le délai d'expiration doit être résolu en un entier (qui représente les secondes), une expression XQuery dayTimeDuration (de type&nbsp;XSD) ou un entier de contenu simple représentant les secondes, comme un attribut ou un élément sans enfants. Si l'expression renvoie la valeur NULL ou génère une erreur, les résultats ne sont pas mis en mémoire cache.<br /><br /><b class="cBold">Remarque&nbsp;:</b> vous pouvez également générer le délai d'expiration à partir de la demande, sans avoir besoin de définir le délai d'expiration dans la configuration du service fonctionnel. Pour ce faire, vous devez inclure une valeur dans $outbound/ctx:transport/ctx:request/ctx:cache-ttl, dans le pipeline du service proxy. La valeur entrée dans l'élément cache-ttl remplace le délai d'expiration spécifié dans la configuration du service fonctionnel.</li>
</ul></div>
</ul></div>
<a name="wp1171056"> </a><div class="pCellBody">
Pour plus d'informations sur la mise en mémoire cache des résultats, reportez-vous à "Improving Performance by Caching Business Service Results" dans le manuel <em class="cEmphasis">Oracle Fusion Middleware Administrator's Guide for Oracle Service Bus</em> à l'adresse suivante&nbsp;: <span class="cHyperlink"> <a href="http://www.oracle.com/pls/as111170/lookup?id=OSBAG170" target="_window">http://www.oracle.com/pls/as111170/lookup?id=OSBAG170</a></span>.
</div>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">

</p>
<a name="wp1144892"> </a><p class="pBody">
<b class="cBold"> Après avoir fini </b>
</p>
<a name="wp1144893"> </a><p class="pBody">
Cliquez sur <b class="cBold">Suivant</b> pour vérifier et enregistrer la configuration sur la page <b class="cBold">Créer/Modifier un service fonctionnel - </b><a href="javascript:WWHClickedPopup('consolehelp', 'bizSvcSummaryPage.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'bizSvcSummaryPage.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink"> Récapitulatif</span></a>.
</p>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>


<script type="text/javascript" language="JavaScript1.2">
   <!--
function WWHDefineBEALogoLink()
{
return "http://www.bea.com";
}
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
