<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="" />
<meta name="LOC_US_CHANGE" content="" />
<meta name="LOC_US_SRCFILE" content="" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WWH_Template_V1.0" />
    <meta name="LASTUPDATED" content="03/06/10 00:59:23" />
    <title>Ajout d'actions d'appel Java</title>
    <link rel="StyleSheet" href="edocs.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");

if (top.location == self.location )
    self.location = "index.html?href=proxyactionsJavaCallout.html"
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <style type="text/css">
<!--
.style1 {font-family: "Courier New", Courier, monospace}
-->
    </style>
</head>

  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

<a name="wp1265748"> </a><h2 class="pHead1Split">
Ajout d'actions d'appel Java
</h2>
<a name="wp1265749"> </a><p class="pBody">
L'action d'appel Java permet d'appeler une méthode Java ou un service fonctionnel&nbsp;EJB dans le flux de messages. 
</p>
<a name="wp1325040"> </a><p class="pBody">
<b class="cBold"> Avant de commencer </b>
</p>
<a name="wp1323999"> </a><p class="pBody">
Les instructions suivantes supposent que vous soyez déjà en train de modifier un flux de messages sur la page <b class="cBold">Modifier le flux de messages</b>, comme indiqué dans <a href="javascript:WWHClickedPopup('consolehelp', 'proxyserviceCreateEditViewMessageFlows.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyserviceCreateEditViewMessageFlows.html', (document.all||document.getElementById||document.layers)?event:null);">Création, modification et visualisation de flux de messages</a>.
</p>
<a name="wp1325044"> </a><p class="pBody">
<b class="cBold">Pour ajouter une action d'appel Java, procédez comme suit&nbsp;:</b>
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp1314914"> </a><li>Accédez à l'emplacement auquel ajouter l'action, comme indiqué dans <a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsAddAction.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsAddAction.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">Ajout et modification d'actions dans les flux de messages</span></a>.</li>
<a name="wp1314916"> </a><li>Cliquez sur l'icône appropriée, puis sélectionnez <b class="cBold">Ajouter une action&nbsp;> Traitement des messages&nbsp;> Appel Java</b>.</li>
<a name="wp1268327"> </a><li>Cliquez sur <b class="cBold">&lt;Méthode></b>. La page <b class="cBold">Sélectionner une ressource JAR</b> apparaît. Sélectionnez une ressource&nbsp;JAR dans la liste. La page <b class="cBold">Sélectionner une classe et une méthode</b> apparaît.</li>
<a name="wp1268523"> </a><li>Dans la liste des classes Java, cliquez sur le signe&nbsp;+ en regard de la classe appropriée pour afficher la liste des méthodes correspondantes. Sélectionnez une méthode et cliquez sur <b class="cBold">Soumettre</b>. L'action d'appel Java apparaît sur la page <b class="cBold">Modifier la phase</b>, avec les éléments suivants&nbsp;:</li>
<div class="pSmartList2Bullet"><ul class="pSmartList2Bullet">
<a name="wp1276962"> </a><li>L'élément <b class="cBold">&lt;Méthode></b> est remplacé par le nom de la méthode Java sélectionnée dans les étapes&nbsp;2 et&nbsp;3. Ce nom constitue un lien vers la page <b class="cBold">Sélectionner une classe et une méthode</b>. Vous pouvez cliquer sur ce lien pour choisir une autre méthode Java.</li>
<a name="wp1276968"> </a><p class="pBodyRelative">
La méthode doit être statique.
</p>
<a name="wp1276963"> </a><li><b class="cBold">Paramètres :</b> il existe un lien <b class="cBold">&lt;Expression></b> pointant vers la page <b class="cBold">Editeur d'expressions XQuery</b> pour chaque argument requis par la méthode Java. Pour chaque lien, un libellé indique le type de données de l'argument. Il peut s'agir des types suivants&nbsp;: </li>
<div class="pSmartList3Bullet"><ul class="SmartList3Bullet">
<a name="wp1276919"> </a><li><code class="cCode">Java.lang.String</code> </li>
<a name="wp1276920"> </a><li>Types de primitive et types de classe correspondants (par exemple, <code class="cCode">int</code> et <code class="cCode">java.lang.Integer</code>)</li>
<a name="wp1276921"> </a><li><code class="cCode">java.lang.BigDecimal</code> et <code class="cCode">java.lang.BigInteger</code> (ces types sont utilisés dans les calculs financiers, pour lesquels aucune erreur d'arrondi ni aucun débordement ne sont tolérés)</li>
<a name="wp1276922"> </a><li><code class="cCode">org.apache.xbeans.XmlObject</code> uniquement et pas de bean&nbsp;XML indiqué</li>
<a name="wp1276923"> </a><li><code class="cCode">byte[]</code> </li>
<a name="wp1276924"> </a><li><code class="cCode">java.lang.String[]</code> (ENTREE UNIQUEMENT)</li>
<a name="wp1276925"> </a><li><code class="cCode">XmlObject [ ]</code> (ENTREE UNIQUEMENT)</li>
<li class="cCode style1"><span id="mainframespan">javax.activation.DataSource</span></li>
</ul>
</div>
<a name="wp1276927"> </a>
<li><strong>Renvoyer un paramètre en tant que référence</strong> : cette option transforme une invocation d'appel Java en&lt;java-content ref="jcid"> élément de référence quel que soit son type réel, dans lequel jcid est la clé de l'objet dans le référentiel d'objets de pipeline. Dans le champ de résultat, entrez le nom de la variable qui doit contenir la référence java-content. Cette option permet d'utiliser un objet référencé dans le flux de messages en plus du XML du pipeline, afin de fournir un pass-through, enrichissant le message avec l'appel Java et les actions imbriquées, ou transformant le message entre les transports Java et non Java. Pour plus d'informations, reportez-vous à "Sending and Receiving Java Objects in Messages" dans le manuel <em>Oracle Fusion Middleware Developer's Guide for Oracle Service Bus</em>, à l'adresse suivante : <a href="http://www.oracle.com/pls/as111170/lookup?id=OSBDV1874" target="_window">http://www.oracle.com/pls/as111170/lookup?id=OSBDV1874</a>.</li>
<li><b class="cBold">Résultat&nbsp;:</b> champ <b class="cBold">Résultat</b> dans lequel vous devez entrer la variable à laquelle le résultat doit être affecté. Le libellé du champ indique le type de données du résultat. </li>
<a name="wp1282298"> </a>
<table class="ListNote">
<tr>
<td valign="top"><strong>Remarque :</strong></td>
<td>si le résultat est un tableau d'octets (il s'agit du seul type de tableau pouvant être renvoyé), l'élément&nbsp;XML à contenu binaire est renvoyé. </td>
</tr>
</table>
<a name="wp1282299"> </a><li><b class="cBold">Attacher un compte de service&nbsp;:</b> un lien <b class="cBold">Compte de service</b> permet d'indiquer un compte de service facultatif lorsqu'un contexte de sécurité est défini pour la méthode Java. Pour en savoir plus sur les contextes de sécurité et les comptes de service, reportez-vous à <a href="javascript:WWHClickedPopup('consolehelp', 'serviceAccounts.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'serviceAccounts.html', (document.all||document.getElementById||document.layers)?event:null);">Comptes de service</a>.</li>
<a name="wp1276933"> </a><p class="pBodyRelative">
Dans le cas des comptes de services statiques et mis en correspondance, l'ID utilisateur/le mot de passe du compte de service est authentifié dans le système local et le contexte de sécurité est propagé vers l'appel Java. Dans le cas des comptes de service <code class="cCode">pass-through</code>, le contexte de sécurité est propagé vers l'appel Java. Il s'agit du contexte de niveau message, si ce dernier a été défini (avec Sécurité&nbsp;WS). Sinon, il s'agit du contexte de niveau transport. 
</p>
</ul>
</div>
<a name="wp1276902"> </a><li>Sous <span style="font-weight: bold">Paramètres</span>, cliquez sur <span style="font-weight: bold">&lt;Expression></span>. La page <span style="font-weight: bold">Editeur d'expressions XQuery</span> apparaît. Utilisez l'éditeur d'expressions XQuery pour fournir les arguments requis par la méthode Java. Reportez-vous à <a href="javascript:WWHClickedPopup('consolehelp', 'proxyservicesCreatingAndEditingInlineExpressions.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyservicesCreatingAndEditingInlineExpressions.html', (document.all||document.getElementById||document.layers)?event:null);">Création et modification d'expressions XPath et XQuery imbriquées</a>.</li>
<a name="wp1270340"> </a><p class="pBodyRelative">
Si le type de la valeur d'entrée indiquée ne correspond pas au type d'argument d'entrée déclaré, Oracle&nbsp;Service&nbsp;Bus tente de convertir automatiquement la valeur d'entrée en un type déclaré de l'argument d'entrée. Ainsi, la valeur de chaîne <code class="cCode">"123"</code> est convertie en entier (<code class="cCode">123</code>) si le type d'argument d'entrée déclaré est le type de primitive Java <code class="cCode">int</code>. 
</p>
<a name="wp1270484"> </a><li>Dans le champ <b class="cBold">Résultat</b>, affectez une variable au résultat renvoyé par la méthode Java.</li>
<a name="wp1268739"> </a><li>S'il existe un contexte de sécurité pour la méthode Java, cochez la case et cliquez sur <b class="cBold">&lt;Compte de service></b>. La page <b class="cBold">Sélectionner un compte de service</b> apparaît. Sélectionnez le compte de service requis dans la liste et cliquez sur <b class="cBold">Soumettre</b>.</li>
</ol></div>
<a name="wp1314248"> </a><p class="pBody">
<b class="cBold"> Après avoir fini </b>
</p>
<a name="wp1325051"> </a><p class="pBody">
Une fois la configuration de cette action terminée, vous pouvez configurer d'autres actions ou enregistrer votre configuration, comme indiqué dans <a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsAddAction.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsAddAction.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">Ajout et modification d'actions dans les flux de messages</span></a>.
</p>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>


<script type="text/javascript" language="JavaScript1.2">
   <!--
function WWHDefineBEALogoLink()
{
return "http://www.bea.com";
}
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
