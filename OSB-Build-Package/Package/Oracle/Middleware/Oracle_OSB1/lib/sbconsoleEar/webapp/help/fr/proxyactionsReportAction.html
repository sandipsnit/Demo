<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="" />
<meta name="LOC_US_CHANGE" content="" />
<meta name="LOC_US_SRCFILE" content="" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WWH_Template_V1.0" />
    <meta name="LASTUPDATED" content="03/06/10 00:59:23" />
    <title>Ajout d'actions de rapport</title>
    <link rel="StyleSheet" href="edocs.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");

if (top.location == self.location )
    self.location = "index.html?href=proxyactionsReportAction.html"
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>

  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

<a name="wp1309439"> </a><h2 class="pHead1Split">
Ajout d'actions de rapport
</h2>
<a name="wp1309440"> </a><p class="pBody">
L'action de rapport permet d'activer la génération de rapports sur les messages pour un service proxy. 
</p>
<a name="wp1325385"> </a><p class="pBody">
<b class="cBold"> Avant de commencer </b>
</p>
<a name="wp1324055"> </a><p class="pBody">
Les instructions suivantes supposent que vous soyez déjà en train de modifier un flux de messages sur la page <b class="cBold">Modifier le flux de messages</b>, comme indiqué dans <a href="javascript:WWHClickedPopup('consolehelp', 'proxyserviceCreateEditViewMessageFlows.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyserviceCreateEditViewMessageFlows.html', (document.all||document.getElementById||document.layers)?event:null);">Création, modification et visualisation de flux de messages</a>.
</p>
<a name="wp1325389"> </a><p class="pBody">
<b class="cBold">Pour ajouter une action de rapport, procédez comme suit&nbsp;:</b>
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp1315102"> </a><li>Accédez à l'emplacement auquel ajouter l'action, comme indiqué dans <a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsAddAction.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsAddAction.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">Ajout et modification d'actions dans les flux de messages</span></a>.</li>
<a name="wp1315104"> </a><li>Cliquez sur l'icône appropriée, puis sélectionnez <b class="cBold">Ajouter une action > Génération de rapports > Rapport</b>.</li>
<a name="wp1255139"> </a><li>Cliquez sur <b class="cBold">&lt;Expression></b>. L'<b class="cBold">éditeur d'expressions XQuery</b> apparaît. Reportez-vous à <a href="javascript:WWHClickedPopup('consolehelp', 'proxyservicesCreatingAndEditingInlineExpressions.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyservicesCreatingAndEditingInlineExpressions.html', (document.all||document.getElementById||document.layers)?event:null);">Création et modification d'expressions XPath et XQuery imbriquées</a>. L'expression&nbsp;XQuery permet de créer les données qui seront transmises au tableau de bord Oracle&nbsp;Service&nbsp;Bus.</li>
<a name="wp1238855"> </a><li>Une fois l'expression XQuery modifiée, cliquez sur <b class="cBold">Ajouter une clé</b>. Deux champs apparaissent&nbsp;: <b class="cBold">Nom de clé</b> et <b class="cBold">Valeur de clé</b>. Ce dernier comprend un lien&nbsp;XPath, sur lequel vous pouvez cliquer pour modifier une expression&nbsp;XPath, et un champ "dans la variable", dans lequel vous pouvez entrer une variable de contexte.</li>
<a name="wp1238856"> </a><p class="pBodyRelative">
Vous pouvez utiliser des paires clé/valeur pour extraire des identificateurs de clé à partir des variables de contexte de message ou des données traitées de message, et ignorer le reste du message. Les clés permettent d'identifier facilement un message. Elles sont affichées en tant qu'index de rapport dans le module Génération de rapports. Reportez-vous à <a href="javascript:WWHClickedPopup('consolehelp', 'reportingListandLocateMessages.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'reportingListandLocateMessages.html', (document.all||document.getElementById||document.layers)?event:null);">Visualisation des messages de rapport</a> et à <a href="javascript:WWHClickedPopup('consolehelp', 'reportingViewMessageDetails.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'reportingViewMessageDetails.html', (document.all||document.getElementById||document.layers)?event:null);">Visualisation des détails des messages</a>.
</p>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp1238863"> </a><li>Entrez le nom d'une clé dans le champ <b class="cBold">Nom de clé</b>.</li>
<a name="wp1246458"> </a><li>Cliquez sur <b class="cBold">&lt;XPath></b>. La page <b class="cBold">Modifier une expression XPath</b> apparaît. Reportez-vous à <a href="javascript:WWHClickedPopup('consolehelp', 'proxyservicesCreatingAndEditingInlineExpressions.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyservicesCreatingAndEditingInlineExpressions.html', (document.all||document.getElementById||document.layers)?event:null);">Création et modification d'expressions XPath et XQuery imbriquées</a>.</li>
<a name="wp1323218"> </a><li>Entrez une variable de contexte dans le champ <b class="cBold">dans la variable</b>. Pour plus d'informations sur les variables de contexte, reportez-vous à <span class="cHyperlink">l'annexe&nbsp;A, Contexte de message</span>.</li>
<a name="wp1323222"> </a><li>Pour ajouter des valeurs de clé supplémentaires, cliquez sur l'icône <b class="cBold">Clé</b>, puis sélectionnez <b class="cBold">Ajouter une clé</b>. Pour supprimer une clé, cliquez sur l'icône <b class="cBold">Clé</b>, puis sélectionnez <b class="cBold">Supprimer la clé</b>.</li>
</ol></div>
</ol></div>
<a name="wp1330028"> </a><p class="pBody">
L'exemple suivant concerne une action de rapport configurée sur un gestionnaire d'erreur dans une phase. L'action transmet le contenu de la variable de contexte <code class="cCode">fault</code> dans le cas d'une erreur. L'action de rapport est configurée comme suit&nbsp;:
</p>
<div class="pSmartList1Bullet"><ul class="pSmartList1Bullet">
<a name="wp1330029"> </a><li>Nom de clé = <code class="cCode">errorCode</code></li>
<a name="wp1330030"> </a><li>Valeur de la clé = <code class="cCode">./ctx:errorCode</code> dans la variable <code class="cCode">fault</code></li>
</ul></div>
<a name="wp1330031"> </a><p class="pBody">
Chaque fois que cette action est réalisée lors de l'exécution, un message est transmis via le flux de données de rapport. Le tableau suivant présente les résultats obtenus après deux exécutions de l'action de rapport.
</p>
<a name="wp1347906"> </a><p class="pBodyRelative">
</p>
<div align="left">
<table class="table" border="1" cellpadding="3" cellspacing="0" id="wp1330034table1330032">
  <caption></caption>
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><a name="wp1330034"> </a><div class="pCellBody">
Index de rapport
</div>
</th>
    <th scope="col"><a name="wp1330036"> </a><div class="pCellBody">
Horodatage de la BdD
</div>
</th>
    <th scope="col"><a name="wp1330038"> </a><div class="pCellBody">
Service entrant
</div>
</th>
    <th scope="col"><a name="wp1330040"> </a><div class="pCellBody">
Code d'erreur
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1330042"> </a><div class="pCellBody">
errorCode=BEA-382505
</div>
</td>
    <td class="table" scope="row"><a name="wp1330044"> </a><div class="pCellBody">
04/26/07 9:45 AM
</div>
</td>
    <td class="table" scope="row"><a name="wp1330046"> </a><div class="pCellBody">
MortgageBroker/ProxySvcs/loanGateway3
</div>
</td>
    <td class="table" scope="row"><a name="wp1330048"> </a><div class="pCellBody">
BEA-382505
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1330050"> </a><div class="pCellBody">
errorCode=BEA-382505
</div>
</td>
    <td class="table" scope="row"><a name="wp1330052"> </a><div class="pCellBody">
04/26/07 9:45 AM
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><a name="wp1330056"> </a><div class="pCellBody">
BEA-382505
</div>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">

</p>
<a name="wp1314317"> </a><p class="pBody">
<b class="cBold"> Après avoir fini </b>
</p>
<a name="wp1325396"> </a><p class="pBody">
Une fois la configuration de cette action terminée, vous pouvez configurer d'autres actions ou enregistrer votre configuration, comme indiqué dans <a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsAddAction.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsAddAction.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">Ajout et modification d'actions dans les flux de messages</span></a>.
</p>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>


<script type="text/javascript" language="JavaScript1.2">
   <!--
function WWHDefineBEALogoLink()
{
return "http://www.bea.com";
}
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
