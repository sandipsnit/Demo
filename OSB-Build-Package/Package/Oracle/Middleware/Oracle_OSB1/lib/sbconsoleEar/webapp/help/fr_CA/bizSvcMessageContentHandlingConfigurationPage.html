<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="" />
<meta name="LOC_US_CHANGE" content="" />
<meta name="LOC_US_SRCFILE" content="" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WWH_Template_V1.0" />
    <meta name="LASTUPDATED" content="03/06/10 00:59:04" />
    <title>Message Handling Configuration Page</title>
    <link rel="StyleSheet" href="edocs.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");

if (top.location == self.location )
    self.location = "index.html?href=bizSvcMessageContentHandlingConfigurationPage.html"
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>

  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

<a name="wp1141706"> </a><h3 class="pHeading2">
Message Handling Configuration Page
</h3>
<a name="wp1163400"> </a><p class="pBody">
The <b class="cBold">Create/Edit a Business Service - Message </b><b class="cBold">H</b><b class="cBold">andling Configuration</b> page is one in a series of pages for creating and editing business services, as described in <a href="javascript:WWHClickedPopup('consolehelp', 'businessServiceAddBusinessService.html');" onMouseOver="WWHShowPopup('consolehelp', 'businessServiceAddBusinessService.html', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();"><span class="cHyperlink">
Creating and Configuring Business Services</span></a> and <a href="javascript:WWHClickedPopup('consolehelp', 'BusinessServiceViewandChangeBusinessServices.html');" onMouseOver="WWHShowPopup('consolehelp', 'BusinessServiceViewandChangeBusinessServices.html', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();"><span class="cHyperlink">
Editing Business Service Configurations</span></a>.
</p>
<a name="wp1163410"> </a><p class="pBody">
Use this page to specify how Oracle Service Bus handles message content. <a href="javascript:WWHClickedPopup('consolehelp', 'bizSvcMessageContentHandlingConfigurationPage.html#wp1161154');" onMouseOver="WWHShowPopup('consolehelp', 'bizSvcMessageContentHandlingConfigurationPage.html#wp1161154', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();"><span class="cHyperlink">
Table&#160;18-20</span></a> describes the message handling options for business services. Different options are available for different transport types.
</p>
<a name="wp1161198"> </a><p class="pBodyRelative">
</p>
<div align="left">
<table class="table" border="1" cellpadding="3" cellspacing="0" id="wp1161154table1161148">
  <caption><a name="wp1161154"> </a>
Table 18-20  Create/Edit a Business Service - Message Handling Configuration Page&#160;


</caption>
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><a name="wp1161158"> </a><div class="pCellHeading">
Option
</div>
</th>
    <th scope="col"><a name="wp1161160"> </a><div class="pCellHeading">
To create or edit...
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1161325"> </a><div class="pCellBody">
XOP/MTOM Support
</div>
</td>
    <td class="table" scope="row"><a name="wp1161330"> </a><div class="pCellBody">
This feature lets you encode outbound messages in MTOM/XOP format. SOAP Message Transmission Optimization Mechanism (MTOM) is a method of sending binary data to and from Web services. MTOM uses XML-binary Optimized Packaging (XOP) to transfer the binary data.
</div>
<a name="wp1170343"> </a><div class="pCellBody">
Oracle Service Bus supports XOP/MTOM using the following transports:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1161331"> </a><li>HTTP/S</li>
<a name="wp1161332"> </a><li>Local</li>
<a name="wp1161333"> </a><li>SB</li>
</ul></div>
<a name="wp1161334"> </a><div class="pCellBody">
Select the <b class="cBold">Enabled</b> check box to enable the business service to encode outbound messages in MTOM/XOP format. Note that this option is disabled for imported business services that are based on previous release configurations.
</div>
<a name="wp1161335"> </a><div class="pCellBody">
If XOP/MTOM Support is enabled, select how to handle binary data in the $header and $body message context variables from among the following options:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1161336"> </a><li><b class="cBold">Include Binary Data by Reference</b>: (Default) In an outbound response message, replace xop:Include elements with ctx:binary-content elements when setting up the $body message context variable.</li>
<a name="wp1161337"> </a><li><b class="cBold">Include Binary Data by Value</b>: In an outbound response message, replace xop:Include elements with Base64-encoded text versions of corresponding binary data when setting up the $body message context variable.</li>
</ul></div>
<a name="wp1161338"> </a><div class="pCellBody">
Note that if XOP/MTOM Support is enabled for a business service, it is not required that every outbound message be in the MTOM format. Instead, this setting specifies that the business service is capable of handling an MTOM payload. 
</div>
<a name="wp1161343"> </a><div class="pCellBody">
Since Oracle Service Bus does not support a combination of MTOM and SwA, the system issues a runtime error when Oracle Service Bus attempts to dispatch an outbound request to a business service and the business service is both MTOM/XOP-enabled and the $attachments message context variable is not null.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1161348"> </a><div class="pCellBody">
Attachments
</div>
</td>
    <td class="table" scope="row"><a name="wp1161702"> </a><div class="pCellBody">
Oracle Service Bus supports streaming MIME attachments using the HTTP/S transport.
</div>
<a name="wp1170317"> </a><div class="pCellBody">
This feature lets you store attachments in outbound response messages to a disk file and then process the data in a streaming fashion without buffering the attachment contents in memory. This enables the business service to process large attachments robustly and efficiently.
</div>
<a name="wp1161705"> </a><div class="pCellBody">
Select the <b class="cBold">Page Attachments to Disk</b> check box to enable the business service to stream attachments in outbound response messages.
</div>
<a name="wp1161706"> </a><div class="pCellBody">
Note that if you enable XOP/MTOM Support, the Attachments option is only available if you choose the <b class="cBold">Include Binary Data by Reference</b> option under XOP/MTOM Support. Note also that payloads that contain attachments must conform to RFC 822. Specifically, lines containing Internet headers need to be terminated with CRLF (carriage return line feed).
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1170371"> </a><div class="pCellBody">
Result Caching
</div>
</td>
    <td class="table" scope="row"><a name="wp1170395"> </a><div class="pCellBody">
If you invoke business services whose results seldom change, result caching improves business service performance by returning cached results to the client instead of invoking an external service directly.
</div>
<a name="wp1170387"> </a><div class="pCellBody">
To use result caching for business services, you must first enable it globally, as described in <a href="javascript:WWHClickedPopup('consolehelp', 'configurationEnablingCachingGlobally.html');" onMouseOver="WWHShowPopup('consolehelp', 'configurationEnablingCachingGlobally.html', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();"><span class="cHyperlink">
Enabling Result Caching Globally</span></a>.
</div>
<a name="wp1170413"> </a><div class="pCellBody">
Configure result caching in the <b class="cBold">Advanced Settings</b> section using the following guidelines:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1170428"> </a><li>Select the <b class="cBold">Supported</b> option. When you do, the remaining fields are enabled.</li>
<a name="wp1170468"> </a><li><b class="cBold">Expression Namespaces</b> - When using expressions to configure result caching, whether with the Cache Token Expression, the Expiration Time, or both, you can enter the namespaces and corresponding prefixes to use in the expressions. This field also lets you view a list of existing namespaces.</li>
<a name="wp1170474"> </a><li><b class="cBold">Cache Token Expression</b> - Oracle Service Bus uses cache keys to identify cached results for retrieval or population, and the cache token portion of the cache key provides the unique identifier. You can use an expression-the Cache Token Expression-to generate the cache token part of the cache key to uniquely identify a cached result for the business service.</li>
<a name="wp1170558"> </a><p class="pTableListPara">
To generate the cache token from a value in the request (in the proxy service message flow that invokes the business service), use an expression that gets the value from the pipeline $body, $header, $operation, or $transportMetaData ($outbound/ctx:transport/ctx:request or $outbound/ctx:transport/ctx:response). For example, you can populate the cache-token from a customer ID in the message $body.
</p>
<a name="wp1170716"> </a><p class="pTableListPara">
The Cache Token Expression must resolve to a String or the value of simple content, such as an attribute or an element with no child elements. If the expression evaluates to null or causes an error, results are not cached.
</p>
<a name="wp1170883"> </a><p class="pTableListPara">
<b class="cBold">Note</b>: You can also generate the cache token from the request, without setting a Cache Token Expression in the business service configuration. To do this, include a value in $outbound/ctx:transport/ctx:request/ctx:cache-token in the proxy service pipeline. Any value in that cache-token overrides the Cache Token Expression in the business service configuration.
</p>
<a name="wp1170477"> </a><li><b class="cBold">Expiration Time</b> - Expiration Time, or time-to-live (TTL), determines when an entry in the business service&#39;s result cache is flushed. A duration of zero (0) means no expiration. A negative duration means do not cache. Select one of the following:</li>
</ul></div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><div class="pSmartList1Bullet"><ul class="pSmartList1Bullet">
<div class="pSmartList2Bullet"><ul class="pSmartList2Bullet">
<a name="wp1171052"> </a><li><b class="cBold">Use Default</b> - The default is the expiry-delay value in <em class="cEmphasis">DOMAIN_HOME</em>/config/osb/coherence/osb-coherence-config.xml. The default is 5 minutes.</li>
<a name="wp1171053"> </a><li><b class="cBold">Duration</b> - Set a specific length of time.</li>
<a name="wp1171054"> </a><li><b class="cBold">XQuery Expression</b> - As with setting the cache token with an expression, you can enter an XQuery expression that gets an Expiration Time value from the request or response. Select <b class="cBold">Request</b> or <b class="cBold">Response</b>.<br /><br />To generate the expiration time from a value in the request or response, use an expression that gets the value from the pipeline $body, $header, $operation, or $transportMetaData ($outbound/ctx:transport/ctx:request or $outbound/ctx:transport/ctx:response). For example, use a value you have set in the Cache-Control HTTP header.<br /><br />Expiration Time must resolve to an Integer (representing seconds), an XQuery dayTimeDuration (XSD type), or the integer value of simple content representing seconds, such as an attribute or an element with no child elements. If the expression evaluates to null or causes an error, results are not cached.<br /><br /><b class="cBold">Note</b>: You can also generate the expiration from the request, without setting an Expiration Time in the business service configuration. To do this, include a value in $outbound/ctx:transport/ctx:request/ctx:cache-ttl in the proxy service pipeline. Any value in the cache-ttl element overrides the Expiration Time in the business service configuration.</li>
</ul></div>
</ul></div>
<a name="wp1171056"> </a><div class="pCellBody">
For a more detailed description of result caching, see &quot;Improving Performance by Caching Business Service Results&quot; in the <em class="cEmphasis">Oracle Fusion Middleware Administrator&#39;s Guide for Oracle Service Bus</em> at <span class="cHyperlink">
<a href="http://www.oracle.com/pls/as1111/lookup?id=OSBAG170" target="_window">http://www.oracle.com/pls/as1111/lookup?id=OSBAG170</a></span>.
</div>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">

</p>
<a name="wp1144892"> </a><p class="pBody">
<b class="cBold">After you finish</b>
</p>
<a name="wp1144893"> </a><p class="pBody">
Click <b class="cBold">Next</b> to review and save this configuration on the <b class="cBold">Create/Edit a Business Service - </b><a href="javascript:WWHClickedPopup('consolehelp', 'bizSvcSummaryPage.html');" onMouseOver="WWHShowPopup('consolehelp', 'bizSvcSummaryPage.html', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();"><span class="cHyperlink">
Summary page</span></a>.
</p>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>


<script type="text/javascript" language="JavaScript1.2">
   <!--
function WWHDefineBEALogoLink()
{
return "http://www.bea.com";
}
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
