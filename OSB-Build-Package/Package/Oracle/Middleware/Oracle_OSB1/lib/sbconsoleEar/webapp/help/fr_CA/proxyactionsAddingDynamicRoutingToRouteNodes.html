<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="" />
<meta name="LOC_US_CHANGE" content="" />
<meta name="LOC_US_SRCFILE" content="" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WWH_Template_V1.0" />
    <meta name="LASTUPDATED" content="03/06/10 00:59:23" />
    <title>Adding Dynamic Routing to Route Nodes</title>
    <link rel="StyleSheet" href="edocs.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");

if (top.location == self.location )
    self.location = "index.html?href=proxyactionsAddingDynamicRoutingToRouteNodes.html"
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>

  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

<a name="wp1319113"> </a><h2 class="pHead1Split">
Adding Dynamic Routing to Route Nodes
</h2>
<a name="wp1319115"> </a><p class="pBody">
Assign a route for a message based on routing information available in an XQuery resource.
</p>
<a name="wp1324623"> </a><p class="pBody">
This is a terminal action, which means you cannot add another action after this one. However, this action can contain request and response actions.
</p>
<p class="pBody">For more information on routing, see  &quot;Modeling Message Flow in Oracle Service Bus&quot; in the <em>Oracle Fusion Middleware Administrator's Guide for Oracle Service Bus</em> at <a href="http://www.oracle.com/pls/as1111/lookup?id=OSBAG181" target="_blank">http://www.oracle.com/pls/as1111/lookup?id=OSBAG181</a>. </p>
<a name="wp1319116"> </a><p class="pBody">
<b class="cBold">Before you begin</b>
</p>
<a name="wp1324634"> </a><p class="pBody">
These instructions assume you are already editing a message flow in the <b class="cBold">Edit Message Flow</b> page, as explained in <a href="javascript:WWHClickedPopup('consolehelp', 'proxyserviceCreateEditViewMessageFlows.html');" onMouseOver="WWHShowPopup('consolehelp', 'proxyserviceCreateEditViewMessageFlows.html', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Creating, Editing, and Viewing Message Flows</a>.
</p>
<a name="wp1324638"> </a><p class="pBody">
<b class="cBold">To add Dynamic Routing to a Route Node</b>
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp1319122"> </a><li>Navigate to where you want to add the action, as described in <a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsAddAction.html');" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsAddAction.html', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();"><span class="cHyperlink">
Adding and Editing Actions in Message Flows</span></a>.</li>
<a name="wp1319127"> </a><li>Click the <b class="cBold">Route Node </b>icon, then click <b class="cBold">Edit</b> <b class="cBold">Route</b>. The <b class="cBold">Edit Stage Configuration</b> page is displayed.</li>
<a name="wp1331398"> </a><li>Click the <b class="cBold">Add an Action </b>icon, then select <span style="font-weight: bold">Communicatio</span><b style="font-weight: bold" class="cBold">n &gt; </b><span style="font-weight: bold">D</span>y<b class="cBold">namic Routing</b>.</li>
<a name="wp1319132"> </a><li>Click <b class="cBold">&lt;Expression&gt;</b>. The <b class="cBold">XQuery Expression Editor </b>is displayed. </li>
<a name="wp1319133"> </a><li>In the <span style="font-weight: bold">XQuery Expression Editor</span>, enter an Xquery expression, the result of which is similar to: </li>
<a name="wp1319134"> </a><p class="pBodyRelative">
<code class="cCode">&lt;ctx:route&gt;</code>
</p>
<a name="wp1319135"> </a><p class="pBodyRelative">
<code class="cCode">&#160;&#160;&#160;&#160;&lt;ctx:service isProxy=&#39;true&#39;&gt;{$service}&lt;/ctx:service&gt;</code>
</p>
<a name="wp1319136"> </a><p class="pBodyRelative">
&#160;&#160;&#160;&#160;&lt;ctx:operation&gt;<code class="cCode">{$operation}</code>&lt;/ctx:operation&gt;
</p>
<a name="wp1319137"> </a><p class="pBodyRelative">
<code class="cCode">&lt;/ctx:route&gt;</code>
</p>
<a name="wp1319138"> </a>
<table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>If a proxy service is being invoked, <code class="cCode">isProxy</code> attribute should be set to true. If a business service is being invoked, set <code class="cCode">isProxy</code> to false.</td>
</tr>
</table>
<a name="wp1319139"> </a>
<table class="ListNote">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>- The service name is the fully qualified service name. </td>
</tr>
</table>
<a name="wp1319140"> </a>
<table class="ListNote">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>- The operation element is optional</td>
</tr>
</table>
<a name="wp1319141"> </a><li>Click <b class="cBold">Save</b>.</li>
<a name="wp1319142"> </a><li>In the <b class="cBold">Request Actions</b> field, click <b class="cBold">Add an Action </b>to add an action, then select an action that you want to associate with the service. You can add more than one action. To learn more about the type of actions you want to add, see the table of actions in <a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsAddAction.html');" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsAddAction.html', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();"><span class="cHyperlink">
Adding and Editing Actions in Message Flows</span></a>.</li>
<a name="wp1319146"> </a><li>In the <b class="cBold">Response Actions</b> field, click <b class="cBold">Add an Action</b> to add an action, then select an action that you want to associate with the service. You can add more than one action. To learn more about the type of actions you want to add, see the table of actions in <a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsAddAction.html');" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsAddAction.html', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();"><span class="cHyperlink">
Adding and Editing Actions in Message Flows</span></a>.</li>
<a name="wp1319150"> </a><li>Click <b class="cBold">Save</b>.</li>
<a name="wp1319151"> </a><li>On the <b class="cBold">Edit Message Flow</b> page, continue to construct the message flow, as described in <a href="javascript:WWHClickedPopup('consolehelp', 'proxyserviceCreateEditViewMessageFlows.html');" onMouseOver="WWHShowPopup('consolehelp', 'proxyserviceCreateEditViewMessageFlows.html', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Creating, Editing, and Viewing Message Flows</a>.</li>
<a name="wp1319155"> </a><li>Click <b class="cBold">Save</b> to commit the updates in the current session. </li>
<a name="wp1328364"> </a><li>To end the session and deploy the configuration to the run time, click <span style="font-weight: bold">Activate</span> under <span style="font-weight: bold">Change Center</span>. </li>
</ol></div>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>


<script type="text/javascript" language="JavaScript1.2">
   <!--
function WWHDefineBEALogoLink()
{
return "http://www.bea.com";
}
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
