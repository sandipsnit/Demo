<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="" />
<meta name="LOC_US_CHANGE" content="" />
<meta name="LOC_US_SRCFILE" content="" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WWH_Template_V1.0" />
    <meta name="LASTUPDATED" content="03/06/10 00:59:13" />
    <title>Message Handling page</title>
    <link rel="StyleSheet" href="edocs.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");

if (top.location == self.location )
    self.location = "index.html?href=proxyserviceCreateProxyServiceMessageContentHandlingPage.html"
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>

  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

<a name="wp1316340"> </a><h3 class="pHeading2">
Message Handling page
</h3>
<a name="wp1318891"> </a><p class="pBody">
The <b class="cBold">Create/Edit a Proxy Service - </b><b class="cBold">Message Handling </b>page is one in a series of pages for creating and editing proxy services, as described in <a href="javascript:WWHClickedPopup('consolehelp', 'proxyserviceCreateAndConfigureProxyServices.html');" onMouseOver="WWHShowPopup('consolehelp', 'proxyserviceCreateAndConfigureProxyServices.html', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();"><span class="cHyperlink">
Creating and Configuring Proxy Services</span></a> and <a href="javascript:WWHClickedPopup('consolehelp', 'proxyserviceViewandModifyProxyServices.html');" onMouseOver="WWHShowPopup('consolehelp', 'proxyserviceViewandModifyProxyServices.html', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();"><span class="cHyperlink">
Editing Proxy Service Configurations</span></a>.
</p>
<a name="wp1318901"> </a><p class="pBody">
Use this page to specify whether the proxy service should stream message content, how the service is to decode request messages received and encode response messages sent, and whether the proxy service should stream MIME attachments instead of buffering the attachment contents in memory.
</p>
<a name="wp1318860"> </a><p class="pBody">
Using this page, you can enable the proxy service to stream message content rather than storing it in memory. You can also enable the proxy service to decode and parse inbound messages in MTOM/XOP format and to send responses using the MTOM/XOP format, when appropriate. SOAP Message Transmission Optimization Mechanism (MTOM) is a method of sending binary data to and from Web services. MTOM uses XML-binary Optimized Packaging (XOP) to transfer the binary data.
</p>
<a name="wp1318045"> </a><p class="pBody">
Using this page, you can also enable the proxy service to store MIME attachment content to a disk file and then process the data in a streaming fashion without buffering the attachment contents in memory. This enables the proxy service to process large attachments robustly and efficiently.
</p>
<a name="wp1316368"> </a><p class="pBody">
<a href="javascript:WWHClickedPopup('consolehelp', 'proxyserviceCreateProxyServiceMessageContentHandlingPage.html#wp1316375');" onMouseOver="WWHShowPopup('consolehelp', 'proxyserviceCreateProxyServiceMessageContentHandlingPage.html#wp1316375', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();"><span class="cHyperlink">
Table&#160;19-17</span></a> describes how to use the <b class="cBold">Create/Edit a Proxy Service - </b><b class="cBold">Message Handling </b>page.
</p>
<a name="wp1316419"> </a><p class="pBodyRelative">
</p>
<div align="left">
<table class="table" border="1" cellpadding="3" cellspacing="0" id="wp1316375table1316369">
  <caption><a name="wp1316375"> </a>
Table 19-17  Create/Edit a Proxy Service - Message Handling Page&#160;


</caption>
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><a name="wp1316379"> </a><div class="pCellHeading">
Option
</div>
</th>
    <th scope="col"><a name="wp1316381"> </a><div class="pCellHeading">
To create or edit...
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1325326"> </a><div class="pCellBody">
Transaction Required
</div>
</td>
    <td class="table" scope="row"><a name="wp1325337"> </a><div class="pCellBody">
Select this option to ensure Oracle Service Bus executes the proxy service message flow in the context of a transaction. If a global transaction already exists, the transport provider propagates it in the request (even if you do not select this option). If no global transaction exists, the message flow run time starts a transaction. If the message flow run time starts a transaction, the transaction context begins before the service configuration is validated or run (for example, security checking or WS-I validation), and before message flow execution, ensuring that all processing and execution occurs in the transaction context.
</div>
<a name="wp1325339"> </a><div class="pCellBody">
If the message flow run time starts a transaction, quality of service is exactly-once. However, if Service Callouts or Publish actions have the outbound quality of service parameter set to best-effort (the default), Oracle Service Bus executes those actions outside of the transaction context. To have Oracle Service Bus execute those actions in the same request transaction context, set quality of service on those actions to exactly-once.
</div>
<a name="wp1325341"> </a><div class="pCellBody">
The service maintains its messaging pattern (synchronous, asynchronous, one-way) regardless of the setting on this option.
</div>
<a name="wp1325343"> </a><div class="pCellBody">
For transaction timeouts, the global transaction timeout value configured in the Oracle WebLogic Server Console applies.
</div>
<a name="wp1325345"> </a><div class="pCellBody">
<b class="cBold">Exceptions in Transactions</b>
</div>
<a name="wp1325347"> </a><div class="pCellBody">
Oracle Service Bus invokes the system error handler for failed transactions. You cannot catch failed transaction exceptions in a user-configured error handler. For synchronous patterns, a transaction exception is returned through the response. For asynchronous patterns, where the transaction is designed to be committed in the request, the exception is sent back on the request thread.
</div>
<a name="wp1325328"> </a><div class="pCellBody">
Note that in asynchronous patterns, an error in the response that occurs after transaction committal in the request does not affect the transaction.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1325330"> </a><div class="pCellBody">
Same Transaction for Response
</div>
</td>
    <td class="table" scope="row"><a name="wp1325432"> </a><div class="pCellBody">      This option applies only to one-way and asynchronous messaging patterns.      <br />
      <br />
      If you select this option, Oracle Service Bus propagates the transaction context from the request thread to the response thread.
      </div>
<a name="wp1325434"> </a><div class="pCellBody">
If you select this option, the message pattern becomes synchronous automatically, regardless of the initial message pattern setting (such as asynchronous or one-way).
</div>
<a name="wp1325436"> </a><div class="pCellBody">
You would not use this option, for example, if the business service in the request required a transaction committal before sending the response, such as in a one-way pattern.
</div>
<a name="wp1325332"> </a><div class="pCellBody">
For transaction timeouts, the global transaction timeout value configured in the Oracle WebLogic Server Console applies.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1318800"> </a><div class="pCellBody">
Content Streaming
</div>
</td>
    <td class="table" scope="row"><a name="wp1318803"> </a><div class="pCellBody">
Select this option to stream message content rather than store it in memory.
</div>
<a name="wp1318804"> </a><div class="pCellBody">
Select the <b class="cBold">Enabled</b> check box and choose the following:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1318829"> </a><li>Whether to buffer the intermediate content in memory (<b class="cBold">Memory Buffer</b>) or to a disk file (<b class="cBold">Disk Buffer</b>)</li>
<a name="wp1318835"> </a><li>Whether to enable <b class="cBold">Compression</b></li>
</ul></div>
<a name="wp1318808"> </a><div class="pCellBody">
For more information, see &quot;Streaming body Content&quot; in the <em class="cEmphasis">Oracle Fusion Middleware Administrator&#39;s Guide for Oracle Service Bus</em> at <span class="cHyperlink">
<a href="http://www.oracle.com/pls/as1111/lookup?id=OSBAG314" target="_window">http://www.oracle.com/pls/as1111/lookup?id=OSBAG314</a></span>.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1316595"> </a><div class="pCellBody">
XOP/MTOM Support
</div>
</td>
    <td class="table" scope="row"><a name="wp1316920"> </a><div class="pCellBody">
Oracle Service Bus supports XOP/MTOM using the following transports:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1316921"> </a><li>HTTP/S</li>
<a name="wp1316922"> </a><li>Local</li>
<a name="wp1316779"> </a><li>SB</li>
</ul></div>
<a name="wp1316896"> </a><div class="pCellBody">
Select the <b class="cBold">Enabled</b> check box to enable the proxy service to decode and parse inbound messages in MTOM/XOP format and to send responses using the MTOM/XOP format, when appropriate. Note that this option is disabled for imported proxy services that are based on previous release configurations.
</div>
<a name="wp1316995"> </a><div class="pCellBody">
If XOP/MTOM Support is enabled, select how to handle binary data in the $header and $body message context variables from among the following options:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1317024"> </a><li><b class="cBold">Include Binary Data by Reference</b>: (Default) In an inbound request message, replace xop:Include elements with ctx:binary-content elements when setting up the $header and $body message context variables.</li>
<a name="wp1317027"> </a><li><b class="cBold">Include Binary Data by Value</b>: In an inbound request message, replace xop:Include elements with Base64-encoded text versions of corresponding binary data when setting up the $header and $body message context variables.</li>
</ul></div>
<a name="wp1316786"> </a><div class="pCellBody">
Use Include Binary Data by Reference when you need direct access to binary data, for example to pass data to a Java callout or Message Format Language (MFL) transform.
</div>
<a name="wp1317140"> </a><div class="pCellBody">
Use Include Binary Data by Value in the following cases:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1317161"> </a><li>To bridge between MTOM and non-MTOM services. For example, consider an MTOM-enabled proxy service that receives a request that is then routed to a non-MTOM-enabled service. You could use this option to comply with existing standards for sending binary data in XML in Base64-encoded form.</li>
<a name="wp1316787"> </a><li>To validate the contents of the message against an XML schema that requires a base64binary element to be used in place of binary data</li>
</ul></div>
<a name="wp1317000"> </a><div class="pCellBody">
Note that if XOP/MTOM Support is enabled for a proxy service, it is not required that every inbound message be in the MTOM format. Instead, this setting specifies that when an MTOM-formatted message arrives, the proxy service should handle it accordingly. Note also that when proxy services not enabled for XOP/MTOM Support receive an MTOM-formatted message, the service rejects the message and issues a runtime error.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1316597"> </a><div class="pCellBody">
Attachments
</div>
</td>
    <td class="table" scope="row"><a name="wp1317826"> </a><div class="pCellBody">
Oracle Service Bus supports streaming MIME attachments using the following transports:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1317827"> </a><li>HTTP/S</li>
<a name="wp1317828"> </a><li>Local (when chained through an HTTP proxy with streaming attachments enabled)</li>
</ul></div>
<a name="wp1317830"> </a><div class="pCellBody">
Select the <b class="cBold">Page Attachments to Disk</b> check box to enable the proxy service to stream MIME attachments. When enabled for HTTP proxy services, the option applies to proxy service inbound request messages.
</div>
<a name="wp1317794"> </a><div class="pCellBody">
Note that if you select XOP/MTOM Support, the Attachments option is only available if you choose the <b class="cBold">Include Binary Data by Reference</b> option under XOP/MTOM Support. Note also that payloads that contain attachments must conform to RFC 822. Specifically, lines containing Internet headers need to be terminated with CRLF (carriage return line feed).
</div>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">

</p>
<a name="wp1316420"> </a><p class="pBody">
<b class="cBold">After you finish</b>
</p>
<a name="wp1316423"> </a><p class="pBody">
Click <b class="cBold">Next</b> to review and save this configuration on the <b class="cBold">Create/Edit a Proxy Service - </b><a href="javascript:WWHClickedPopup('consolehelp', 'proxyserviceCreateProxyServiceSummaryPage.html');" onMouseOver="WWHShowPopup('consolehelp', 'proxyserviceCreateProxyServiceSummaryPage.html', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();"><span class="cHyperlink">
Summary page</span></a>.
</p>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>


<script type="text/javascript" language="JavaScript1.2">
   <!--
function WWHDefineBEALogoLink()
{
return "http://www.bea.com";
}
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
