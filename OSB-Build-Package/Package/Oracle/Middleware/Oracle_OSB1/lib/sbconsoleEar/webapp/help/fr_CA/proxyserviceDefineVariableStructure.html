<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="" />
<meta name="LOC_US_CHANGE" content="" />
<meta name="LOC_US_SRCFILE" content="" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WWH_Template_V1.0" />
    <meta name="LASTUPDATED" content="03/06/10 00:59:27" />
    <title>Creating Variable Structures in the XQuery Editors</title>
    <link rel="StyleSheet" href="edocs.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");

if (top.location == self.location )
    self.location = "index.html?href=proxyserviceDefineVariableStructure.html"
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>

  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

<a name="wp1260349"> </a><h2 class="pHead1Split">
Creating Variable Structures in the XQuery Editors
</h2>
<a name="wp1278030"> </a><p class="pBody">
The <b class="cBold">Variable Structures</b> palette in the XQuery and XPath editors displays graphical representations of the contents of variables. It includes by default the built-in message context variables <code class="cCode">attachments</code>, <code class="cCode">body</code>, <code class="cCode">header</code>, <code class="cCode">outbound</code>, and <code class="cCode">inbound</code>. 
</p>
<a name="wp1278039"> </a><p class="pBody">
Each variable structure mapping entry has a label and maps a variable or variable path to one or more structures. The scope of these mappings is a stage or a route node.
</p>
<a name="wp1278031"> </a><p class="pBody">
You can also declare your own variable structures, based on:
</p>
<div class="pSmartList1Bullet"><ul class="pSmartList1Bullet">
<a name="wp1278032"> </a><li>XML types, including:</li>
<div class="pSmartList2Bullet"><ul class="pSmartList2Bullet">
<a name="wp1277978"> </a><li>Schema elements</li>
<a name="wp1277982"> </a><li>WSDL elements</li>
<a name="wp1277991"> </a><li>Schema types</li>
<a name="wp1277992"> </a><li>WSDL types</li>
<a name="wp1277993"> </a><li>MFLs</li>
</ul></div>
<a name="wp1277977"> </a><li>Service interfaces</li>
<a name="wp1277996"> </a><li>Simple types (string or any XML)</li>
</ul></div>
<a name="wp1277968"> </a><p class="pBody">
You can use this feature directly for all user-defined variables, as well as <code class="cCode">$inbound</code>, <code class="cCode">$outbound</code>, and <code class="cCode">$fault</code>. However, you cannot use it directly to access XML attachments in <code class="cCode">$attachments</code>, headers in <code class="cCode">$header</code>, or documents and RPC parameters in <code class="cCode">$body</code>, with one exception- you can use it directly to access documents and parameters in <code class="cCode">$body</code> for request messages received by a WSDL proxy service.
</p>
<a name="wp1268226"> </a><p class="pBody">
<b class="cBold">Before you begin</b>
</p>
<a name="wp1276631"> </a><p class="pBody">
These instructions assume you are creating or editing an expression in the <b class="cBold">XQuery Expression Editor</b>, <b class="cBold">XQuery Condition Editor</b>, or <b class="cBold">XPath Expression Editor</b>, as described in <a href="javascript:WWHClickedPopup('consolehelp', 'proxyservicesCreatingAndEditingInlineExpressions.html');" onMouseOver="WWHShowPopup('consolehelp', 'proxyservicesCreatingAndEditingInlineExpressions.html', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();"><span class="cHyperlink">
Creating and Editing Inline XQuery and XPath Expressions</span></a>. 
</p>
<a name="wp1230207"> </a><p class="pBody">
<b class="cBold">To create a variable structure:</b>
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp1261427"> </a><li>Select <b class="cBold">Variable Structures</b>. </li>
<a name="wp1262583"> </a><li>In the <b class="cBold">Variable Structures</b> palette, click <b class="cBold">Add New Structure</b>. </li>
<a name="wp1268248"> </a><li>Continue with any of the tasks listed in <a href="javascript:WWHClickedPopup('consolehelp', 'proxyserviceDefineVariableStructure.html#wp1268252');" onMouseOver="WWHShowPopup('consolehelp', 'proxyserviceDefineVariableStructure.html#wp1268252', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();"><span class="cHyperlink">
Table&#160;22-3</span></a>, below.</li>
<a name="wp1268334"> </a><p class="pBodyRelative">
<div align="left">
<table class="table" border="1" cellpadding="3" cellspacing="0" id="wp1268252table1268249">
  <caption><a name="wp1268252"> </a>
Table 22-3  Create a New Variable Structure&#160;


</caption>
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><a name="wp1268256"> </a><div class="pCellHeading">
To...
</div>
</th>
    <th scope="col"><a name="wp1268258"> </a><div class="pCellHeading">
Complete these steps...
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1268260"> </a><div class="pCellBody">
Create a variable structure that maps a variable to an XML Schema type
</div>
</td>
    <td class="table" scope="row"><div class="pSmartList1Table"><ol type="1" class="pSmartList1Table">
<a name="wp1268262"> </a><li>Select <b class="cBold">XML Type</b> at the top of the <b class="cBold">Variable Structures</b> palette, if it is not already selected.</li>
<a name="wp1268263"> </a><li>In the <b class="cBold">Structure Label</b> field, enter a display name for the variable you want to create. This display name enables you to give a meaningful name to the structure so you can recognize it at design time but it has no impact at run time.</li>
<a name="wp1268264"> </a><li>In the <b class="cBold">Structure Path</b> field, enter the path of the variable structure at run time. The path must begin with <code class="cCode">$</code>.</li>
<a name="wp1268265"> </a><li>Under the <b class="cBold">Type</b> field, select the appropriate radio button, then select <b class="cBold">Schema Type</b>.</li>
<a name="wp1268266"> </a><li>Click <b class="cBold">Browse</b>. The <b class="cBold">XML Schema Browser</b> is displayed. Select an XML Schema from the list, select an XML Schema type from the Definitions pane, then click <b class="cBold">Submit</b>.</li>
<a name="wp1268267"> </a><li>Click <b class="cBold">Add</b> to create the variable structure.</li>
</ol></div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1268269"> </a><div class="pCellBody">
Create a variable structure that maps a variable to a WSDL type
</div>
</td>
    <td class="table" scope="row"><div class="pSmartList1Table"><ol type="1" class="pSmartList1Table">
<a name="wp1269612"> </a><li>Select <b class="cBold">XML Type</b> at the top of the <b class="cBold">Variable Structures</b> palette, if it is not already selected.</li>
<a name="wp1268272"> </a><li>In the <b class="cBold">Structure Label</b> field, enter a display name for the variable you want to create. This display name enables you to give a meaningful name to the structure so you can recognize it at design time but it has no impact at run time.</li>
<a name="wp1268273"> </a><li>In the <b class="cBold">Structure Path</b> field, enter the path of the variable structure at run time. </li>
<a name="wp1268274"> </a><li>Under the <b class="cBold">Type</b> field, select the appropriate radio button, then select <b class="cBold">WSDL Type</b>.</li>
<a name="wp1268275"> </a><li>Click <b class="cBold">Browse</b>. The <b class="cBold">WSDL Browser</b> is displayed. Select a WSDL from the list of WSDLs, select a WSDL type from the Definitions pane, then click <b class="cBold">Submit</b>.</li>
<a name="wp1268276"> </a><li>Click <b class="cBold">Add</b> to create the variable structure.</li>
</ol></div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1268278"> </a><div class="pCellBody">
Create a variable structure that maps a variable to an XML Schema element
</div>
</td>
    <td class="table" scope="row"><div class="pSmartList1Table"><ol type="1" class="pSmartList1Table">
<a name="wp1269620"> </a><li>At the top of the <b class="cBold">Variable Structures</b> palette, select <b class="cBold">XML Type</b>, if it is not already selected.</li>
<a name="wp1268281"> </a><li>In the <b class="cBold">Structure Label</b> field, enter a display name for the variable you want to create. This display name enables you to give a meaningful name to the structure so you can recognize it at design time but it has no impact at run time.</li>
<a name="wp1268282"> </a><li>In the <b class="cBold">Structure Path</b> field, enter the path of the variable structure at run time. </li>
<a name="wp1268283"> </a><li>Under the <b class="cBold">Type</b> field, select the appropriate radio button, then select <b class="cBold">Schema Element</b>.</li>
<a name="wp1268284"> </a><li>Click <b class="cBold">Browse</b>. The <b class="cBold">XML Schema Browser</b> is displayed. Select an XML Schema from the list, select an XML Schema type from the Definitions pane, then click <b class="cBold">Submit</b>.</li>
<a name="wp1268285"> </a><li>Click <b class="cBold">Add</b> to create the variable structure.</li>
</ol></div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1268287"> </a><div class="pCellBody">
Create a variable structure that maps a variable to a WSDL element
</div>
</td>
    <td class="table" scope="row"><div class="pSmartList1Table"><ol type="1" class="pSmartList1Table">
<a name="wp1269709"> </a><li>At the top of the <b class="cBold">Variable Structures</b> palette, select <b class="cBold">XML Type</b>, if it is not already selected.</li>
<a name="wp1268290"> </a><li>In the <b class="cBold">Structure Label</b> field, enter a display name for the variable you want to create. This display name enables you to give a meaningful name to the structure so you can recognize it at design time but it has no impact at run time.</li>
<a name="wp1268291"> </a><li>In the <b class="cBold">Structure Path</b> field, enter the path of the variable structure at run time.</li>
<a name="wp1268292"> </a><li>Under the <b class="cBold">Type</b> field, select the appropriate radio button, then select <b class="cBold">WSDL Element</b>.</li>
<a name="wp1268293"> </a><li>Click <b class="cBold">Browse</b>. The <b class="cBold">WSDL Browser</b> is displayed. Select a WSDL from the list of WSDLs, select a WSDL element from the Definitions pane, then click <b class="cBold">Submit</b>.</li>
<a name="wp1268294"> </a><li>Click <b class="cBold">Add</b> to create the variable structure.</li>
</ol></div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1268296"> </a><div class="pCellBody">
Create a variable structure that maps a variable to a child element
</div>
</td>
    <td class="table" scope="row"><div class="pSmartList1Table"><ol type="1" class="pSmartList1Table">
<a name="wp1269713"> </a><li>At the top of the <b class="cBold">Variable Structures</b> palette, select <b class="cBold">XML Type</b>, if it is not already selected.</li>
<a name="wp1268299"> </a><li>In the <b class="cBold">Structure Label</b> field, enter a display name for the variable you want to create. This display name enables you to give a meaningful name to the structure so you can recognize it at design time but it has no impact at run time.</li>
<a name="wp1268300"> </a><li>In the <b class="cBold">Structure Path</b> field, enter the path of the variable structure at run time. </li>
<a name="wp1268301"> </a><li>Under the <b class="cBold">Type</b> field, select the type of variable you want to create:</li>
<a name="wp1268302"> </a><p class="pTableListPara">
To create an XML Schema Element or WSDL Element variable, select the radio button associated with this option, then select <b class="cBold">Schema Element</b> or <b class="cBold">WSDL Element</b>.
</p>
<a name="wp1268303"> </a><p class="pTableListPara">
To create an MFL variable, select the radio button associated with this option, then select <b class="cBold">MFL</b>.
</p>
<a name="wp1268304"> </a><li>For the XML Schema, WSDL, or MFL, click <b class="cBold">Browse</b> to select an object from the list that the browser displays, then click <b class="cBold">Submit</b>. For example, select an MFL from a list of MFLs, then click <b class="cBold">Submit</b>.</li>
<a name="wp1268305"> </a><li>Select the <b class="cBold">Set as child</b> check box to set the element as a child of the structure being created.</li>
<a name="wp1268306"> </a><li>Click <b class="cBold">Add</b> to create the variable structure.</li>
</ol></div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1268308"> </a><div class="pCellBody">
Create a variable structure that uses an MFL resource
</div>
</td>
    <td class="table" scope="row"><div class="pSmartList1Table"><ol type="1" class="pSmartList1Table">
<a name="wp1269717"> </a><li>At the top of the <b class="cBold">Variable Structures</b> palette, select <b class="cBold">XML Type</b>, if it is not already selected.</li>
<a name="wp1268311"> </a><li>In the <b class="cBold">Structure Label</b> field, enter a display name for the variable you want to create. This display name enables you to give a meaningful name to the structure so you can recognize it at design time but it has no impact at run time.</li>
<a name="wp1268312"> </a><li>In the <b class="cBold">Structure Path</b> field, enter the path of the variable structure at run time. </li>
<a name="wp1268313"> </a><li>Under the <b class="cBold">Type</b> field, select the appropriate radio button, then click <b class="cBold">Browse</b>. The <b class="cBold">MFL Browser</b> is displayed. </li>
<a name="wp1268314"> </a><li>Select an MFL from the list of MFLs, then click <b class="cBold">Submit</b>.</li>
<a name="wp1268315"> </a><li>Click <b class="cBold">Add</b> to create the variable structure.</li>
</ol></div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1268317"> </a><div class="pCellBody">
Create a Service Interface variable structure
</div>
</td>
    <td class="table" scope="row"><div class="pSmartList1Table"><ol type="1" class="pSmartList1Table">
<a name="wp1269636"> </a><li>At the top of the <b class="cBold">Variable Structures</b> palette, select <b class="cBold">Service Interface</b>.</li>
<a name="wp1268320"> </a><li>In the <b class="cBold">Structure Label</b> field, enter a display name for the variable you want to create. This display name enables you to give a meaningful name to the structure so you can recognize it at design time but it has no impact at run time.</li>
<a name="wp1268321"> </a><li>In the <b class="cBold">Structure Path</b> field, the default is already set as <b class="cBold">$body</b>. You cannot change this field.</li>
<a name="wp1268322"> </a><li>In the <b class="cBold">WSDL Based Service</b> field, select the <b class="cBold">Service Browser</b> icon, select a service from the list of services the <b class="cBold">Service Browser</b> displays, then click <b class="cBold">Submit</b>.</li>
<a name="wp1268323"> </a><p class="pTableListPara">
The service you selected is displayed in the WSDL Based Service field.
</p>
<a name="wp1268324"> </a><li>In the <b class="cBold">Operation </b>field, select an operation or select <b class="cBold">None</b> to not include an operation.</li>
<a name="wp1268325"> </a><li>Click <b class="cBold">Add</b> to create the variable.</li>
</ol></div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1268327"> </a><div class="pCellBody">
Create a Simple variable structure
</div>
</td>
    <td class="table" scope="row"><div class="pSmartList1Table"><ol type="1" class="pSmartList1Table">
<a name="wp1269669"> </a><li>At the top of the <b class="cBold">Variable Structures</b> palette, select <b class="cBold">Simple Type</b>.</li>
<a name="wp1268330"> </a><li>In the <b class="cBold">Structure Label</b> field, enter a display name for the variable you want to create. This display name enables you to give a meaningful name to the structure so you can recognize it at design time but it has no impact at run time.</li>
<a name="wp1268331"> </a><li>In the <b class="cBold">Structure Name</b> field, enter a name for the variable structure you want to create.</li>
<a name="wp1268332"> </a><li>Under the <b class="cBold">Type</b> field, select <b class="cBold">String</b> or <b class="cBold">Any XML</b>.</li>
<a name="wp1268333"> </a><li>Click <b class="cBold">Add</b> to create the variable.</li>
</ol></div>
</td>
</tr>
</table>
</div>

</p>
</ol></div>
<a name="wp1268404"> </a><p class="pBody">
<b class="cBold">After you finish</b>
</p>
<a name="wp1268410"> </a><p class="pBody">
Continue as described in <a href="javascript:WWHClickedPopup('consolehelp', 'proxyservicesCreatingAndEditingInlineExpressions.html');" onMouseOver="WWHShowPopup('consolehelp', 'proxyservicesCreatingAndEditingInlineExpressions.html', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();"><span class="cHyperlink">
Creating and Editing Inline XQuery and XPath Expressions</span></a>.
</p>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>


<script type="text/javascript" language="JavaScript1.2">
   <!--
function WWHDefineBEALogoLink()
{
return "http://www.bea.com";
}
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
