<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="it" lang="it">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="" />
<meta name="LOC_US_CHANGE" content="" />
<meta name="LOC_US_SRCFILE" content="" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WWH_Template_V1.0" />
    <meta name="LASTUPDATED" content="03/06/10 00:59:23" />
    <title>Aggiunta di azioni per le intestazioni di trasporto</title>
    <link rel="StyleSheet" href="edocs.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");

if (top.location == self.location )
    self.location = "index.html?href=proxyactionsTransportHeadersAction.html"
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>

  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

<a name="wp1315156"> </a><h2 class="pHead1Split">
Aggiunta di azioni per le intestazioni di trasporto
</h2>
<a name="wp1315157"> </a><p class="pBody">
Utilizzare un'azione per le intestazioni di trasporto per impostare i valori di intestazione nei messaggi. 
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp1314356"> </a><li>Spostarsi nella posizione in cui si desidera aggiungere l'azione, come descritto in <a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsAddAction.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsAddAction.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">Aggiunta e modifica di azioni nei flussi di messaggi</span></a>.</li>
<a name="wp1314358"> </a><li>Fare clic sull'icona appropriata, quindi selezionare <b class="cBold">Aggiungi un'azione > Comunicazione</b> > <b class="cBold">Intestazioni di trasporto</b>.</li>
<a name="wp1329274"> </a><li>Dalla lista <b class="cBold">Imposta intestazioni di trasporto per</b> selezionare una delle opzioni riportate di seguito per specificare quali posizioni del contesto del messaggio devono essere modificate in fase di esecuzione.</li>
<div class="pSmartList2Bullet"><ul class="pSmartList2Bullet">
<a name="wp1329275"> </a><li><b class="cBold">Richiesta in uscita</b>: selezionare questa opzione per impostare i valori di intestazione per le richieste in uscita (i messaggi inviati da un servizio proxy nelle azioni di instradamento, pubblicazione o callout del servizio). Questo elemento di intestazione viene posizionato nel contesto del messaggio come indicato di seguito:</li>
<a name="wp1329329"> </a><p class="pBodyRelative">
<code class="cCode">$outbound/ctx:transport/ctx:request/tp:headers</code>
</p>
<a name="wp1329220"> </a><li><b class="cBold">Risposta in entrata</b>: selezionare questa opzione per impostare i valori di intestazione per le risposte in entrata (i messaggi di risposta inviati di nuovo dal servizio proxy ai client). Questo elemento di intestazione viene posizionato nel contesto del messaggio come indicato di seguito:</li>
<a name="wp1329356"> </a><p class="pBodyRelative">
<code class="cCode">$inbound/ctx:transport/ctx:response/tp:headers</code> 
</p>
</ul></div>
<a name="wp1274199"> </a><li>Facoltativamente, selezionare <b class="cBold">Passa tutte le intestazioni attraverso la pipeline</b> per passare tutte le intestazioni dal messaggio in entrata a quello in uscita o viceversa. Ogni intestazione nel set di origine delle intestazioni verrà copiata nel set di destinazione delle intestazioni, sovrascrivendo i valori esistenti nel set di destinazione delle intestazioni.</li>
<a name="wp1347954"> </a><p class="pBodyRelative">
Per informazioni sull'uso di questa opzione insieme all'opzione di passaggio specifica dell'intestazione, vedere "Configuring Transport Headers in Message Flows" in <em class="cEmphasis">Oracle Fusion Middleware Developer's Guide for Oracle Service Bus</em> all'indirizzo <span class="cHyperlink"> <a href="http://www.oracle.com/pls/as111170/lookup?id=OSBAG201" target="_window">http://www.oracle.com/pls/as111170/lookup?id=OSBAG201</a></span>.
</p>
<a name="wp1347956"> </a><li>Completare la procedura riportata di seguito per ogni intestazione che si desidera aggiungere.</li>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp1274206"> </a><li>Nella tabella <b class="cBold">Intestazioni di trasporto</b> fare clic su <b class="cBold">Aggiungi intestazione</b> per visualizzare i campi per la configurazione dell'intestazione.</li>
<a name="wp1274213"> </a><li>Specificare un'intestazione effettuando una delle operazioni riportate di seguito.</li>
<div class="pSmartList3Bullet"><ul class="SmartList3Bullet">
<a name="wp1316694"> </a><li>Dall'elenco a discesa nella colonna <b class="cBold">Nome</b> selezionare il nome di un'intestazione. La lista contiene tutti i nomi di intestazione predefiniti per il trasporto di destinazione, ad esempio <b class="cBold">Content-Type</b> per i trasporti HTTP, <b class="cBold">JMSCorrelationID </b>per i trasporti JMS e così via. </li>
<a name="wp1316711"> </a><li>Immettere il nome di un'intestazione nel campo <b class="cBold">Altro</b>. Se questo nome non corrisponde a una delle intestazioni predefinite per il trasporto di questo servizio, verrà convertito in un'intestazione utente come definito dalla specifica di trasporto.</li>
</ul></div>
<a name="wp1274215"> </a><li>Selezionare una delle opzioni nella colonna <b class="cBold">Azione</b> per specificare il modo in cui impostare il valore delle intestazioni.</li>
<a name="wp1274216"> </a><p class="pBodyRelative">
<b class="cBold">Imposta intestazione sull'espressione</b>
</p>
<a name="wp1274217"> </a><p class="pBodyRelative">
La selezione di questa opzione consente di utilizzare un'espressione XQuery o XSLT per impostare il valore dell'intestazione. L'espressione può essere semplice (ad esempio, "testo/xml") oppure un'espressione XQuery o XSLT complessa.
</p>
<a name="wp1274221"> </a><p class="pBodyRelative">
Poiché il layer di trasporto di Oracle Service Bus definisce la rappresentazione XML di tutte le intestazioni come valori di stringa, il risultato di qualsiasi espressione viene convertito in una stringa prima dell'impostazione del valore dell'intestazione. Per le espressioni che non restituiscono alcun valore, il valore dell'intestazione viene impostato su una stringa vuota. Non è possibile eliminare un'intestazione utilizzando un'espressione.
</p>
<a name="wp1274222"> </a>
<table class="ListNote">
<tr>
<td valign="top"><strong>Attenzione:</strong></td>
<td>non tutte le impostazioni di intestazione che è possibile specificare in questa azione vengono eseguite in fase di esecuzione. Per informazioni sulle intestazioni che è possibile impostare per un determinato trasporto e su quali di queste intestazioni impostate vengono eseguite in fase di esecuzione, vedere "Configuring Transport Headers in Message Flows" in <em class="cEmphasis">Oracle Fusion Middleware Developer's Guide for Oracle Service Bus</em> all'indirizzo <span class="cHyperlink"> <a href="http://www.oracle.com/pls/as111170/lookup?id=OSBAG201" target="_window">http://www.oracle.com/pls/as111170/lookup?id=OSBAG201</a></span>. </td>
</tr>
</table>
<a name="wp1274226"> </a><p class="pBodyRelative">
<b class="cBold">Elimina intestazione</b>
</p>
<a name="wp1274227"> </a><p class="pBodyRelative">
Specifica che l'intestazione viene rimossa dai metadati di richiesta o di risposta.
</p>
<a name="wp1274228"> </a><p class="pBodyRelative">
<b class="cBold">Copia intestazione da richiesta in entrata</b> (se si stanno impostando le intestazioni di trasporto per la richiesta in uscita)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oppure<br /><b class="cBold">Copia intestazione da risposta in uscita</b> (se si stanno impostando le intestazioni di trasporto per la risposta in entrata)
</p>
<a name="wp1274235"> </a><p class="pBodyRelative">
Specifica che questa intestazione viene copiata direttamente dall'intestazione corrispondente con lo stesso nome dal messaggio in entrata al messaggio in uscita e viceversa. Ad esempio, se si desidera impostare l'intestazione SOAPAction per una richiesta in uscita, la selezione dell'opzione <b class="cBold">Copia intestazione da richiesta in entrata</b> determinerà in fase di esecuzione la copia del valore dall'intestazione della richiesta SOAPAction di <code class="cCode">$inbound</code>. Nel caso di intestazioni di risposta in entrata, l'origine dell'intestazione da copiare corrisponde alle intestazioni di risposta di <code class="cCode">$outbound</code>. 
</p>
<a name="wp1274236"> </a><p class="pBodyRelative">
Se l'opzione <b class="cBold">Copia intestazione...</b> viene selezionata per un'intestazione che non esiste nell'origine, questa opzione viene ignorata e non viene eseguita alcuna azione nella destinazione per questa intestazione. 
</p>
<a name="wp1340228"> </a><p class="pBodyRelative">
Per informazioni sull'uso di questa opzione insieme all'opzione globale <b class="cBold">Passa tutte le intestazioni attraverso la pipeline</b>, vedere "Configuring Transport Headers in Message Flows" in <em class="cEmphasis">Oracle Fusion Middleware Developer's Guide for Oracle Service Bus</em> all'indirizzo <span class="cHyperlink"> <a href="http://www.oracle.com/pls/as111170/lookup?id=OSBAG201" target="_window">http://www.oracle.com/pls/as111170/lookup?id=OSBAG201</a></span>.
</p>
</ol></div>
<a name="wp1274241"> </a><li>Per aggiungere ulteriori intestazioni alla tabella, fare clic sull'icona <b class="cBold">Intestazione</b>, quindi fare clic su <b class="cBold">Aggiungi intestazione</b>. </li>
<a name="wp1274248"> </a><p class="pBodyRelative">
La tabella viene espansa per includere una riga aggiuntiva, che contiene un nuovo set di opzioni che consentono di configurare un'altra intestazione di trasporto. È possibile aggiungere il numero di intestazioni desiderato a questa tabella. Non è necessario ordinare le intestazioni nella tabella, poiché in fase di esecuzione gli spazi di nomi vengono dichiarati e gli elementi di intestazione vengono posizionati nell'ordine corretto durante la generazione dell'XML corrispondente.
</p>
</ol></div>
<a name="wp1326074"> </a><p class="pBody">
<b class="cBold">Al termine della procedura</b> 
</p>
<a name="wp1314160"> </a><p class="pBody">
Una volta completata la configurazione di questa azione, proseguire configurando altre azioni o salvando la configurazione, come descritto in <a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsAddAction.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsAddAction.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">Aggiunta e modifica di azioni nei flussi di messaggi</span></a>.
</p>
<p class="pBody">&nbsp;</p>
<blockquote>
  <h3>Impostazioni di cookie in intestazioni di trasporto HTTP in uscita</h3>
</blockquote>
<p>  È possibile impostare cookie nell'intestazione di trasporto di un flusso di messaggi HTTP nei modi riportati di seguito.</p>
<ul>
  <li>  Con un'espressione XML complessa (formato predefinito di Oracle Service Bus)</li>
  <li>Con un'espressione stringa (richiede l'opzione di avvio del server)  </li>
</ul>
<blockquote>
  <h4>Impostazione di un cookie come espressione XML complessa</h4>
</blockquote>
<p>  Per impostare un cookie utilizzando un'espressione XML complessa (formato predefinito di Oracle Service Bus), configurare il valore dell'intestazione Cookie HTTP nella richiesta in uscita utilizzando la sintassi riportata di seguito.</p>
<p>&lt;cookie-values xmlns="http://www.bea.com/wli/sb/transports/http"><br /> &lt;value>{fn:concat("cookie_name", "=", "cookie_value")}&lt;/value><br /> &lt;/cookie-values></p>
<blockquote>
  <h4>Impostazione di un cookie con un'espressione stringa</h4>
</blockquote>
<p>  Per impostare l'intestazione Cookie con una stringa nella richiesta in uscita, è necessario aggiungere l'opzione riportata di seguito al comando startWebLogic del dominio.</p>
<p>  -Dcom.bea.osb.http.cookieAsNoComplexElement=true</p>
<p>Dopo aver riavviato il server con questa opzione, è possibile impostare un'intestazione Cookie HTTP con un'espressione stringa. Ad esempio:<br /> $cookie_name = "cookie_value"</p>
<p class="pBody">&nbsp;</p>
<script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>


<script type="text/javascript" language="JavaScript1.2">
   <!--
function WWHDefineBEALogoLink()
{
return "http://www.bea.com";
}
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
