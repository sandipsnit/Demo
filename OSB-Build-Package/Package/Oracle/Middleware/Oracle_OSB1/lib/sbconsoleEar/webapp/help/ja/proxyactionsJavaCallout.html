<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="" />
<meta name="LOC_US_CHANGE" content="" />
<meta name="LOC_US_SRCFILE" content="" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WWH_Template_V1.0" />
    <meta name="LASTUPDATED" content="03/06/10 00:59:23" />
    <title>Javaコールアウト・アクションの追加</title>
    <link rel="StyleSheet" href="edocs.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");

if (top.location == self.location )
    self.location = "index.html?href=proxyactionsJavaCallout.html"
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <style type="text/css">
<!--
.style1 {font-family: "Courier New", Courier, monospace}
-->
    </style>
</head>

  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

<a name="wp1265748"> </a><h2 class="pHead1Split">
Javaコールアウト・アクションの追加
</h2>
<a name="wp1265749"> </a><p class="pBody">
メッセージ・フローからJavaメソッドまたはEJBビジネス・サービスを呼び出すには、Javaコールアウト・アクションを使用します。 
</p>
<a name="wp1325040"> </a><p class="pBody">
<b class="cBold">開始前</b>
</p>
<a name="wp1323999"> </a><p class="pBody">
次の手順は、<a href="javascript:WWHClickedPopup('consolehelp', 'proxyserviceCreateEditViewMessageFlows.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyserviceCreateEditViewMessageFlows.html', (document.all||document.getElementById||document.layers)?event:null);">メッセージ・フローの作成、編集および表示</a>の説明に従って、<b class="cBold">メッセージ・フローの編集</b>ページで、すでにメッセージ・フローを編集していることを前提としています。
</p>
<a name="wp1325044"> </a><p class="pBody">
<b class="cBold">Javaコールアウト・アクションを追加するには</b>
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp1314914"> </a><li><a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsAddAction.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsAddAction.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">メッセージ・フローでのアクションの追加と編集</span></a>の説明に従って、アクションを追加する場所に移動します。</li>
<a name="wp1314916"> </a><li>該当するアイコンをクリックして、<b class="cBold">「アクションの追加」→「メッセージ処理」→「Javaコールアウト」</b>を選択します。</li>
<a name="wp1268327"> </a><li><b class="cBold">「&lt;メソッド>」</b>をクリックします。<b class="cBold">JARの選択</b>ページが表示されます。リストからJARリソースを選択します。<b class="cBold">クラスとメソッドの選択</b>ページが表示されます。</li>
<a name="wp1268523"> </a><li>表示されたJavaクラスのリストで、必要なクラスの横にある+をクリックしてメソッドのリストを表示します。メソッドを選択して、<b class="cBold">「発行」</b>をクリックします。<b class="cBold">ステージの編集</b>ページに、次のようにJavaコールアウト・アクションが表示されます。</li>
<div class="pSmartList2Bullet"><ul class="pSmartList2Bullet">
<a name="wp1276962"> </a><li><b class="cBold">「&lt;メソッド>」</b>は手順2および3で選択したJavaメソッドの名前に置き換えられます。この名前は<b class="cBold">クラスとメソッドの選択</b>ページへのリンクです。このリンクをクリックして、Javaメソッドの選択内容を変更できます。</li>
<a name="wp1276968"> </a><p class="pBodyRelative">
メソッドは静的メソッドである必要があります。
</p>
<a name="wp1276963"> </a><li><b class="cBold">「パラメータ」</b>: Javaメソッドが必要とする各引数に対する<b class="cBold">XQuery式エディタ</b>ページへの<b class="cBold">「&lt;式>」</b>リンクが用意されています。それぞれのリンクに対するラベルは、引数のデータ型を示します。これは次のいずれかになります。 </li>
<div class="pSmartList3Bullet"><ul class="SmartList3Bullet">
<a name="wp1276919"> </a><li><code class="cCode">Java.lang.String</code> </li>
<a name="wp1276920"> </a><li>プリミティブ型および対応するクラス型(<code class="cCode">int</code>と<code class="cCode">java.lang.Integer</code>など)</li>
<a name="wp1276921"> </a><li><code class="cCode">java.lang.BigDecimal</code>および<code class="cCode">java.lang.BigInteger</code>(これらの型は、ラウンドオフ・エラーやオーバーフローが許容されない財務関連の計算で使用されます)</li>
<a name="wp1276922"> </a><li><code class="cCode">org.apache.xbeans.XmlObject</code>のみ(型指定されたXML Beanはなし)</li>
<a name="wp1276923"> </a><li><code class="cCode">byte[]</code> </li>
<a name="wp1276924"> </a><li><code class="cCode">java.lang.String[]</code>(入力のみ)</li>
<a name="wp1276925"> </a><li><code class="cCode">XmlObject [ ]</code>(入力のみ)</li>
<li class="cCode style1"><span id="mainframespan">javax.activation.DataSource</span></li>
</ul>
</div>
<a name="wp1276927"> </a>
<li><strong>「パラメータを参照として戻す」</strong>: このオプションにより、実際のタイプに関係なく、Javaコールアウト呼出しの戻り値は&lt;java-content ref="jcid">参照要素になります(jcidは、パイプライン・オブジェクト・リポジトリのオブジェクトに対するキーです)。「結果」値フィールドで、java-content参照を含む変数の名前を入力します。このオプションを使用すると、パススルーの指定、Javaコールアウトおよびインライン・アクションによるメッセージ・エンリッチメントの実行、またはJavaとJava以外のトランスポート間でのメッセージ変換を実行するパイプラインXMLの他、メッセージ・フローの参照オブジェクトを処理できます。詳細は、<em>Oracle Fusion Middleware Oracle Service Busの開発者ガイド</em>のメッセージでのJavaオブジェクトの送信および受信(<a href="http://www.oracle.com/pls/as111170/lookup?id=OSBDV1874" target="_window">http://www.oracle.com/pls/as111170/lookup?id=OSBDV1874</a>)を参照してください。</li>
<li><b class="cBold">「結果」</b>: 結果を割り当てる変数を入力する<b class="cBold">「結果」</b>フィールド。このフィールドに対するラベルは、結果のデータ型を示します。 </li>
<a name="wp1282298"> </a>
<table class="ListNote">
<tr>
<td valign="top"><strong>注意: </strong></td>
<td>結果がバイト配列(唯一戻される可能性のある配列)の場合は、バイナリ・コンテンツのXML要素が戻されます。 </td>
</tr>
</table>
<a name="wp1282299"> </a><li><b class="cBold">サービス・アカウントの付加</b>: <b class="cBold">「サービス・アカウント」</b>リンクでは、Javaメソッドに対するセキュリティ・コンテンツがある場合、オプションのサービス・アカウントを指定できます。セキュリティ・コンテンツとサービス・アカウントの詳細は、<a href="javascript:WWHClickedPopup('consolehelp', 'serviceAccounts.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'serviceAccounts.html', (document.all||document.getElementById||document.layers)?event:null);">サービス・アカウント</a>を参照してください。</li>
<a name="wp1276933"> </a><p class="pBodyRelative">
固定およびマップされたサービス・アカウントの場合、そのサービス・アカウントのユーザーID/パスワードはローカル・システムとJavaコールアウトに伝播されたセキュリティ・コンテキストで認証されます。<code class="cCode">passthru</code>の場合、セキュリティ・コンテキストはJavaコールアウトに伝播されます。(WS-Securityで)定義されている場合、このコンテキストは、メッセージ・レベルのコンテキストになります。そうでない場合は、トランスポート・レベルのコンテキストになります。 
</p>
</ul>
</div>
<a name="wp1276902"> </a><li><span style="font-weight: bold">「パラメータ」</span>で、<span style="font-weight: bold">「&lt;式>」</span>リンクをクリックします。<span style="font-weight: bold">XQuery式エディタ</span>・ページが表示されます。XQuery式エディタを使用して、Javaメソッドに必要な引数を提供します。<a href="javascript:WWHClickedPopup('consolehelp', 'proxyservicesCreatingAndEditingInlineExpressions.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyservicesCreatingAndEditingInlineExpressions.html', (document.all||document.getElementById||document.layers)?event:null);">インラインXQueryおよびXPath式の作成と編集</a>を参照してください。</li>
<a name="wp1270340"> </a><p class="pBodyRelative">
入力値の型が宣言されている入力引数の型と一致しない場合、Oracle Service Busは入力値を入力引数の宣言された型に自動的に型キャストします。たとえば、入力引数の宣言された型がJavaプリミティブ<code class="cCode">int</code>の場合、文字列値<code class="cCode">"123"</code>は整数<code class="cCode">123</code>に変換されます。 
</p>
<a name="wp1270484"> </a><li><b class="cBold">「結果」</b>フィールドで、Javaメソッドが戻した結果に対して、変数を割り当てます。</li>
<a name="wp1268739"> </a><li>Javaメソッドに対するセキュリティ・コンテキストがある場合は、チェック・ボックスを選択して、<b class="cBold">「サービス・アカウント」</b>をクリックします。<b class="cBold">サービス・アカウントの選択</b>ページが表示されます。リストから必要なサービス・アカウントを選択して、<b class="cBold">「発行」</b>をクリックします。</li>
</ol></div>
<a name="wp1314248"> </a><p class="pBody">
<b class="cBold">終了後</b>
</p>
<a name="wp1325051"> </a><p class="pBody">
このアクションの構成が完了した後、<a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsAddAction.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsAddAction.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">メッセージ・フローでのアクションの追加と編集</span></a>の説明に従って、その他のアクションを構成するか、または構成を保存して、続行します。
</p>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>


<script type="text/javascript" language="JavaScript1.2">
   <!--
function WWHDefineBEALogoLink()
{
return "http://www.bea.com";
}
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
