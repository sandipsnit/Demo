<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="pt_BR" lang="pt_BR">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="" />
<meta name="LOC_US_CHANGE" content="" />
<meta name="LOC_US_SRCFILE" content="" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WWH_Template_V1.0" />
    <meta name="LASTUPDATED" content="03/06/10 00:59:04" />
    <title>Página Configuração do Tratamento de Mensagens</title>
    <link rel="StyleSheet" href="edocs.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");

if (top.location == self.location )
    self.location = "index.html?href=bizSvcMessageContentHandlingConfigurationPage.html"
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>

  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

<a name="wp1141706"> </a><h3 class="pHeading2">
Página Configuração do Tratamento de Mensagens
</h3>
<a name="wp1163400"> </a><p class="pBody">
A página <b class="cBold">Criar/Editar um Serviço de Negócios </b><b class="cBold">C</b><b class="cBold">onfiguração do Tratamento</b> pertence a uma série de páginas para criação e edição de serviços de negócios, conforme descrito em <a href="javascript:WWHClickedPopup('consolehelp', 'businessServiceAddBusinessService.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'businessServiceAddBusinessService.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink"> Criando e Configurando Serviços de Negócios</span></a> e <a href="javascript:WWHClickedPopup('consolehelp', 'BusinessServiceViewandChangeBusinessServices.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'BusinessServiceViewandChangeBusinessServices.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink"> Editando Configurações do Serviço de Negócios</span></a>.
</p>
<a name="wp1163410"> </a><p class="pBody">
Use esta página para especificar como o Oracle Service Bus trata o conteúdo da mensagem. A <a href="javascript:WWHClickedPopup('consolehelp', 'bizSvcMessageContentHandlingConfigurationPage.html#wp1161154');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'bizSvcMessageContentHandlingConfigurationPage.html#wp1161154', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink"> Tabela 18-20</span></a> descreve as opções de tratamento de mensagens para serviços de negócios. Opções diferentes estão disponíveis para diferentes tipos de transporte.
</p>
<a name="wp1161198"> </a><p class="pBodyRelative">
</p>
<div align="left">
<table class="table" border="1" cellpadding="3" cellspacing="0" id="wp1161154table1161148">
  <caption><a name="wp1161154"> </a> Tabela 18-20 - Página Criar/Editar um Serviço de Negócios - Configuração do Tratamento de Mensagens


</caption>
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><a name="wp1161158"> </a><div class="pCellHeading">
Opção
</div>
</th>
    <th scope="col"><a name="wp1161160"> </a><div class="pCellHeading">
Para criar ou editar...
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1161325"> </a><div class="pCellBody">
Suporte XOP/MTOM
</div>
</td>
    <td class="table" scope="row"><a name="wp1161330"> </a><div class="pCellBody">
Esse recurso permite codifica mensagens de saída no formato MTOM/XOP. O MTOM (Message Transmission Optimization Mechanism) SOAP é um método de envio de dados binários de e para Web services. O MTOM usa o XOP (XML-binary Optimized Packaging) para transferir os dados binários.
</div>
<a name="wp1170343"> </a><div class="pCellBody">
O Oracle Service Bus suporta XOP/MTOM usando os seguintes transportes:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1161331"> </a><li>HTTP/S</li>
<a name="wp1161332"> </a><li>Local</li>
<a name="wp1161333"> </a><li>SB</li>
</ul></div>
<a name="wp1161334"> </a><div class="pCellBody">
Marque a caixa de seleção <b class="cBold">Ativado</b> para permitir que o serviço de negócios codifique mensagens de saída no formato MTOM/XOP. Observe que esta opção está desativada para serviços de negócios importados baseados em configurações de releases anteriores.
</div>
<a name="wp1161335"> </a><div class="pCellBody">
Se o Suporte XOP/MTOM estiver ativado, selecione como lidar com dados binários nas variáveis do contexto da mensagem $header e $body entre as seguintes opções:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1161336"> </a><li><b class="cBold">Incluir Dados Binários por Referência</b>: (Default) Em uma mensagem de solicitação de saída, substitua os elementos xop:Include por ctx:binary-content ao definir a variável de contexto da mensagem $body.</li>
<a name="wp1161337"> </a><li><b class="cBold">Incluir Dados Binários por Valor</b>: Em uma mensagem de solicitação de saída, substitua os elementos xop:Include por versões de texto com a codificação Base64 de dados binários correspondentes ao definir a variável de contexto da mensagem $body.</li>
</ul></div>
<a name="wp1161338"> </a><div class="pCellBody">
Observe que, se o Suporte XOP/MTOM for ativado para um serviço de negócios, não é obrigatório que cada mensagem de saída esteja no formato MTOM. Em vez disso, essa configuração especifica que o serviço de negócios é capaz de lidar com um payload MTOM. 
</div>
<a name="wp1161343"> </a><div class="pCellBody">
Como o Oracle Service Bus não suporta uma combinação de MTOM e SwA, o sistema emite um erro de run-time quando o Oracle Service Bus tenta despachar uma solicitação de saída para um serviço de negócios e ele é ativado para MTOM/XOP e a variável do contexto da mensagem $attachments é nula.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1161348"> </a><div class="pCellBody">
Anexos
</div>
</td>
    <td class="table" scope="row"><a name="wp1161702"> </a><div class="pCellBody">
O Oracle Service Bus suporta o fluxo de anexos de MIME usando o transporte HTTP/S.
</div>
<a name="wp1170317"> </a><div class="pCellBody">
Este recurso permite armazenar anexos de mensagens de resposta de saída em um arquivo de disco e depois processar os dados em forma de stream sem armazenar o conteúdo do anexo no buffer de memória. Isso permite que o serviço de negócios processe anexos grandes de forma avançada e eficiente.
</div>
<a name="wp1161705"> </a><div class="pCellBody">
Marque a caixa de seleção <b class="cBold">Anexos de Página em Disco</b> para permitir que o serviço de negócios dinamizem anexos em mensagens de resposta de saída.
</div>
<a name="wp1161706"> </a><div class="pCellBody">
Observe que, se você ativar o Suporte XOP/MTOM, a opção Anexos só estará disponível se você escolher a opção <b class="cBold">Incluir Dados Binários por Referência</b> em Suporte XOP/MTOM. Observe também que payloads que contêm anexos devem seguir o RFC 822. Especificamente, linhas contendo cabeçalhos da Internet precisam terminar com CRLF (retorno de carro, alimentação de linha).
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1170371"> </a><div class="pCellBody">
Armazenamento no Cache dos Resultados
</div>
</td>
    <td class="table" scope="row"><a name="wp1170395"> </a><div class="pCellBody">
Se você chamar serviços de negócios cujos resultados raramente mudam, o armazenamento no cache do resultado melhorará o desempenho do serviço de negócios retornando os resultados armazenados no cache para o cliente, em vez de chamar um serviço externo diretamente.
</div>
<a name="wp1170387"> </a><div class="pCellBody">
Para usar o armazenamento no cache do resultado de serviços de negócios, primeiro você deve ativá-lo globalmente, conforme descrito em <a href="javascript:WWHClickedPopup('consolehelp', 'configurationEnablingCachingGlobally.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'configurationEnablingCachingGlobally.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink"> Ativando Armazenamento no Cache do Resultado Globalmente</span></a>.
</div>
<a name="wp1170413"> </a><div class="pCellBody">
Configure o armazenamento dos resultados no cache na seção <b class="cBold">Configurações Avançadas</b> usando as seguintes diretrizes:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1170428"> </a><li>Selecione a opção <b class="cBold">Suportada</b>. Quando você faz isso, os campos restantes são ativados.</li>
<a name="wp1170468"> </a><li><b class="cBold">Namespaces de Expressão</b> - Ao usar expressões para configurar o armazenamento no cache do resultado, seja com a Expressão do Token de Cache, com o Tempo de Expiração ou com ambos, é possível informar os namespaces e prefixos correspondentes a serem usados nas expressões. Esse campo também permite exibir uma lista de namespaces existentes.</li>
<a name="wp1170474"> </a><li><b class="cBold">Expressão do Token de Cache</b> - O Oracle Service Bus usa chaves de cache para identificar os resultados armazenados no cache para recuperação ou preenchimento, e a parte do token de cache da chave do cache oferece o identificador exclusivo. É possível usar uma expressão - a Expressão do Token de Cache - para gerar a parte do token de cache da chave do cache para identificar exclusivamente um resultado armazenado no cache para o serviço de negócios.</li>
<a name="wp1170558"> </a><p class="pTableListPara">
Para gerar o token do cache a partir de um valor na solicitação (no fluxo de mensagens do serviço de proxy que chama o serviço de negócios), use uma expressão que obtém o valor do pipeline $body, $header, $operation ou $transportMetaData ($outbound/ctx:transport/ctx:request ou $outbound/ctx:transport/ctx:response). Por exemplo, é possível preencher o token do cache de um ID de cliente no $body da mensagem.
</p>
<a name="wp1170716"> </a><p class="pTableListPara">
A Expressão do Token de Cache deve resolver para uma String ou para o valor de conteúdo simples, como um atributo ou um elemento sem elementos-filho. Se a expressão for avaliada como nula ou causar um erro, os resultados não serão armazenados no cache.
</p>
<a name="wp1170883"> </a><p class="pTableListPara">
<b class="cBold">Observação</b>: Também é possível gerar o token de cache na solicitação, sem definir uma Expressão do Token de Cache na configuração do serviço de negócios. Para isso, inclua um valor em $outbound/ctx:transport/ctx:request/ctx:cache-token no pipeline do serviço de proxy. Qualquer valor nesse token de cache substitui a Expressão do Token de Cache na configuração do serviço de negócios.
</p>
<a name="wp1170477"> </a><li><b class="cBold">Tempo de Expiração</b> - O Tempo de Expiração, ou tempo de vida (TTL), determina quando uma entrada no cache de resultados do serviço de negócios é descarregada. Uma duração zero (0) significa nenhuma expiração. Uma duração negativa significa não armazenamento no cache. Selecione uma das seguintes opções:</li>
</ul></div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><div class="pSmartList1Bullet"><ul class="pSmartList1Bullet">
<div class="pSmartList2Bullet"><ul class="pSmartList2Bullet">
<a name="wp1171052"> </a><li><b class="cBold">Usar Default</b> - O default é o valor de atraso de expiração em <em class="cEmphasis">DOMAIN_HOME</em>/config/osb/coherence/osb-coherence-config.xml. O default é 5 minutos.</li>
<a name="wp1171053"> </a><li><b class="cBold">Duração</b> - Defina uma duração específica.</li>
<a name="wp1171054"> </a><li><b class="cBold">Expressão XQuery</b> - Como acontece com a definição do token de cache com uma expressão, é possível informar uma expressão XQuery que obtenha um valor do Tempo de Expiração da solicitação ou da resposta. Selecione <b class="cBold">Solicitação</b> ou <b class="cBold">Resposta</b>.<br /><br />Para gerar o tempo de expiração a partir de um valor na solicitação ou resposta, use uma expressão que obtenha o valor do $body, $header, $operation ou $transportMetaData ($outbound/ctx:transport/ctx:request ou $outbound/ctx:transport/ctx:response) do pipeline. Por exemplo, use um valor que você tenha definido no cabeçalho HTTP de Controle de Cache.<br /><br />O Tempo de Expiração deve resolver para um Número Inteiro (representando segundos), um XQuery dayTimeDuration (tipo XSD) ou o valor inteiro de conteúdo simples representando segundos, como um atributo ou um elemento sem elementos-filho. Se a expressão for avaliada como nula ou causar um erro, os resultados não serão armazenados no cache.<br /><br /><b class="cBold">Observação</b>: Também é possível gerar o tempo de expiração com base na solicitação, sem definir um Tempo de Expiração na configuração do serviço de negócios. Para fazer isso, inclua um valor em $outbound/ctx:transport/ctx:request/ctx:cache-ttl no pipeline do serviço de proxy. Qualquer valor no elemento cache-ttl substitui o Tempo de Expiração na configuração do serviço de negócios.</li>
</ul></div>
</ul></div>
<a name="wp1171056"> </a><div class="pCellBody">
Para obter uma descrição mais detalhada do armazenamento de resultados no cache, consulte "Improving Performance by Caching Business Service Results" no <em class="cEmphasis">Oracle Fusion Middleware Administrator's Guide for Oracle Service Bus</em> em <span class="cHyperlink"> <a href="http://www.oracle.com/pls/as111170/lookup?id=OSBAG170" target="_window">http://www.oracle.com/pls/as111170/lookup?id=OSBAG170</a></span>.
</div>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">

</p>
<a name="wp1144892"> </a><p class="pBody">
<b class="cBold">Depois de finalizar</b>
</p>
<a name="wp1144893"> </a><p class="pBody">
Clique em <b class="cBold">Próximo</b> para rever e salvar esta configuração na <b class="cBold">página Criar/Editar um Serviço de Negócios - </b><a href="javascript:WWHClickedPopup('consolehelp', 'bizSvcSummaryPage.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'bizSvcSummaryPage.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink"> Resumo</span></a>.
</p>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>


<script type="text/javascript" language="JavaScript1.2">
   <!--
function WWHDefineBEALogoLink()
{
return "http://www.bea.com";
}
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
