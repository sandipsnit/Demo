<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="pt_BR" lang="pt_BR">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="" />
<meta name="LOC_US_CHANGE" content="" />
<meta name="LOC_US_SRCFILE" content="" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WWH_Template_V1.0" />
    <meta name="LASTUPDATED" content="03/06/10 00:59:13" />
    <title>Página Tratamento de Mensagens</title>
    <link rel="StyleSheet" href="edocs.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");

if (top.location == self.location )
    self.location = "index.html?href=proxyserviceCreateProxyServiceMessageContentHandlingPage.html"
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>

  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

<a name="wp1316340"> </a><h3 class="pHeading2">
Página Tratamento de Mensagens
</h3>
<a name="wp1318891"> </a><p class="pBody">
A página <b class="cBold">Criar/Editar um Serviço de Proxy - Configuração do Transporte</b><b class="cBold">Tratamento de Mensagens</b> pertence a uma série de páginas para criação e edição de serviços de proxy, conforme descrito em <a href="javascript:WWHClickedPopup('consolehelp', 'proxyserviceCreateAndConfigureProxyServices.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyserviceCreateAndConfigureProxyServices.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink"> Criando e Configurando Serviços de Proxy</span></a> e <a href="javascript:WWHClickedPopup('consolehelp', 'proxyserviceViewandModifyProxyServices.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyserviceViewandModifyProxyServices.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink"> Editando Configurações do Serviço de Proxy</span></a>.
</p>
<a name="wp1318901"> </a><p class="pBody">
Use esta página para especificar se o serviço de proxy deve fazer stream do conteúdo da mensagem, como o serviço deve decodificar mensagens de solicitação recebidas e decodificar mensagens de resposta enviadas e se o serviço de proxy deve fazer stream dos anexos MIME, em vez de armazenar o conteúdo do anexo no buffer de memória.
</p>
<a name="wp1318860"> </a><p class="pBody">
Usando esta página, você pode ativar o serviço de proxy para fazer stream do conteúdo da mensagem em vez de armazená-lo na memória. Você também pode ativar o serviço de proxy para decodificar e fazer parse de mensagens de entrada no formato MTOM/XOP e enviar respostas usando o formato MTOM/XOP, quando apropriado. O MTOM (Message Transmission Optimization Mechanism) SOAP é um método de envio de dados binários de e para Web services. O MTOM usa o XOP (XML-binary Optimized Packaging) para transferir os dados binários.
</p>
<a name="wp1318045"> </a><p class="pBody">
Usando esta página, também é possível ativar o serviço de proxy para armazenar o conteúdo do anexo de MIME em um arquivo de disco e depois processar os dados em forma de stream sem armazenar o conteúdo do anexo no buffer de memória. Isso permite que o serviço de proxy processe anexos grandes de forma avançada e eficiente.
</p>
<a name="wp1316368"> </a><p class="pBody">
<a href="javascript:WWHClickedPopup('consolehelp', 'proxyserviceCreateProxyServiceMessageContentHandlingPage.html#wp1316375');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyserviceCreateProxyServiceMessageContentHandlingPage.html#wp1316375', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink"> Tabela&nbsp;19-17</span></a> descreve como usar a página <b class="cBold">Criar/Editar um Serviço de Proxy - </b><b class="cBold">Tratamento de Mensagens</b>.
</p>
<a name="wp1316419"> </a><p class="pBodyRelative">
</p>
<div align="left">
<table class="table" border="1" cellpadding="3" cellspacing="0" id="wp1316375table1316369">
  <caption><a name="wp1316375"> </a> Tabela 19-17 - Página Criar/Editar um Serviço de Proxy - Tratamento de Mensagens


</caption>
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><a name="wp1316379"> </a><div class="pCellHeading">
Opção
</div>
</th>
    <th scope="col"><a name="wp1316381"> </a><div class="pCellHeading">
Para criar ou editar...
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1325326"> </a><div class="pCellBody">
Transação Obrigatória
</div>
</td>
    <td class="table" scope="row"><a name="wp1325337"> </a><div class="pCellBody">
Selecione esta opção para garantir que o Oracle Service Bus execute o fluxo de mensagens do serviço de proxy no contexto de uma transação. Se uma transação global já existir, o provedor de transporte o propagará na solicitação (mesmo que você não selecione esta opção). Se nenhuma transação global existir, o run-time do fluxo de mensagens iniciará uma transação. Se o run-time do fluxo de mensagens iniciar uma transação, o contexto da transação será iniciado antes que a configuração do serviço seja validada ou executada (por exemplo, verificação de segurança ou validação WS-I), e antes da execução do fluxo de mensagens, garantindo que todo o processamento e execução ocorra no contexto da transação.
</div>
<a name="wp1325339"> </a><div class="pCellBody">
Se o run-time do fluxo de mensagens iniciar uma transação, a qualidade do serviço será exatamente uma vez. No entanto, se as Chamadas de Serviço ou ações de Publicação tiverem o parâmetro da qualidade de serviço de saída definido como melhor esforço (o default), o Oracle Service Bus executará essas ações fora do contexto da transação. Para que o Oracle Service Bus execute essas ações no mesmo contexto da transação de solicitação, defina a qualidade do serviço nessas ações como exatamente uma vez.
</div>
<a name="wp1325341"> </a><div class="pCellBody">
O serviço mantém seu padrão de mensagens (síncrono, assíncrono, unilateral) independente da definição nesta opção.
</div>
<a name="wp1325343"> </a><div class="pCellBody">
Para timeouts de transações, o valor de timeout da transação global configurado na Console do Oracle WebLogic Server é aplicável.
</div>
<a name="wp1325345"> </a><div class="pCellBody">
<b class="cBold">Exceções em Transações</b>
</div>
<a name="wp1325347"> </a><div class="pCellBody">
O Oracle Service Bus chamada o handler de erro do sistema para transações com falha. Não é possível capturar exceções de transação com falha em um handler de erro configurado pelo usuário. Para padrões síncronos, uma exceção de transação é retornada por meio da resposta. Para padrões assíncronos, em que a transação é criada para ser confirmada na solicitação, a exceção é enviada de volta no thread de solicitação.
</div>
<a name="wp1325328"> </a><div class="pCellBody">
Observe que, em padrões assíncronos, um erro na resposta que ocorre após a confirmação da transação na solicitação não afeta a transação.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1325330"> </a><div class="pCellBody">
Mesma Transação para Resposta
</div>
</td>
    <td class="table" scope="row"><a name="wp1325432"> </a><div class="pCellBody">      Esta opção só se aplica a padrões de mensagens unidirecionais e assíncronas. <br /> <br /> Se você selecionar esta opção, o Oracle Service Bus propagará o contexto da transação do thread da solicitação até o thread de resposta.
      </div>
<a name="wp1325434"> </a><div class="pCellBody">
Se você selecionar esta opção, o padrão de mensagem se tornará síncrono automaticamente, independe da definição do padrão de mensagem inicial (como assíncrono ou unilateral).
</div>
<a name="wp1325436"> </a><div class="pCellBody">
Você não usaria esta opção, por exemplo, se o serviço de negócios na solicitação exigisse uma confirmação de transação antes do envio da resposta, como em um padrão unilateral.
</div>
<a name="wp1325332"> </a><div class="pCellBody">
Para timeouts de transações, o valor de timeout da transação global configurado na Console do Oracle WebLogic Server é aplicável.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1318800"> </a><div class="pCellBody">
Fluxo de Conteúdo
</div>
</td>
    <td class="table" scope="row"><a name="wp1318803"> </a><div class="pCellBody">
Selecione esta opção para fazer stream do conteúdo da mensagem, em vez de armazená-lo na memória.
</div>
<a name="wp1318804"> </a><div class="pCellBody">
Marque a caixa de seleção <b class="cBold">Ativado</b> e escolha o seguinte:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1318829"> </a><li>Se armazenar no buffer o conteúdo intermediário na memória (<b class="cBold">Buffer de Memória</b>) ou em um arquivo de disco (<b class="cBold">Buffer de Disco</b>)</li>
<a name="wp1318835"> </a><li>Se ativar a <b class="cBold">Compactação</b></li>
</ul></div>
<a name="wp1318808"> </a><div class="pCellBody">
Para obter mais informações, consulte "Streaming body Content" no <em class="cEmphasis">Oracle Fusion Middleware Administrator's Guide for Oracle Service Bus</em> em <span class="cHyperlink"> <a href="http://www.oracle.com/pls/as111170/lookup?id=OSBAG314" target="_window">http://www.oracle.com/pls/as111170/lookup?id=OSBAG314</a></span>.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1316595"> </a><div class="pCellBody">
Suporte XOP/MTOM
</div>
</td>
    <td class="table" scope="row"><a name="wp1316920"> </a><div class="pCellBody">
O Oracle Service Bus suporta XOP/MTOM usando os seguintes transportes:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1316921"> </a><li>HTTP/S</li>
<a name="wp1316922"> </a><li>Local</li>
<a name="wp1316779"> </a><li>SB</li>
</ul></div>
<a name="wp1316896"> </a><div class="pCellBody">
Marque a caixa de seleção <b class="cBold">Ativado</b> para permitir que o serviço de proxy decodifique e faça parse de mensagens de entrada no formato MTOM/XOP e envie respostas usando o formato MTOM/XOP, quando apropriado. Observe que esta opção está desativada para serviços de proxy importados baseados em configurações de releases anteriores.
</div>
<a name="wp1316995"> </a><div class="pCellBody">
Se o Suporte XOP/MTOM estiver ativado, selecione como lidar com dados binários nas variáveis do contexto da mensagem $header e $body entre as seguintes opções:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1317024"> </a><li><b class="cBold">Incluir Dados Binários por Referência</b>: (Default) Em uma mensagem de solicitação de entrada, substitua os elementos xop:Include por elementos ctx:binary-content ao definir as variáveis de contexto da mensagem $header e $body.</li>
<a name="wp1317027"> </a><li><b class="cBold">Incluir Dados Binários por Valor</b>: Em uma mensagem de solicitação de entrada, substitua os elementos xop:Include por versões de texto com a codificação Base64 de dados binários correspondentes ao definir as variáveis de contexto da mensagem $header e $body.</li>
</ul></div>
<a name="wp1316786"> </a><div class="pCellBody">
Use Incluir Dados Binários por Referência quando precisar de acesso direto aos dados binários, por exemplo, para transmitir dados para uma chamada Java ou transformação MFL (Message Format Language).
</div>
<a name="wp1317140"> </a><div class="pCellBody">
Usar a opção Incluir Dados Binários por Valor nos seguintes casos:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1317161"> </a><li>Estabelecer uma ponte entre os serviços MTOM e não-MTOM. Por exemplo, considere um serviço de proxy ativado para MTOM que recebe uma solicitação que depois é encaminhada para um serviço ativado para não-MTOM. Você pode usar esta opção para seguir aos padrões existentes de envio de dados binários em XML no form codificado para Base64.</li>
<a name="wp1316787"> </a><li>Para validar o conteúdo da mensagem em um esquema XML que requer um elemento base64binary a ser usado no lugar de dados binários</li>
</ul></div>
<a name="wp1317000"> </a><div class="pCellBody">
Observe que, se o Suporte XOP/MTOM for ativado para um serviço de proxy, não é obrigatório que cada mensagem de entrada esteja no formato MTOM. Em vez disso, essa configuração especifica que, quando uma mensagem no formato MTOM chega, o serviço de proxy deve tratá-la adequadamente. Observe também que, quando serviços de proxy não ativados para o Suporte XOP/MTOM recebem uma mensagem no formato MTOM, o serviço rejeita a mensagem e emite um erro de run-time.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1316597"> </a><div class="pCellBody">
Anexos
</div>
</td>
    <td class="table" scope="row"><a name="wp1317826"> </a><div class="pCellBody">
O Oracle Service Bus suporta o fluxo de anexos de MIME usando os seguintes transportes:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1317827"> </a><li>HTTP/S</li>
<a name="wp1317828"> </a><li>Local (quando encadeado por meio de um proxy HTTP com anexos de stream ativados)</li>
</ul></div>
<a name="wp1317830"> </a><div class="pCellBody">
Marque a caixa de seleção <b class="cBold">Anexos de Página em Disco</b> para permitir que o serviço de proxy dinamize anexos MIME. Quando ativada para serviços de proxy HTTP, a opção aplica-se a mensagens de solicitação de entrada do serviço de proxy.
</div>
<a name="wp1317794"> </a><div class="pCellBody">
Observe que, se você ativar o Suporte XOP/MTOM, a opção Anexos só estará disponível se você escolher a opção <b class="cBold">Incluir Dados Binários por Referência</b> em Suporte XOP/MTOM. Observe também que payloads que contêm anexos devem seguir o RFC 822. Especificamente, linhas contendo cabeçalhos da Internet precisam terminar com CRLF (retorno de carro, alimentação de linha).
</div>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">

</p>
<a name="wp1316420"> </a><p class="pBody">
<b class="cBold">Depois de finalizar</b>
</p>
<a name="wp1316423"> </a><p class="pBody">
Clique em <b class="cBold">Próximo</b> para rever e salvar esta configuração na <b class="cBold">página Criar/Editar um Serviço de Proxy&nbsp;- </b><a href="javascript:WWHClickedPopup('consolehelp', 'proxyserviceCreateProxyServiceSummaryPage.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyserviceCreateProxyServiceSummaryPage.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink"> página Resumo</span></a>.
</p>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>


<script type="text/javascript" language="JavaScript1.2">
   <!--
function WWHDefineBEALogoLink()
{
return "http://www.bea.com";
}
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
