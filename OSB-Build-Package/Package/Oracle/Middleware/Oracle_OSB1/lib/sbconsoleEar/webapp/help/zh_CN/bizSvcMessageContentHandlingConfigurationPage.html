<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh_CN" lang="zh_CN">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="" />
<meta name="LOC_US_CHANGE" content="" />
<meta name="LOC_US_SRCFILE" content="" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WWH_Template_V1.0" />
    <meta name="LASTUPDATED" content="03/06/10 00:59:04" />
    <title>“消息处理配置”页</title>
    <link rel="StyleSheet" href="edocs.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");

if (top.location == self.location )
    self.location = "index.html?href=bizSvcMessageContentHandlingConfigurationPage.html"
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>

  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

<a name="wp1141706"> </a><h3 class="pHeading2">
“消息处理配置”页
</h3>
<a name="wp1163400"> </a><p class="pBody">
<b class="cBold">创建/编辑业务服务 - 消息</b><b class="cBold">处理</b><b class="cBold">配置</b>页是一系列用于创建和编辑业务服务的页中的一个页面，如<a href="javascript:WWHClickedPopup('consolehelp', 'businessServiceAddBusinessService.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'businessServiceAddBusinessService.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">创建和配置业务服务</span></a>和<a href="javascript:WWHClickedPopup('consolehelp', 'BusinessServiceViewandChangeBusinessServices.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'BusinessServiceViewandChangeBusinessServices.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">编辑业务服务配置</span></a>中所述。
</p>
<a name="wp1163410"> </a><p class="pBody">
使用此页可以指定 Oracle Service Bus 如何处理消息内容。<a href="javascript:WWHClickedPopup('consolehelp', 'bizSvcMessageContentHandlingConfigurationPage.html#wp1161154');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'bizSvcMessageContentHandlingConfigurationPage.html#wp1161154', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">表 18-20</span></a> 介绍了业务服务的消息处理选项。不同的传输类型有不同的选项可用。
</p>
<a name="wp1161198"> </a><p class="pBodyRelative">
</p>
<div align="left">
<table class="table" border="1" cellpadding="3" cellspacing="0" id="wp1161154table1161148">
  <caption><a name="wp1161154"></a>表 18-20“创建/编辑业务服务 - 消息处理配置”页


</caption>
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><a name="wp1161158"> </a><div class="pCellHeading">
选项
</div>
</th>
    <th scope="col"><a name="wp1161160"> </a><div class="pCellHeading">
创建或编辑...
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1161325"> </a><div class="pCellBody">
XOP/MTOM 支持
</div>
</td>
    <td class="table" scope="row"><a name="wp1161330"> </a><div class="pCellBody">
使用此功能可以按 MTOM/XOP 格式对出站消息进行编码。SOAP 消息传输优化机制 (MTOM) 是一种在与 Web 服务之间来回发送二进制数据的方法。MTOM 使用 XML 二进制优化打包 (XOP) 传输二进制数据。
</div>
<a name="wp1170343"> </a><div class="pCellBody">
Oracle Service Bus 支持使用以下传输的 XOP/MTOM：
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1161331"> </a><li>HTTP/S</li>
<a name="wp1161332"> </a><li>本地</li>
<a name="wp1161333"> </a><li>SB</li>
</ul></div>
<a name="wp1161334"> </a><div class="pCellBody">
选中<b class="cBold">已启用</b>复选框使业务服务以 MTOM/XOP 格式对出站消息进行编码。请注意，对于基于以前版本配置的导入业务服务，禁用此选项。
</div>
<a name="wp1161335"> </a><div class="pCellBody">
如果启用了 XOP/MTOM 支持，请从以下选项中选择处理 $header 和 $body 消息上下文变量中的二进制数据的方式：
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1161336"> </a><li><b class="cBold">按引用包含二进制数据</b>：(默认值) 在出站响应消息中，在设置 $body 消息上下文变量时，将 xop:Include 元素替换为 ctx:binary-content 元素。</li>
<a name="wp1161337"> </a><li><b class="cBold">按值包含二进制数据</b>：在出站响应消息中，在设置 $body 消息上下文变量时，将 xop:Include 元素替换为 Base64 编码文本版本的对应二进制数据。</li>
</ul></div>
<a name="wp1161338"> </a><div class="pCellBody">
请注意，如果为业务服务启用了 XOP/MTOM 支持，则不要求每条出站消息都是 MTOM 格式。此设置指定业务服务能够处理 MTOM 有效负载。 
</div>
<a name="wp1161343"> </a><div class="pCellBody">
由于 Oracle Service Bus 不支持 MTOM 和 SwA 的组合，因此当 Oracle Service Bus 尝试将出站请求分派到业务服务，业务服务启用了 MTOM/XOP 且 $attachments 消息上下文变量非空时，系统将发出运行时错误。
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1161348"> </a><div class="pCellBody">
附件
</div>
</td>
    <td class="table" scope="row"><a name="wp1161702"> </a><div class="pCellBody">
Oracle Service Bus 支持使用 HTTP/S 传输对 MIME 附件进行流传输。
</div>
<a name="wp1170317"> </a><div class="pCellBody">
使用此功能可以将出站响应消息中的附件存储到磁盘文件，然后以流传输形式处理这些数据，而不将附件内容缓冲到内存中。这使得业务服务能够可靠有效地处理大型附件。
</div>
<a name="wp1161705"> </a><div class="pCellBody">
选中<b class="cBold">将附件分页写入磁盘</b>复选框可以使业务服务对出站响应消息中的附件进行流传输。
</div>
<a name="wp1161706"> </a><div class="pCellBody">
请注意，如果启用 XOP/MTOM 支持，则仅当选择“XOP/MTOM 支持”下的<b class="cBold">按引用包含二进制数据</b>选项时，“附件”选项才可用。另请注意，包含附件的有效负载必须符合 RFC 822。具体地说，包含 Internet 标头的行必须以 CRLF (回车换行) 结束。
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1170371"> </a><div class="pCellBody">
结果高速缓存
</div>
</td>
    <td class="table" scope="row"><a name="wp1170395"> </a><div class="pCellBody">
如果调用其结果很少更改的业务服务，则结果高速缓存可以将高速缓存的结果返回给客户机而无需直接调用外部服务，从而提高业务服务的性能。
</div>
<a name="wp1170387"> </a><div class="pCellBody">
要为业务服务使用结果高速缓存，必须先全局启用结果高速缓存，如<a href="javascript:WWHClickedPopup('consolehelp', 'configurationEnablingCachingGlobally.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'configurationEnablingCachingGlobally.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">全局启用结果高速缓存</span></a>中所述。
</div>
<a name="wp1170413"> </a><div class="pCellBody">
按照以下准则，在<b class="cBold">高级设置</b>部分中配置结果高速缓存：
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1170428"> </a><li>选择<b class="cBold">支持</b>选项。选中后，将启用其余字段。</li>
<a name="wp1170468"> </a><li><b class="cBold">表达式名称空间</b> - 使用表达式配置结果高速缓存时，不论使用“高速缓存标记表达式”还是“失效时间”，或者两者同时使用，均可以输入在表达式中使用的名称空间和对应的前缀。使用此字段还可以查看现有名称空间的列表。</li>
<a name="wp1170474"> </a><li><b class="cBold">高速缓存标记表达式</b> - Oracle Service Bus 使用高速缓存密钥来标识用于检索或填充的高速缓存结果，高速缓存密钥的高速缓存标记部分提供了唯一标识符。可以使用表达式 (高速缓存标记表达式) 来生成高速缓存密钥的高速缓存标记部分，用于唯一标识业务服务的高速缓存结果。</li>
<a name="wp1170558"> </a><p class="pTableListPara">
要使用请求 (位于调用业务服务的代理服务消息流中) 中的值生成高速缓存标记，请使用从管道 $body、$header、$operation 或 $transportMetaData ($outbound/ctx:transport/ctx:request or $outbound/ctx:transport/ctx:response) 中获取值的表达式。例如，可以使用消息 $body 中的客户 ID 填充高速缓存标记。
</p>
<a name="wp1170716"> </a><p class="pTableListPara">
高速缓存标记表达式必须解析为字符串或简单内容的值，例如属性或者没有子元素的元素。如果表达式的计算结果为空值或导致错误，则不高速缓存结果。
</p>
<a name="wp1170883"> </a><p class="pTableListPara">
<b class="cBold">注</b>：还可以从请求生成高速缓存标记，而无需在业务服务配置中设置高速缓存标记表达式。为此，请在代理服务管道的 $outbound/ctx:transport/ctx:request/ctx:cache-token 中包括值。该高速缓存标记中的任何值将覆盖业务服务配置中的高速缓存标记表达式。
</p>
<a name="wp1170477"> </a><li><b class="cBold">失效时间</b> - 失效时间或生存时间 (TTL) 确定何时刷新业务服务的结果高速缓存中的条目。持续时间为零 (0) 表示不失效。负的持续时间表示不高速缓存。选择以下选项之一：</li>
</ul></div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><div class="pSmartList1Bullet"><ul class="pSmartList1Bullet">
<div class="pSmartList2Bullet"><ul class="pSmartList2Bullet">
<a name="wp1171052"> </a><li><b class="cBold">使用默认值</b> - 默认使用 <em class="cEmphasis">DOMAIN_HOME</em>/config/osb/coherence/osb-coherence-config.xml 中的 expiry-delay 值。默认值为 5 分钟。</li>
<a name="wp1171053"> </a><li><b class="cBold">持续时间</b> - 设置特定的时间长度。</li>
<a name="wp1171054"> </a><li><b class="cBold">XQuery 表达式</b> - 在使用表达式设置高速缓存标记时，可以输入从请求或响应中获取失效时间值的 XQuery 表达式。选择<b class="cBold">请求</b>或<b class="cBold">响应</b>。<br /><br />要使用请求或响应中的值生成失效时间，请使用从管道 $body、$header、$operation 或 $transportMetaData ($outbound/ctx:transport/ctx:request 或 $outbound/ctx:transport/ctx:response) 获取值的表达式。例如，使用已在 Cache-Control HTTP 标头中设置的值。<br /><br />失效时间必须解析为整数 (表示秒数)、XQuery dayTimeDuration (XSD 类型) 或简单内容的整数值 (表示秒数)，例如属性或没有子元素的元素。如果表达式的计算结果为空值或导致错误，则不高速缓存结果。<br /><br /><b class="cBold">注</b>：还可以从请求生成失效时间，而无需在业务服务配置中设置失效时间。为此，请在代理服务通道的 $outbound/ctx:transport/ctx:request/ctx:cache-ttl 中包括值。cache-ttl 元素中的任意值将覆盖业务服务配置中的失效时间。</li>
</ul></div>
</ul></div>
<a name="wp1171056"> </a><div class="pCellBody">
有关结果高速缓存的更详细说明，请参阅 <em class="cEmphasis">Oracle Fusion Middleware Administrator's Guide for Oracle Service Bus</em> 中的“Improving Performance by Caching Business Service Results”，网址为：<span class="cHyperlink"><a href="http://www.oracle.com/pls/as111170/lookup?id=OSBAG170" target="_window">http://www.oracle.com/pls/as111170/lookup?id=OSBAG170</a></span>。
</div>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">

</p>
<a name="wp1144892"> </a><p class="pBody">
<b class="cBold">完成之后</b>
</p>
<a name="wp1144893"> </a><p class="pBody">
单击<b class="cBold">下一步</b>可在<b class="cBold">“创建/编辑业务服务 - </b><a href="javascript:WWHClickedPopup('consolehelp', 'bizSvcSummaryPage.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'bizSvcSummaryPage.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">概要”页</span></a>上查看和保存此配置。
</p>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>


<script type="text/javascript" language="JavaScript1.2">
   <!--
function WWHDefineBEALogoLink()
{
return "http://www.bea.com";
}
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
