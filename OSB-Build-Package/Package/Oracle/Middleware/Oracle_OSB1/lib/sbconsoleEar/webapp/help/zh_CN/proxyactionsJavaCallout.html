<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh_CN" lang="zh_CN">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="" />
<meta name="LOC_US_CHANGE" content="" />
<meta name="LOC_US_SRCFILE" content="" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WWH_Template_V1.0" />
    <meta name="LASTUPDATED" content="03/06/10 00:59:23" />
    <title>添加 Java 标注操作</title>
    <link rel="StyleSheet" href="edocs.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");

if (top.location == self.location )
    self.location = "index.html?href=proxyactionsJavaCallout.html"
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <style type="text/css">
<!--
.style1 {font-family: "Courier New", Courier, monospace}
-->
    </style>
</head>

  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

<a name="wp1265748"> </a><h2 class="pHead1Split">
添加 Java 标注操作
</h2>
<a name="wp1265749"> </a><p class="pBody">
使用 Java 标注操作可调用消息流中的 Java 方法或 EJB 业务服务。 
</p>
<a name="wp1325040"> </a><p class="pBody">
<b class="cBold">开始之前</b>
</p>
<a name="wp1323999"> </a><p class="pBody">
这些说明假定您已在<b class="cBold">编辑消息流</b>页中编辑消息流，如<a href="javascript:WWHClickedPopup('consolehelp', 'proxyserviceCreateEditViewMessageFlows.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyserviceCreateEditViewMessageFlows.html', (document.all||document.getElementById||document.layers)?event:null);">创建、编辑和查看消息流</a>中所述。
</p>
<a name="wp1325044"> </a><p class="pBody">
<b class="cBold">添加 Java 标注操作</b>
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp1314914"> </a><li>导航至要添加操作的位置，如<a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsAddAction.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsAddAction.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">向消息流添加操作和编辑消息流中的操作</span></a>中所述。</li>
<a name="wp1314916"> </a><li>单击相应的图标，然后选择<b class="cBold">添加操作 > 消息处理 > Java 标注</b>。</li>
<a name="wp1268327"> </a><li>单击 <b class="cBold">&lt;方法></b>。此时将显示<b class="cBold">选择 JAR</b> 页。从列表中选择 JAR 资源。此时将显示<b class="cBold">选择类和方法</b>页。</li>
<a name="wp1268523"> </a><li>在所列的 Java 类列表中，单击相应类旁的“+”，以便显示方法列表。选择方法，然后单击<b class="cBold">提交</b>。此时将在<b class="cBold">编辑阶段</b>页中显示 Java 标注操作，如下所述：</li>
<div class="pSmartList2Bullet"><ul class="pSmartList2Bullet">
<a name="wp1276962"> </a><li>在步骤 2 和步骤 3 中选择的 Java 方法的名称会替换 &lt;<b class="cBold">Method</b>>。此名称是到<b class="cBold">选择类和方法</b>页的链接。您可以单击此链接以更改所选的 Java 方法。</li>
<a name="wp1276968"> </a><p class="pBodyRelative">
该方法必须是静态方法。
</p>
<a name="wp1276963"> </a><li><b class="cBold">参数</b>：为 Java 方法所需的每个参数提供指向 <b class="cBold">XQuery 表达式编辑器</b>页的 <b class="cBold">&lt;表达式></b> 链接。每个链接的标签均指出相应参数的数据类型，该数据类型将属于以下类型之一： </li>
<div class="pSmartList3Bullet"><ul class="SmartList3Bullet">
<a name="wp1276919"> </a><li><code class="cCode">Java.lang.String</code> </li>
<a name="wp1276920"> </a><li>基元类型及其相应的类类型 (例如，<code class="cCode">int</code> 与 <code class="cCode">java.lang.Integer</code>)</li>
<a name="wp1276921"> </a><li><code class="cCode">java.lang.BigDecimal</code> 和 <code class="cCode">java.lang.BigInteger</code> (这些类型用于不容许舍入错误或溢出的财务计算中)</li>
<a name="wp1276922"> </a><li>仅 <code class="cCode">org.apache.xbeans.XmlObject</code> 和无类型 XML Bean。</li>
<a name="wp1276923"> </a><li><code class="cCode">byte[]</code> </li>
<a name="wp1276924"> </a><li><code class="cCode">java.lang.String[]</code> (INPUT ONLY)</li>
<a name="wp1276925"> </a><li><code class="cCode">XmlObject [ ]</code> (INPUT ONLY)</li>
<li class="cCode style1"><span id="mainframespan">javax.activation.DataSource</span></li>
</ul>
</div>
<a name="wp1276927"> </a>
<li><strong>将参数作为引用返回</strong>：此选项将使 Java 标注调用的返回值为 &lt;java-content ref="jcid"> 引用元素而不管其实际类型如何，其中 jcid 为管道对象资料档案库中对象的密钥。在“结果值”字段中，输入包含 java-content 引用的变量的名称。通过此选项可以使用消息流和管道 XML 中的引用对象来提供 PassThrough、通过 Java 标注和内嵌操作执行丰富消息操作或在 Java 传输和 非 Java 传输之间执行消息转换。有关详细信息，请参阅 <em>Oracle Fusion Middleware Developer's Guide for Oracle Service Bus</em> 中的“Sending and Receiving Java Objects in Messages”，网址为：<a href="http://www.oracle.com/pls/as111170/lookup?id=OSBDV1874" target="_window">http://www.oracle.com/pls/as111170/lookup?id=OSBDV1874</a>。</li>
<li><b class="cBold">结果</b>：<b class="cBold">结果</b>字段，可在此字段中输入要向其分配结果的变量。字段的标签指出相应结果的数据类型。 </li>
<a name="wp1282298"> </a>
<table class="ListNote">
<tr>
<td valign="top"><strong>注：</strong></td>
<td>如果结果是字节数组 (仅可能返回的数组)，则将返回 binary-content XML 元素。 </td>
</tr>
</table>
<a name="wp1282299"> </a><li><b class="cBold">附加服务帐户</b>：通过<b class="cBold">服务帐户</b>链接，可以指定可选的服务帐户 (如果存在此 Java 方法的安全上下文)。要了解有关安全上下文和服务帐户的详细信息，请参阅<a href="javascript:WWHClickedPopup('consolehelp', 'serviceAccounts.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'serviceAccounts.html', (document.all||document.getElementById||document.layers)?event:null);">服务帐户</a>。</li>
<a name="wp1276933"> </a><p class="pBodyRelative">
在使用固定服务帐户和映射服务帐户的情况下，该服务帐户的用户 ID/口令会在本地系统中进行验证，并且安全上下文会传播到 Java 标注。在 <code class="cCode">passthru</code> 的情况下，安全上下文会传播到 Java 标注。此上下文是消息级上下文 (如果已使用 WS-Security 定义)。否则，它是传输级上下文。 
</p>
</ul>
</div>
<a name="wp1276902"> </a><li>在<span style="font-weight: bold">参数</span>下，单击 <span style="font-weight: bold">&lt;表达式></span>。此时将显示 <span style="font-weight: bold">XQuery 表达式编辑器</span>页。使用 XQuery 表达式编辑器可提供 Java 方法所需的参数。请参阅<a href="javascript:WWHClickedPopup('consolehelp', 'proxyservicesCreatingAndEditingInlineExpressions.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyservicesCreatingAndEditingInlineExpressions.html', (document.all||document.getElementById||document.layers)?event:null);">创建和编辑内嵌 XQuery 和 XPath 表达式</a>。</li>
<a name="wp1270340"> </a><p class="pBodyRelative">
如果输入的输入值类型与声明的输入参数类型不匹配，则 Oracle Service Bus 将尝试自动将输入值的类型转换为声明的输入参数类型。例如，如果声明的输入参数类型是 Java 基元 <code class="cCode">int</code>，则字符串值<code class="cCode">“123”</code>将转换为整数 <code class="cCode">123</code>。 
</p>
<a name="wp1270484"> </a><li>在<b class="cBold">结果</b>字段中，为 Java 方法返回的结果分配变量。</li>
<a name="wp1268739"> </a><li>如果存在 Java 方法的安全上下文，请选中该复选框，然后单击 <b class="cBold">&lt;服务帐户></b>。此时将显示<b class="cBold">选择服务帐户</b>页。从列表中选择所需的服务帐户，然后单击<b class="cBold">提交</b>。</li>
</ol></div>
<a name="wp1314248"> </a><p class="pBody">
<b class="cBold">完成之后</b>
</p>
<a name="wp1325051"> </a><p class="pBody">
配置完此操作后，继续配置其他操作或保存您的配置，如<a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsAddAction.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsAddAction.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">向消息流添加操作和编辑消息流中的操作</span></a>中所述。
</p>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>


<script type="text/javascript" language="JavaScript1.2">
   <!--
function WWHDefineBEALogoLink()
{
return "http://www.bea.com";
}
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
