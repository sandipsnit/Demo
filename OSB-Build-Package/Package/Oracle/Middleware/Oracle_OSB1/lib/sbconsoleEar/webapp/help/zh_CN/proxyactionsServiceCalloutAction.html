<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh_CN" lang="zh_CN">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="" />
<meta name="LOC_US_CHANGE" content="" />
<meta name="LOC_US_SRCFILE" content="" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WWH_Template_V1.0" />
    <meta name="LASTUPDATED" content="03/06/10 00:59:23" />
    <title>添加服务标注操作</title>
    <link rel="StyleSheet" href="edocs.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");

if (top.location == self.location )
    self.location = "index.html?href=proxyactionsServiceCalloutAction.html"
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>

  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

<a name="wp1284900"> </a><h2 class="pHead1Split">
添加服务标注操作
</h2>
<a name="wp1315369"> </a><div class="pCellBody">
  <p>使用服务标注操作可为已注册 Oracle Service Bus 的代理服务或业务服务配置同步 (阻塞) 标注。</p>
  <p>有关服务标注操作的详细信息，请参阅 <span class="pBody"><em>Oracle Fusion Middleware Administrator's Guide for Oracle Service Bus</em> 中的“Constructing Service Callout Messages”，网址为：<a href="http://www.oracle.com/pls/as111170/lookup?id=OSBAG208" target="_blank">http://www.oracle.com/pls/as111170/lookup?id=OSBAG208</a>。</span></p>
</div>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp1314340"> </a><li>导航至要添加操作的位置，如<a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsAddAction.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsAddAction.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">向消息流添加操作和编辑消息流中的操作</span></a>中所述。</li>
<a name="wp1314342"> </a><li>单击相应的图标，然后选择<b class="cBold">添加操作 > 通信</b> > <b class="cBold">服务标注</b>。</li>
<a name="wp1314334"> </a><li>单击 <b class="cBold">&lt;服务></b>。此时将显示服务浏览器。</li>
<a name="wp1306504"> </a><li>从已注册的代理服务或业务服务列表中选择一个服务，然后单击<b class="cBold">提交</b>。 </li>
<a name="wp1306506"> </a><li>如果在上述步骤 3 中选择的服务基于 WSDL 并具有可以针对该服务调用的操作，则<b class="cBold">调用 &lt;操作></b>下拉列表中将列出这些操作。选择要针对服务调用的操作。<br /> <br /> <strong>注</strong>：选择 Oracle Service Bus 由于种种原因而需要的操作并不保证仅调用所选操作。例如，如果您选择了操作 A，但消息还包含对操作 B 的调用，则也会调用操作 B。</li>
<a name="wp1306507"> </a><li>通过选择以下选项之一，指定您要配置请求和响应消息的方式：</li>
<div class="pSmartList2Bullet"><ul class="pSmartList2Bullet">
<a name="wp1306508"> </a><li>选择<b class="cBold">配置 SOAP 正文</b>以配置 SOAP 正文。通过选择此选项可以直接使用 <code class="cCode">$body</code>。</li>
<a name="wp1306509"> </a>
<table class="ListNote">
<tr>
<td valign="top"><strong>注：</strong></td>
<td>此选项支持编码的 SOAP-RPC，而在配置有效负载参数或文档时却不支持。</td>
</tr>
</table>
<a name="wp1306510"> </a><li>选择<b class="cBold">配置有效负载参数</b>或<b class="cBold">配置有效负载文档</b>以配置有效负载。 </li>
</ul></div>
<a name="wp1306511"> </a><li>后续的配置选项取决于您在步骤 3 中选择的服务种类，还取决于您在步骤 5 中为此服务选择的配置选项种类。<a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306518');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306518', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">表 21-3</span></a> 显示适用于每种服务类型的选项。<div align="left">
<table class="table" border="1" cellpadding="3" cellspacing="0" id="wp1306518table1306515">
  <caption><a name="wp1306518"></a>表 21-3 每种服务类型的服务标注配置选项
</caption>
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><a name="wp1306524"> </a><div class="pCellHeading">
所选服务类型
</div>
</th>
    <th scope="col"><a name="wp1306526"> </a><div class="pCellHeading">
<b class="cBold">“配置 SOAP 正文”选项</b>
</div></th>
    <th scope="col"><a name="wp1306528"> </a><div class="pCellHeading">
“配置有效负载参数”选项或<br />“配置有效负载文档”选项
</div></th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306530"> </a><li>SOAP RPC</li>
</ul></div>
</td>
    <td class="table" scope="row"><div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306534"> </a><li><a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306604');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306604', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">SOAP 请求正文和 SOAP 响应正文</span></a></li>
<a name="wp1306538"> </a><li><a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306612');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306612', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">SOAP 请求标头和 SOAP 响应标头</span></a> (可选)</li>
</ul></div></td>
    <td class="table" scope="row"><div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306544"> </a><li><a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306620');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306620', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">请求参数和响应参数</span></a></li>
<a name="wp1306548"> </a><li><a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306612');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306612', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">SOAP 请求标头和 SOAP 响应标头</span></a> (可选)</li>
</ul></div></td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306551"> </a><li>SOAP 文档</li>
<a name="wp1306552"> </a><li>任何 SOAP</li>
</ul></div>
</td>
    <td class="table" scope="row"><div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306556"> </a><li><a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306604');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306604', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">SOAP 请求正文和 SOAP 响应正文</span></a></li>
<a name="wp1306560"> </a><li><a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306612');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306612', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">SOAP 请求标头和 SOAP 响应标头</span></a> (可选)</li>
</ul></div></td>
    <td class="table" scope="row"><div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306565"> </a><li><a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306629');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306629', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">请求文档和响应文档</span></a></li>
<a name="wp1306569"> </a><li><a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306612');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306612', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">SOAP 请求标头和 SOAP 响应标头</span></a> (可选)</li>
</ul></div></td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306572"> </a><li>XML</li>
<a name="wp1306573"> </a><li>任何 XML</li>
<a name="wp1306574"> </a><li>消息传送</li>
</ul></div>
</td>
    <td class="table" scope="row"><div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306578"> </a><li><a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306604');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306604', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">SOAP 请求正文和 SOAP 响应正文</span></a></li>
</ul></div></td>
    <td class="table" scope="row"><div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306583"> </a><li><a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306629');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306629', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">请求文档和响应文档</span></a></li>
</ul></div></td>
</tr>
</table>
</div>
<b class="cBold"> </b></li>
<a name="wp1306591"> </a><p class="pBodyRelative">
下面的<a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306595');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306595', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">表 21-4</span></a> 提供了上面的<a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306518');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306518', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">表 21-3</span></a> 中所列的各个选项的说明。
</p>
<a name="wp1306641"> </a><p class="pBodyRelative">
<div align="left">
<table class="table" border="1" cellpadding="3" cellspacing="0" id="wp1306595table1306592">
  <caption><a name="wp1306595"></a>表 21-4 服务标注配置选项
</caption>
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><a name="wp1306599"> </a><div class="pCellHeading">
选项
</div>
</th>
    <th scope="col"><a name="wp1306601"> </a><div class="pCellHeading">
步骤
</div></th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1306604"> </a><div class="pCellBody">
<b class="cBold">SOAP 请求正文和<br /> SOAP 响应正文</b>
</div>
</td>
    <td class="table" scope="row"><a name="wp1306607"> </a><div class="pCellBody">
要配置这些选项，请执行以下操作：
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306608"> </a><li>在 <b class="cBold">SOAP 请求正文</b>字段中，输入保存标注请求的 SOAP 正文元素的 XML 的变量名称。</li>
<a name="wp1306609"> </a><li>在 <b class="cBold">SOAP 响应正文</b>字段中，输入将绑定到响应的 SOAP 正文元素的 XML 的变量名称。</li>
</ul></div></td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1306612"> </a><div class="pCellBody">
<b class="cBold">SOAP 请求标头和<br /> SOAP 响应标头</b>
</div>
</td>
    <td class="table" scope="row"><a name="wp1306614"> </a><div class="pCellBody">
要配置这些选项，请执行以下操作：
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306615"> </a><li>在 <b class="cBold">SOAP 请求标头</b>字段中，输入保存标注请求的 SOAP 标头元素的 XML 的变量名称。 </li>
<a name="wp1306616"> </a><p class="pTableListPara">
必须用 <code class="cCode">&lt;soap-env:Header>...&lt;/soap-env:Header></code> 包含 SOAP 请求标头的输入文档。
</p>
<a name="wp1306617"> </a><li>在 <b class="cBold">SOAP 响应标头</b>字段中，输入将绑定到响应的 SOAP 标头的 XML (如果有) 的变量名称。</li>
</ul></div></td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1306620"> </a><div class="pCellBody">
<b class="cBold">请求参数和<br />响应参数</b>
</div>
</td>
    <td class="table" scope="row"><a name="wp1306622"> </a><div class="pCellBody">
要配置选项，请执行以下操作：
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306623"> </a><li>在<b class="cBold">请求参数</b>字段中输入变量名，会在运行时计算此变量，为请求参数提供值。</li>
<a name="wp1306624"> </a><p class="pTableListPara">
必须在输入变量中只提供核心有效负载文档 - Oracle Service Bus 将为您创建 SOAP 程序包。换句话说，不要使用 <code class="cCode">&lt;soap-env:Body>...&lt;/soap-env:Body></code> 包装输入文档。 
</p>
<a name="wp1306625"> </a><p class="pTableListPara">
例如，在创建一个用于此请求参数的 body 输入变量时，会使用 XPath 语句 <code class="cCode">body/*</code> (来删除包装 <code class="cCode">soap-env:Body</code>) 定义变量内容，而不会使用 <code class="cCode">$body</code> (这会导致保留 <code class="cCode">soap-env:Body</code> 包装) 进行定义。
</p>
<a name="wp1306626"> </a><li>在<b class="cBold">响应参数</b>字段中，输入运行时要为其分配响应的变量的名称。</li>
</ul></div></td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1306629"> </a><div class="pCellBody">
<b class="cBold">请求文档和<br />响应文档</b>
</div>
</td>
    <td class="table" scope="row"><a name="wp1306631"> </a><div class="pCellBody">
要配置这些选项，请执行以下操作：
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306632"> </a><li>在<b class="cBold">请求文档变量</b>字段中，输入要为其分配请求文档的变量的名称。 </li>
<a name="wp1306633"> </a><p class="pTableListPara">
对于 SOAP 文档类型<em class="cEmphasis"></em>服务，在运行时计算变量以形成发送到服务的 SOAP 消息正文。对于任何 XML<em class="cEmphasis"></em> 服务，在运行时计算变量以形成发送到服务的 XML 消息正文。
</p>
<a name="wp1306634"> </a><p class="pTableListPara">
对于 SOAP 文档类型服务和任何 XML 服务，只在输入变量中提供核心有效负载文档 - Oracle Service Bus 将为您创建 SOAP 程序包。换句话说，不要使用 <code class="cCode">&lt;soap-env:Body>...&lt;/soap-env:Body></code> 包装输入文档。 
</p>
<a name="wp1306635"> </a><p class="pTableListPara">
例如，在创建一个用于此请求参数的 body 输入变量时，会使用 XPath 语句 <code class="cCode">body/*</code> (来删除包装 <code class="cCode">soap-env:Body</code>) 定义变量内容，而不会使用 <code class="cCode">$body</code> (这会导致保留 soap-env:Body 包装) 进行定义。
</p>
<a name="wp1306636"> </a><p class="pTableListPara">
对于消息传送<em class="cEmphasis"></em>服务，基于服务需要的数据类型计算变量，以形成消息正文。以下限制适用于与消息传送服务一起使用的变量： 
</p>
<div class="pSmartList2TableBullet"><ul class="pSmartList2TableBullet">
<a name="wp1306637"> </a><li>对于需要二进制数据的服务，变量必须具有一个 <code class="cCode">ctx:binary-content</code> 元素。 </li>
<a name="wp1306638"> </a><li>对于需要 MFL 数据的服务，变量必须具有一个 XML 对等内容。 </li>
<a name="wp1306639"> </a><li>对于需要文本数据的服务，变量必须是一个字符串。</li>
</ul></div>
<a name="wp1306640"> </a><li>在<b class="cBold">响应文档变量</b>字段中，输入运行时将为其分配响应文档的变量的名称。</li>
</ul></div></td>
</tr>
</table>
</div>

</p>
<a name="wp1306644"> </a><li>或者，添加一个或多个传输标头。有关详细信息，请参阅<a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsTransportHeadersAction.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsTransportHeadersAction.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">添加传输标头操作</span></a>。</li>
<a name="wp1340261"> </a>
<table class="ListNote">
<tr>
<td valign="top"><strong>注：</strong></td>
<td>除指定的传输标头外，Oracle Service Bus 绑定层还会添加标头。有关详细信息，请参阅 <em class="cEmphasis">Oracle Fusion Middleware Developer's Guide for Oracle Service Bus</em> 中的“Configuring Transport Headers in Message Flows”，网址为：<a href="http://www.oracle.com/pls/as111170/lookup?id=OSBAG201" target="_window">http://www.oracle.com/pls/as111170/lookup?id=</a>OSBAG201<em class="cEmphasis"></em>。</td>
</tr>
</table>
</ol>
</div>
<a name="wp1340262"> </a><p class="pBody">
<b class="cBold">完成之后</b> 
</p>
<a name="wp1314149"> </a><p class="pBody">
配置完此操作后，继续配置其他操作或保存您的配置，如<a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsAddAction.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsAddAction.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">向消息流添加操作和编辑消息流中的操作</span></a>中所述。
</p>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>


<script type="text/javascript" language="JavaScript1.2">
   <!--
function WWHDefineBEALogoLink()
{
return "http://www.bea.com";
}
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
