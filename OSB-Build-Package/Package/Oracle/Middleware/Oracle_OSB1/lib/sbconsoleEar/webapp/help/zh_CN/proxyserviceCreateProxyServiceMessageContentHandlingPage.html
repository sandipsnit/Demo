<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh_CN" lang="zh_CN">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="" />
<meta name="LOC_US_CHANGE" content="" />
<meta name="LOC_US_SRCFILE" content="" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WWH_Template_V1.0" />
    <meta name="LASTUPDATED" content="03/06/10 00:59:13" />
    <title>“消息处理”页</title>
    <link rel="StyleSheet" href="edocs.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");

if (top.location == self.location )
    self.location = "index.html?href=proxyserviceCreateProxyServiceMessageContentHandlingPage.html"
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>

  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

<a name="wp1316340"> </a><h3 class="pHeading2">
“消息处理”页
</h3>
<a name="wp1318891"> </a><p class="pBody">
<b class="cBold">创建/编辑代理服务 - </b><b class="cBold">消息处理</b>页是一系列用于创建和编辑代理服务的页中的一个页面，如<a href="javascript:WWHClickedPopup('consolehelp', 'proxyserviceCreateAndConfigureProxyServices.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyserviceCreateAndConfigureProxyServices.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">创建和配置代理服务</span></a>和<a href="javascript:WWHClickedPopup('consolehelp', 'proxyserviceViewandModifyProxyServices.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyserviceViewandModifyProxyServices.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">编辑代理服务配置</span></a>中所述。
</p>
<a name="wp1318901"> </a><p class="pBody">
使用此页可以指定代理服务是否应该对消息内容进行流传输，服务如何对收到的请求消息进行解码和对发送的响应消息进行编码，以及代理服务是否应该对 MIME 附件进行流传输，而不是将附件内容缓冲到内存中。
</p>
<a name="wp1318860"> </a><p class="pBody">
使用此页可以使代理服务对消息内容进行流传输，而不是将其存储到内存中。此外，还可以使代理服务对 MTOM/XOP 格式的入站消息进行解码和语法分析，以及使用 MTOM/XOP 格式发送响应 (适当时)。SOAP 消息传输优化机制 (MTOM) 是向或从 Web 服务发送二进制数据的方法。MTOM 使用 XML 二进制优化打包 (XOP) 传输二进制数据。
</p>
<a name="wp1318045"> </a><p class="pBody">
使用此页还可以使代理服务将 MIME 附件内容存储到磁盘文件，然后以流传输形式处理这些数据，而不将附件内容缓冲到内存中。这使得代理服务能够可靠有效地处理大型附件。
</p>
<a name="wp1316368"> </a><p class="pBody">
<a href="javascript:WWHClickedPopup('consolehelp', 'proxyserviceCreateProxyServiceMessageContentHandlingPage.html#wp1316375');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyserviceCreateProxyServiceMessageContentHandlingPage.html#wp1316375', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">表 19-17</span></a> 介绍了如何使用<b class="cBold">创建/编辑代理服务 - </b><b class="cBold">消息处理</b>页。
</p>
<a name="wp1316419"> </a><p class="pBodyRelative">
</p>
<div align="left">
<table class="table" border="1" cellpadding="3" cellspacing="0" id="wp1316375table1316369">
  <caption><a name="wp1316375"></a>表 19-17“创建/编辑代理服务 - 消息处理”页


</caption>
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><a name="wp1316379"> </a><div class="pCellHeading">
选项
</div>
</th>
    <th scope="col"><a name="wp1316381"> </a><div class="pCellHeading">
创建或编辑...
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1325326"> </a><div class="pCellBody">
需要事务处理
</div>
</td>
    <td class="table" scope="row"><a name="wp1325337"> </a><div class="pCellBody">
选择此选项可确保 Oracle Service Bus 在事务处理上下文中执行代理服务消息流。如果已存在全局事务处理，传输提供程序将在请求中传播此事务处理 (即使您未选择此选项也是如此)。如果不存在全局事务处理，消息流运行时将启动一个事务处理。此时，所启动的事务处理上下文将在验证或运行服务配置 (例如，安全检查或 WS-I 验证) 之前开始，并且在消息流执行之前开始，从而确保所有处理和执行都在事务上下文中进行。
</div>
<a name="wp1325339"> </a><div class="pCellBody">
如果消息流运行时启动一个事务处理，则服务质量为“恰好一次”。但是，如果服务标注或发布操作将出站服务质量参数设置为“最佳效果”(默认值)，则 Oracle Service Bus 将在事务处理上下文外执行这些操作。要使 Oracle Service Bus 在相同请求事务处理上下文中执行这些操作，请将这些操作的服务质量设置为“恰好一次”。
</div>
<a name="wp1325341"> </a><div class="pCellBody">
无论此选项的设置如何，服务都会维护其消息传送模式 (同步、异步和单向)。
</div>
<a name="wp1325343"> </a><div class="pCellBody">
对于事务处理超时，Oracle WebLogic Server 控制台中配置的全局事务处理超时值适用。
</div>
<a name="wp1325345"> </a><div class="pCellBody">
<b class="cBold">事务处理中的异常错误</b>
</div>
<a name="wp1325347"> </a><div class="pCellBody">
Oracle Service Bus 对失败的事务处理调用系统错误处理程序。您不能捕获用户配置的错误处理程序中失败的事务处理异常错误。对于同步模式，事务处理异常错误通过响应返回。对于异步模式，如果事务处理要在请求中提交，将在请求线程中发送回异常错误。
</div>
<a name="wp1325328"> </a><div class="pCellBody">
请注意，在异步模式下，响应中包含的、在请求中提交事务处理后发生的错误不会影响此事务处理。
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1325330"> </a><div class="pCellBody">
将同一事务处理用于响应
</div>
</td>
    <td class="table" scope="row"><a name="wp1325432"> </a><div class="pCellBody">      此选项仅适用于单向和异步消息传送模式。<br /> <br />如果选择此选项，则 Oracle Service Bus 将事务处理上下文从请求线程传播到响应线程。
      </div>
<a name="wp1325434"> </a><div class="pCellBody">
如果选择此选项，则无论初始消息模式设置如何 (如异步或单向模式)，消息模式都自动变为同步模式。
</div>
<a name="wp1325436"> </a><div class="pCellBody">
在以下情况下，您不能使用此选项：例如，当请求中的业务服务要求在发送响应之前提交事务处理时 (如单向模式)。
</div>
<a name="wp1325332"> </a><div class="pCellBody">
对于事务处理超时，Oracle WebLogic Server 控制台中配置的全局事务处理超时值适用。
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1318800"> </a><div class="pCellBody">
内容流传输
</div>
</td>
    <td class="table" scope="row"><a name="wp1318803"> </a><div class="pCellBody">
选择此选项可对消息内容进行流传输，而不是将其存储在内存中。
</div>
<a name="wp1318804"> </a><div class="pCellBody">
选中<b class="cBold">已启用</b>复选框并选择以下选项：
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1318829"> </a><li>将中间内容缓冲到内存中 (<b class="cBold">内存缓冲区</b>) 还是磁盘文件中 (<b class="cBold">磁盘缓冲区</b>)</li>
<a name="wp1318835"> </a><li>是否启用<b class="cBold">压缩</b></li>
</ul></div>
<a name="wp1318808"> </a><div class="pCellBody">
有关详细信息，请参阅 <em class="cEmphasis">Oracle Fusion Middleware Administrator's Guide for Oracle Service Bus</em> 中的“Streaming body Content”，网址为：<span class="cHyperlink"><a href="http://www.oracle.com/pls/as111170/lookup?id=OSBAG314" target="_window">http://www.oracle.com/pls/as111170/lookup?id=OSBAG314</a></span>。
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1316595"> </a><div class="pCellBody">
XOP/MTOM 支持
</div>
</td>
    <td class="table" scope="row"><a name="wp1316920"> </a><div class="pCellBody">
Oracle Service Bus 支持使用以下传输的 XOP/MTOM：
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1316921"> </a><li>HTTP/S</li>
<a name="wp1316922"> </a><li>本地</li>
<a name="wp1316779"> </a><li>SB</li>
</ul></div>
<a name="wp1316896"> </a><div class="pCellBody">
选中<b class="cBold">已启用</b>复选框以使代理服务对 MTOM/XOP 格式的入站消息进行解码和语法分析并使用 MTOM/XOP 格式发送响应 (适当时)。请注意，对于基于以前版本配置的导入代理服务，禁用此选项。
</div>
<a name="wp1316995"> </a><div class="pCellBody">
如果启用了 XOP/MTOM 支持，请从以下选项中选择处理 $header 和 $body 消息上下文变量中的二进制数据的方式：
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1317024"> </a><li><b class="cBold">按引用包含二进制数据</b>：(默认) 在入站请求消息中，在设置 $header 和 $body 消息上下文变量时，将 xop:Include 元素替换为 ctx:binary-content 元素。</li>
<a name="wp1317027"> </a><li><b class="cBold">按值包含二进制数据</b>：在入站请求消息中，在设置 $header 和 $body 消息上下文变量时，将 xop:Include 元素替换为 Base64 编码文本版本的对应二进制数据。</li>
</ul></div>
<a name="wp1316786"> </a><div class="pCellBody">
需要直接访问二进制数据时使用“按引用包含二进制数据”，例如将数据传递到 Java 标注或消息格式语言 (MFL) 转换。
</div>
<a name="wp1317140"> </a><div class="pCellBody">
在以下情况下使用“按值包含二进制数据”：
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1317161"> </a><li>在 MTOM 和非 MTOM 服务之间创建桥接程序。例如，已启用 MTOM 的代理服务在接收请求后将其路由到非已启用 MTOM 的服务。可以使用此选项来符合以 Base64 编码形式发送 XML 格式的二进制数据的现有标准。</li>
<a name="wp1316787"> </a><li>依照 XML 方案 (需要用 base64binary 元素代替二进制数据) 验证消息的内容</li>
</ul></div>
<a name="wp1317000"> </a><div class="pCellBody">
请注意，如果为代理服务启用了 XOP/MTOM 支持，则不要求每条入站消息都是 MTOM 格式。此设置指定当有 MTOM 格式的消息到达时，代理服务应该对消息进行相应处理。另请注意，当未启用 XOP/MTOM 支持的代理服务收到 MTOM 格式的消息时，该服务将拒绝该消息并发出运行时错误。
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1316597"> </a><div class="pCellBody">
附件
</div>
</td>
    <td class="table" scope="row"><a name="wp1317826"> </a><div class="pCellBody">
Oracle Service Bus 支持使用以下传输对 MIME 附件进行流传输：
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1317827"> </a><li>HTTP/S</li>
<a name="wp1317828"> </a><li>本地 (当通过 HTTP 代理形成链且对附件启动流传输时)</li>
</ul></div>
<a name="wp1317830"> </a><div class="pCellBody">
选中<b class="cBold">将附件分页写入磁盘</b>复选框以使代理服务对 MIME 附件进行流传输。为 HTTP 代理服务启用该选项时，该选项适用于代理服务入站请求消息。
</div>
<a name="wp1317794"> </a><div class="pCellBody">
请注意，如果选择 XOP/MTOM 支持，则仅当选择“XOP/MTOM 支持”下的<b class="cBold">按引用包含二进制数据</b>选项时，“附件”选项才可用。另请注意，包含附件的有效负载必须符合 RFC 822。具体地说，包含 Internet 标头的行必须以 CRLF (回车换行) 结束。
</div>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">

</p>
<a name="wp1316420"> </a><p class="pBody">
<b class="cBold">完成之后</b>
</p>
<a name="wp1316423"> </a><p class="pBody">
单击<b class="cBold">下一步</b>可在<b class="cBold">“创建/编辑代理服务 - </b><a href="javascript:WWHClickedPopup('consolehelp', 'proxyserviceCreateProxyServiceSummaryPage.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyserviceCreateProxyServiceSummaryPage.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">概要”页</span></a>上查看和保存此配置。
</p>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>


<script type="text/javascript" language="JavaScript1.2">
   <!--
function WWHDefineBEALogoLink()
{
return "http://www.bea.com";
}
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
