<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh_CN" lang="zh_CN">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="" />
<meta name="LOC_US_CHANGE" content="" />
<meta name="LOC_US_SRCFILE" content="" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WWH_Template_V1.0" />
    <meta name="LASTUPDATED" content="03/06/10 00:59:27" />
    <title>在 XQuery 编辑器中创建变量结构</title>
    <link rel="StyleSheet" href="edocs.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");

if (top.location == self.location )
    self.location = "index.html?href=proxyserviceDefineVariableStructure.html"
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>

  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

<a name="wp1260349"> </a><h2 class="pHead1Split">
在 XQuery 编辑器中创建变量结构
</h2>
<a name="wp1278030"> </a><p class="pBody">
XQuery 编辑器和 XPath 编辑器中的<b class="cBold">变量结构</b>选项板可显示变量内容的图形表示形式。在默认情况下，它包含内置消息上下文变量 <code class="cCode">attachments</code>、<code class="cCode">body</code>、<code class="cCode">header</code>、<code class="cCode">outbound</code> 和 <code class="cCode">inbound</code>。 
</p>
<a name="wp1278039"> </a><p class="pBody">
每个变量结构映射条目都有一个标签，将变量或变量路径映射到一个或多个结构。这些映射的范围为阶段或路由节点。
</p>
<a name="wp1278031"> </a><p class="pBody">
也可以基于以下内容声明自己的变量结构：
</p>
<div class="pSmartList1Bullet"><ul class="pSmartList1Bullet">
<a name="wp1278032"> </a><li>XML 类型，包括：</li>
<div class="pSmartList2Bullet"><ul class="pSmartList2Bullet">
<a name="wp1277978"> </a><li>方案元素</li>
<a name="wp1277982"> </a><li>WSDL 元素</li>
<a name="wp1277991"> </a><li>方案类型</li>
<a name="wp1277992"> </a><li>WSDL 类型</li>
<a name="wp1277993"> </a><li>MFL</li>
</ul></div>
<a name="wp1277977"> </a><li>服务接口</li>
<a name="wp1277996"> </a><li>简单类型 (字符串或任何 XML)</li>
</ul></div>
<a name="wp1277968"> </a><p class="pBody">
可以将此功能直接用于所有用户定义的变量，以及 <code class="cCode">$inbound</code>、<code class="cCode">$outbound</code> 和 <code class="cCode">$fault</code>。但是，您不能用它直接访问 <code class="cCode">$attachments</code> 中的 XML 附件、<code class="cCode">$header</code> 中的标题或 <code class="cCode">$body</code> 中的文档和 RPC 参数，只有一个例外 - 可以用它直接访问 WSDL 代理服务接收的请求消息的 <code class="cCode">$body</code> 中的文档和参数。
</p>
<a name="wp1268226"> </a><p class="pBody">
<b class="cBold">开始之前</b>
</p>
<a name="wp1276631"> </a><p class="pBody">
这些说明假定您将在 <b class="cBold">XQuery 表达式编辑器</b>、<b class="cBold">XQuery 条件编辑器</b>或 <b class="cBold">XPath 表达式编辑器</b>中创建或编辑表达式，如<a href="javascript:WWHClickedPopup('consolehelp', 'proxyservicesCreatingAndEditingInlineExpressions.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyservicesCreatingAndEditingInlineExpressions.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">创建和编辑内嵌 XQuery 和 XPath 表达式</span></a>中所述。 
</p>
<a name="wp1230207"> </a><p class="pBody">
<b class="cBold">要创建变量结构，请执行以下操作：</b>
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp1261427"> </a><li>选择<b class="cBold">变量结构</b>。 </li>
<a name="wp1262583"> </a><li>在<b class="cBold">变量结构</b>选项板中，单击<b class="cBold">添加新结构</b>。 </li>
<a name="wp1268248"> </a><li>继续执行下面的<a href="javascript:WWHClickedPopup('consolehelp', 'proxyserviceDefineVariableStructure.html#wp1268252');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyserviceDefineVariableStructure.html#wp1268252', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">表 22-3</span></a> 中列出的任何任务。</li>
<a name="wp1268334"> </a><p class="pBodyRelative">
<div align="left">
<table class="table" border="1" cellpadding="3" cellspacing="0" id="wp1268252table1268249">
  <caption><a name="wp1268252"></a>表 22-3 创建新的变量结构


</caption>
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><a name="wp1268256"> </a><div class="pCellHeading">
操作
</div>
</th>
    <th scope="col"><a name="wp1268258"> </a><div class="pCellHeading">
步骤
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1268260"> </a><div class="pCellBody">
创建用于将变量映射到 XML 方案类型的变量结构
</div>
</td>
    <td class="table" scope="row"><div class="pSmartList1Table"><ol type="1" class="pSmartList1Table">
<a name="wp1268262"> </a><li>选择<b class="cBold">变量结构</b>选项板顶部的 <b class="cBold">XML 类型</b> (如果尚未选中)。</li>
<a name="wp1268263"> </a><li>在<b class="cBold">结构标签</b>字段中，输入要创建的变量的显示名称。该显示名称允许您赋予结构一个有意义的名称，以便在设计时识别出该结构，但显示名称在运行时没有任何影响。</li>
<a name="wp1268264"> </a><li>在<b class="cBold">结构路径</b>字段中，输入变量结构在运行时的路径。路径必须以 <code class="cCode">$</code> 开头。</li>
<a name="wp1268265"> </a><li>在<b class="cBold">类型</b>字段下，选择相应的单选按钮，然后选择<b class="cBold">方案类型</b>。</li>
<a name="wp1268266"> </a><li>单击<b class="cBold">浏览</b>。此时会显示 <b class="cBold">XML 方案浏览器</b>。从列表中选择 XML 方案，再从“定义”窗格中选择 XML 方案类型，然后单击<b class="cBold">提交</b>。</li>
<a name="wp1268267"> </a><li>单击<b class="cBold">添加</b>创建变量结构。</li>
</ol></div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1268269"> </a><div class="pCellBody">
创建用于将变量映射到 WSDL 类型的变量结构
</div>
</td>
    <td class="table" scope="row"><div class="pSmartList1Table"><ol type="1" class="pSmartList1Table">
<a name="wp1269612"> </a><li>选择<b class="cBold">变量结构</b>选项板顶部的 <b class="cBold">XML 类型</b> (如果尚未选中)。</li>
<a name="wp1268272"> </a><li>在<b class="cBold">结构标签</b>字段中，输入要创建的变量的显示名称。该显示名称允许您赋予结构一个有意义的名称，以便在设计时识别出该结构，但显示名称在运行时没有任何影响。</li>
<a name="wp1268273"> </a><li>在<b class="cBold">结构路径</b>字段中，输入变量结构在运行时的路径。 </li>
<a name="wp1268274"> </a><li>在<b class="cBold">类型</b>字段中，选择相应的单选按钮，然后选择 <b class="cBold">WSDL 类型</b>。</li>
<a name="wp1268275"> </a><li>单击<b class="cBold">浏览</b>。此时会显示 <b class="cBold">WSDL 浏览器</b>。从 WSDL 列表中选择 WSDL，再从“定义”窗格中选择 WSDL 类型，然后单击<b class="cBold">提交</b>。</li>
<a name="wp1268276"> </a><li>单击<b class="cBold">添加</b>创建变量结构。</li>
</ol></div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1268278"> </a><div class="pCellBody">
创建用于将变量映射到 XML 方案元素的变量结构
</div>
</td>
    <td class="table" scope="row"><div class="pSmartList1Table"><ol type="1" class="pSmartList1Table">
<a name="wp1269620"> </a><li>在<b class="cBold">变量结构</b>选项板的顶部选择 <b class="cBold">XML 类型</b> (如果尚未选中)。</li>
<a name="wp1268281"> </a><li>在<b class="cBold">结构标签</b>字段中，输入要创建的变量的显示名称。该显示名称允许您赋予结构一个有意义的名称，以便在设计时识别出该结构，但显示名称在运行时没有任何影响。</li>
<a name="wp1268282"> </a><li>在<b class="cBold">结构路径</b>字段中，输入变量结构在运行时的路径。 </li>
<a name="wp1268283"> </a><li>在<b class="cBold">类型</b>字段中，选择相应的单选按钮，然后选择<b class="cBold">方案元素</b>。</li>
<a name="wp1268284"> </a><li>单击<b class="cBold">浏览</b>。此时会显示 <b class="cBold">XML 方案浏览器</b>。从列表中选择 XML 方案，再从“定义”窗格中选择 XML 方案类型，然后单击<b class="cBold">提交</b>。</li>
<a name="wp1268285"> </a><li>单击<b class="cBold">添加</b>创建变量结构。</li>
</ol></div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1268287"> </a><div class="pCellBody">
创建用于将变量映射到 WSDL 元素的变量结构
</div>
</td>
    <td class="table" scope="row"><div class="pSmartList1Table"><ol type="1" class="pSmartList1Table">
<a name="wp1269709"> </a><li>在<b class="cBold">变量结构</b>选项板的顶部选择 <b class="cBold">XML 类型</b> (如果尚未选中)。</li>
<a name="wp1268290"> </a><li>在<b class="cBold">结构标签</b>字段中，输入要创建的变量的显示名称。该显示名称允许您赋予结构一个有意义的名称，以便在设计时识别出该结构，但显示名称在运行时没有任何影响。</li>
<a name="wp1268291"> </a><li>在<b class="cBold">结构路径</b>字段中，输入变量结构在运行时的路径。</li>
<a name="wp1268292"> </a><li>在<b class="cBold">类型</b>字段中，选择相应的单选按钮，然后选择 <b class="cBold">WSDL 元素</b>。</li>
<a name="wp1268293"> </a><li>单击<b class="cBold">浏览</b>。此时会显示 <b class="cBold">WSDL 浏览器</b>。从 WSDL 列表中选择 WSDL，再从“定义”窗格中选择 WSDL 元素，然后单击<b class="cBold">提交</b>。</li>
<a name="wp1268294"> </a><li>单击<b class="cBold">添加</b>创建变量结构。</li>
</ol></div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1268296"> </a><div class="pCellBody">
创建用于将变量映射到子元素的变量结构
</div>
</td>
    <td class="table" scope="row"><div class="pSmartList1Table"><ol type="1" class="pSmartList1Table">
<a name="wp1269713"> </a><li>在<b class="cBold">变量结构</b>选项板的顶部选择 <b class="cBold">XML 类型</b> (如果尚未选中)。</li>
<a name="wp1268299"> </a><li>在<b class="cBold">结构标签</b>字段中，输入要创建的变量的显示名称。该显示名称允许您赋予结构一个有意义的名称，以便在设计时识别出该结构，但显示名称在运行时没有任何影响。</li>
<a name="wp1268300"> </a><li>在<b class="cBold">结构路径</b>字段中，输入变量结构在运行时的路径。 </li>
<a name="wp1268301"> </a><li>在<b class="cBold">类型</b>字段中，选择要创建的变量的类型：</li>
<a name="wp1268302"> </a><p class="pTableListPara">
要创建 XML 方案元素变量或 WSDL 元素变量，请选择与此选项相关联的单选按钮，然后选择<b class="cBold">方案元素</b>或 <b class="cBold">WSDL 元素</b>。
</p>
<a name="wp1268303"> </a><p class="pTableListPara">
要创建 MFL 变量，请选择与此选项相关联的单选按钮，然后选择 <b class="cBold">MFL</b>。
</p>
<a name="wp1268304"> </a><li>对于 XML 方案、WSDL 或 MFL，单击<b class="cBold">浏览</b>从浏览器显示的列表中选择对象，然后单击<b class="cBold">提交</b>。例如，从 MFL 列表中选择 MFL，然后单击<b class="cBold">提交</b>。</li>
<a name="wp1268305"> </a><li>选中<b class="cBold">设置为子级</b>复选框，将元素设置为正在创建的结构的子元素。</li>
<a name="wp1268306"> </a><li>单击<b class="cBold">添加</b>创建变量结构。</li>
</ol></div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1268308"> </a><div class="pCellBody">
创建使用 MFL 资源的变量结构
</div>
</td>
    <td class="table" scope="row"><div class="pSmartList1Table"><ol type="1" class="pSmartList1Table">
<a name="wp1269717"> </a><li>在<b class="cBold">变量结构</b>选项板的顶部选择 <b class="cBold">XML 类型</b> (如果尚未选中)。</li>
<a name="wp1268311"> </a><li>在<b class="cBold">结构标签</b>字段中，输入要创建的变量的显示名称。该显示名称允许您赋予结构一个有意义的名称，以便在设计时识别出该结构，但显示名称在运行时没有任何影响。</li>
<a name="wp1268312"> </a><li>在<b class="cBold">结构路径</b>字段中，输入变量结构在运行时的路径。 </li>
<a name="wp1268313"> </a><li>在<b class="cBold">类型</b>字段中，选择相应的单选按钮，然后单击<b class="cBold">浏览</b>。此时会显示 <b class="cBold">MFL 浏览器</b>。 </li>
<a name="wp1268314"> </a><li>从 MFL 列表中选择 MFL，然后单击<b class="cBold">提交</b>。</li>
<a name="wp1268315"> </a><li>单击<b class="cBold">添加</b>创建变量结构。</li>
</ol></div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1268317"> </a><div class="pCellBody">
创建服务接口变量结构
</div>
</td>
    <td class="table" scope="row"><div class="pSmartList1Table"><ol type="1" class="pSmartList1Table">
<a name="wp1269636"> </a><li>在<b class="cBold">变量结构</b>选项板的顶部选择<b class="cBold">服务接口</b>。</li>
<a name="wp1268320"> </a><li>在<b class="cBold">结构标签</b>字段中，输入要创建的变量的显示名称。该显示名称允许您赋予结构一个有意义的名称，以便在设计时识别出该结构，但显示名称在运行时没有任何影响。</li>
<a name="wp1268321"> </a><li>在<b class="cBold">结构路径</b>字段中，默认值已设置为 <b class="cBold">$body</b>。不能更改该字段。</li>
<a name="wp1268322"> </a><li>在<b class="cBold">基于 WSDL 的服务</b>字段中，选择<b class="cBold">服务浏览器</b>图标，再从<b class="cBold">服务浏览器</b>所显示的服务列表中选择服务，然后单击<b class="cBold">提交</b>。</li>
<a name="wp1268323"> </a><p class="pTableListPara">
所选服务将显示在“基于 WSDL 的服务”字段中。
</p>
<a name="wp1268324"> </a><li>在<b class="cBold">操作</b>字段中，选择操作，或者选择<b class="cBold">无</b>以便不包括任何操作。</li>
<a name="wp1268325"> </a><li>单击<b class="cBold">添加</b>创建变量。</li>
</ol></div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1268327"> </a><div class="pCellBody">
创建简单变量结构
</div>
</td>
    <td class="table" scope="row"><div class="pSmartList1Table"><ol type="1" class="pSmartList1Table">
<a name="wp1269669"> </a><li>在<b class="cBold">变量结构</b>选项板的顶部选择<b class="cBold">简单类型</b>。</li>
<a name="wp1268330"> </a><li>在<b class="cBold">结构标签</b>字段中，输入要创建的变量的显示名称。该显示名称允许您赋予结构一个有意义的名称，以便在设计时识别出该结构，但显示名称在运行时没有任何影响。</li>
<a name="wp1268331"> </a><li>在<b class="cBold">结构名称</b>字段中，输入要创建的变量结构的名称。</li>
<a name="wp1268332"> </a><li>在<b class="cBold">类型</b>字段中，选择<b class="cBold">字符串</b>或<b class="cBold">任何 XML</b>。</li>
<a name="wp1268333"> </a><li>单击<b class="cBold">添加</b>创建变量。</li>
</ol></div>
</td>
</tr>
</table>
</div>

</p>
</ol></div>
<a name="wp1268404"> </a><p class="pBody">
<b class="cBold">完成之后</b>
</p>
<a name="wp1268410"> </a><p class="pBody">
继续执行操作，如<a href="javascript:WWHClickedPopup('consolehelp', 'proxyservicesCreatingAndEditingInlineExpressions.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyservicesCreatingAndEditingInlineExpressions.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">创建和编辑内嵌 XQuery 和 XPath 表达式</span></a>中所述。
</p>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>


<script type="text/javascript" language="JavaScript1.2">
   <!--
function WWHDefineBEALogoLink()
{
return "http://www.bea.com";
}
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
