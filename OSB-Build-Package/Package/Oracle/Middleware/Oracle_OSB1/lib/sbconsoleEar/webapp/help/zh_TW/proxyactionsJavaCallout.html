<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh_TW" lang="zh_TW">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="" />
<meta name="LOC_US_CHANGE" content="" />
<meta name="LOC_US_SRCFILE" content="" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WWH_Template_V1.0" />
    <meta name="LASTUPDATED" content="03/06/10 00:59:23" />
    <title>新增 Java 外部呼叫動作</title>
    <link rel="StyleSheet" href="edocs.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");

if (top.location == self.location )
    self.location = "index.html?href=proxyactionsJavaCallout.html"
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <style type="text/css">
<!--
.style1 {font-family: "Courier New", Courier, monospace}
-->
    </style>
</head>

  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

<a name="wp1265748"> </a><h2 class="pHead1Split">
新增 Java 外部呼叫動作
</h2>
<a name="wp1265749"> </a><p class="pBody">
使用 Java 外部叫用動作可以從訊息流程內叫用 Java 方法或 EJB 業務服務。 
</p>
<a name="wp1325040"> </a><p class="pBody">
<b class="cBold">開始之前</b>
</p>
<a name="wp1323999"> </a><p class="pBody">
這些指示假設您已在「編輯訊息流程」頁面中編輯訊息流程 (如<a href="javascript:WWHClickedPopup('consolehelp', 'proxyserviceCreateEditViewMessageFlows.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyserviceCreateEditViewMessageFlows.html', (document.all||document.getElementById||document.layers)?event:null);">建立、編輯和檢視訊息流程</a>中所述)。<b class="cBold"></b>
</p>
<a name="wp1325044"> </a><p class="pBody">
<b class="cBold">若要新增 Java 外部呼叫動作</b>
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp1314914"> </a><li>瀏覽至想要新增動作的位置 (如<a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsAddAction.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsAddAction.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">新增和編輯訊息流程的動作</span></a>中所述)。</li>
<a name="wp1314916"> </a><li>按一下適當的圖示，然後選取「新增動作」>「訊息處理」>「Java 外部呼叫」。<b class="cBold"></b></li>
<a name="wp1268327"> </a><li>按一下 &lt;<b class="cBold">方法</b>>。隨即顯示<b class="cBold">選取 JAR</b> 頁面。從清單中選擇 JAR 資源。隨即顯示「選取類別及方法」頁面。<b class="cBold"></b></li>
<a name="wp1268523"> </a><li>從列出的 Java 類別清單中，按一下適當類別旁邊的 + 號，以顯示方法清單。選取方法，然後按一下<b class="cBold">提交</b>。Java 外部呼叫動作會顯示在<b class="cBold">編輯階段</b>頁面中，如下所示：</li>
<div class="pSmartList2Bullet"><ul class="pSmartList2Bullet">
<a name="wp1276962"> </a><li>&lt;<b class="cBold">方法</b>> 會取代為您在步驟 2 和 3 中選取之 Java 方法的名稱。此名稱是連到<b class="cBold">選取類別和方法</b>頁面的連結。您可以按一下此連結來變更所選擇的 Java 方法。</li>
<a name="wp1276968"> </a><p class="pBodyRelative">
方法必須是靜態方法。
</p>
<a name="wp1276963"> </a><li><b class="cBold">參數</b>：針對 Java 方法需要的每個引數，提供 <b class="cBold">XQuery 表示式編輯器</b>頁面的 &lt;<b class="cBold">表示式</b>> 連結。每一個連結的標籤指出引數的資料類型，它會是下列其中之一： </li>
<div class="pSmartList3Bullet"><ul class="SmartList3Bullet">
<a name="wp1276919"> </a><li><code class="cCode">Java.lang.String</code> </li>
<a name="wp1276920"> </a><li>基本類型和其對應的類別類型 (例如 <code class="cCode">int</code> 與 <code class="cCode">java.lang.Integer</code>)</li>
<a name="wp1276921"> </a><li><code class="cCode">java.lang.BigDecimal</code> 和 <code class="cCode">java.lang.BigInteger</code> (這些類型是用於不接受捨入誤差或溢出的金融計算)</li>
<a name="wp1276922"> </a><li>只有 <code class="cCode">org.apache.xbeans.XmlObject</code>，而沒有具有類型的 xml Bean。</li>
<a name="wp1276923"> </a><li><code class="cCode">byte[]</code> </li>
<a name="wp1276924"> </a><li><code class="cCode">java.lang.String[]</code> (僅限輸入)</li>
<a name="wp1276925"> </a><li><code class="cCode">XmlObject [ ]</code> (僅限輸入)</li>
<li class="cCode style1"><span id="mainframespan">javax.activation.DataSource</span></li>
</ul>
</div>
<a name="wp1276927"> </a>
<li><strong>傳回參數作為參照</strong>：此選項可讓「Java 外部呼叫」呼叫的傳回值成為 &lt;java-content ref="jcid">參照元素 (不論實際類型為何)，jcid 在此為管線物件儲存區域中物件的索引鍵。在「結果」值欄位輸入變數名稱以包含 java 內容參照。此選項除了提供傳遞通道、使用「Java 外部呼叫」和內置動作豐富訊息，或執行 Java 和非 Java 傳輸間訊息轉換的管線 XML 外，還可讓您使用訊息流程中的參照物件。有關詳細資訊，請參閱 <em>Oracle Fusion Middleware Developer's Guide for Oracle Service Bus</em> 中的 "Sending and Receiving Java Objects in Messages"，網址為：<a href="http://www.oracle.com/pls/as111170/lookup?id=OSBDV1874" target="_window">http://www.oracle.com/pls/as111170/lookup?id=OSBDV1874</a>。</li>
<li><b class="cBold">結果</b>：供您輸入將被指派結果之變數的<b class="cBold">結果</b>欄位。欄位的標籤指出結果的資料類型。 </li>
<a name="wp1282298"> </a>
<table class="ListNote">
<tr>
<td valign="top"><strong>注意：</strong></td>
<td>如果結果是位元組陣列 (傳回的唯一可能陣列)，則會傳回二進位內容 XML 元素。 </td>
</tr>
</table>
<a name="wp1282299"> </a><li><b class="cBold">附加服務帳號</b>：如果有此 Java 方法的安全相關資訊環境，則<b class="cBold">服務帳號</b>連結可讓您指定選擇性的「服務帳號」。若要進一步瞭解安全相關資訊環境和服務帳號的相關資訊，請參閱<a href="javascript:WWHClickedPopup('consolehelp', 'serviceAccounts.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'serviceAccounts.html', (document.all||document.getElementById||document.layers)?event:null);">服務帳號</a>。</li>
<a name="wp1276933"> </a><p class="pBodyRelative">
若是固定和對應的服務帳號，則會在本機系統中驗證服務帳號的使用者 ID/密碼，且安全相關資訊環境會傳播至 Java 外部呼叫。若是 <code class="cCode">passthru</code>，則安全相關資訊環境會傳播至 Java 外部呼叫。若已使用 WS 安全定義，則此相關資訊環境會是已定義的訊息層級相關資訊環境。若無定義，便會是傳輸層級相關資訊環境。 
</p>
</ul>
</div>
<a name="wp1276902"> </a><li>在<span style="font-weight: bold">參數</span>下按 &lt;<span style="font-weight: bold">表示式</span>>。隨即顯示「XQuery 表示式編輯器」頁面。<span style="font-weight: bold"></span>使用「XQuery 表示式編輯器」可以提供 Java 方法所需的引數。請參閱<a href="javascript:WWHClickedPopup('consolehelp', 'proxyservicesCreatingAndEditingInlineExpressions.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyservicesCreatingAndEditingInlineExpressions.html', (document.all||document.getElementById||document.layers)?event:null);">建立和編輯內置 XQuery 和 XPath 表示式</a>。</li>
<a name="wp1270340"> </a><p class="pBodyRelative">
如果您輸入的輸入值類型不符合所宣告的輸入引數類型，Oracle Service Bus 會嘗試自動將輸入值定型為該輸入引數的已宣告類型。例如，如果輸入引數的已宣告類型是 Java 基本 <code class="cCode">int</code>，則會將字串值 <code class="cCode">"123"</code> 轉換為整數 <code class="cCode">123</code>。 
</p>
<a name="wp1270484"> </a><li>在「結果」欄位中，為 Java 方法傳回的結果指派變數。<b class="cBold"></b></li>
<a name="wp1268739"> </a><li>如果 Java 方法有安全相關資訊環境，請選取該核取方塊，並按一下 &lt;<b class="cBold">服務帳號</b>>。隨即顯示<b class="cBold">選取服務帳號</b>頁面。從清單中選取需要的服務帳號，然後按一下<b class="cBold">提交</b>。</li>
</ol></div>
<a name="wp1314248"> </a><p class="pBody">
<b class="cBold">完成作業後</b>
</p>
<a name="wp1325051"> </a><p class="pBody">
完成此動作的組態時，請繼續設定其他動作，或儲存組態 (如<a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsAddAction.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsAddAction.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">新增和編輯訊息流程的動作</span></a>中所述)。
</p>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>


<script type="text/javascript" language="JavaScript1.2">
   <!--
function WWHDefineBEALogoLink()
{
return "http://www.bea.com";
}
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
