<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh_TW" lang="zh_TW">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="" />
<meta name="LOC_US_CHANGE" content="" />
<meta name="LOC_US_SRCFILE" content="" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WWH_Template_V1.0" />
    <meta name="LASTUPDATED" content="03/06/10 00:59:23" />
    <title>新增服務外部呼叫動作</title>
    <link rel="StyleSheet" href="edocs.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");

if (top.location == self.location )
    self.location = "index.html?href=proxyactionsServiceCalloutAction.html"
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>

  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

<a name="wp1284900"> </a><h2 class="pHead1Split">
新增服務外部呼叫動作
</h2>
<a name="wp1315369"> </a><div class="pCellBody">
  <p>使用服務外部呼叫動作，可以設定對 Oracle Service Bus 登錄的代理或業務服務進行同步 (封鎖) 外部呼叫。</p>
  <p>如需服務外部呼叫動作的詳細資訊，請參閱 <span class="pBody"><em>Oracle Fusion Middleware Administrator's Guide for Oracle Service Bus</em> 中的 Constructing Service Callout Messages，網址為 <a href="http://www.oracle.com/pls/as111170/lookup?id=OSBAG208" target="_blank">http://www.oracle.com/pls/as111170/lookup?id=OSBAG208</a>。</span></p>
</div>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp1314340"> </a><li>瀏覽至想要新增動作的位置 (如<a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsAddAction.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsAddAction.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">新增和編輯訊息流程的動作</span></a>中所述)。</li>
<a name="wp1314342"> </a><li>按一下適當的圖示，然後選取「新增動作」>「通訊」>「服務外部呼叫」。<b class="cBold"></b><b class="cBold"></b></li>
<a name="wp1314334"> </a><li>按一下<b class="cBold">&lt;服務></b>。隨即顯示「服務瀏覽器」。</li>
<a name="wp1306504"> </a><li>從已登錄的代理主機服務或業務服務清單中選取服務，然後按一下「提交」。<b class="cBold"></b> </li>
<a name="wp1306506"> </a><li>如果您在上述步驟 3 中選擇的服務是以 WSDL 為基礎，且具有可以在服務上呼叫的作業，那些作業就會列在<b class="cBold">正在叫用&lt;作業></b> 下拉式清單中。請選取要在服務上呼叫的作業。<br /> <br /> <strong>注意</strong>：選取 Oracle Service Bus 因為許多原因而需要的作業時，並不保證只會呼叫選取的作業。例如，如果您選取「作業 A」，但是訊息也包含呼叫「作業 B」，就會一併呼叫「作業 B」。</li>
<a name="wp1306507"> </a><li>請選取下列其中一個選項來指定如何設定要求和回應訊息：</li>
<div class="pSmartList2Bullet"><ul class="pSmartList2Bullet">
<a name="wp1306508"> </a><li>選取<b class="cBold">設定 SOAP 主體</b>以設定「SOAP 主體」。選取此選項可以讓您直接使用 <code class="cCode">$body</code>。</li>
<a name="wp1306509"> </a>
<table class="ListNote">
<tr>
<td valign="top"><strong>注意：</strong></td>
<td>此選項支援 SOAP-RPC 編碼，而在設定有效負載參數或文件時並不支援此編碼。</td>
</tr>
</table>
<a name="wp1306510"> </a><li>選取「設定有效負載參數」或「設定有效負載文件」以設定有效負載。<b class="cBold"></b><b class="cBold"></b> </li>
</ul></div>
<a name="wp1306511"> </a><li>後續組態選項是根據您在步驟 3 中選擇的服務種類，以及您在步驟 5 中為該服務選擇的組態選項種類而定。<a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306518');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306518', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">表 21-3</span></a> 顯示每個服務類型的可用選項。<div align="left">
<table class="table" border="1" cellpadding="3" cellspacing="0" id="wp1306518table1306515">
  <caption><a name="wp1306518"> </a> 表 21-3 每個服務類型的服務外部呼叫組態選項&nbsp;
</caption>
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><a name="wp1306524"> </a><div class="pCellHeading">
選定服務類型
</div>
</th>
    <th scope="col"><a name="wp1306526"> </a><div class="pCellHeading">
<b class="cBold">設定 SOAP 主體選項</b>
</div></th>
    <th scope="col"><a name="wp1306528"> </a><div class="pCellHeading">
「設定有效負載參數」選項或<br />「設定有效負載文件」選項
</div></th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306530"> </a><li>SOAP RPC</li>
</ul></div>
</td>
    <td class="table" scope="row"><div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306534"> </a><li><a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306604');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306604', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">SOAP 要求主體和 SOAP 回應主體</span></a></li>
<a name="wp1306538"> </a><li><a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306612');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306612', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">SOAP 要求標頭和 SOAP 回應標頭</span></a> (選擇性)</li>
</ul></div></td>
    <td class="table" scope="row"><div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306544"> </a><li><a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306620');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306620', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">要求參數和回應參數</span></a></li>
<a name="wp1306548"> </a><li><a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306612');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306612', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">SOAP 要求標頭和 SOAP 回應標頭</span></a> (選擇性)</li>
</ul></div></td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306551"> </a><li>SOAP 文件</li>
<a name="wp1306552"> </a><li>任何 SOAP</li>
</ul></div>
</td>
    <td class="table" scope="row"><div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306556"> </a><li><a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306604');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306604', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">SOAP 要求主體和 SOAP 回應主體</span></a></li>
<a name="wp1306560"> </a><li><a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306612');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306612', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">SOAP 要求標頭和 SOAP 回應標頭</span></a> (選擇性)</li>
</ul></div></td>
    <td class="table" scope="row"><div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306565"> </a><li><a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306629');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306629', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">要求文件和回應文件</span></a></li>
<a name="wp1306569"> </a><li><a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306612');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306612', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">SOAP 要求標頭和 SOAP 回應標頭</span></a> (選擇性)</li>
</ul></div></td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306572"> </a><li>XML</li>
<a name="wp1306573"> </a><li>任何 XML</li>
<a name="wp1306574"> </a><li>訊息傳遞</li>
</ul></div>
</td>
    <td class="table" scope="row"><div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306578"> </a><li><a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306604');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306604', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">SOAP 要求主體和 SOAP 回應主體</span></a></li>
</ul></div></td>
    <td class="table" scope="row"><div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306583"> </a><li><a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306629');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306629', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">要求文件和回應文件</span></a></li>
</ul></div></td>
</tr>
</table>
</div>
<b class="cBold"> </b></li>
<a name="wp1306591"> </a><p class="pBodyRelative">
下面的<a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306595');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306595', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">表 21-4</span></a> 會提供上面<a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306518');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsServiceCalloutAction.html#wp1306518', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">表 21-3</span></a> 中所列之每個選項的指示。
</p>
<a name="wp1306641"> </a><p class="pBodyRelative">
<div align="left">
<table class="table" border="1" cellpadding="3" cellspacing="0" id="wp1306595table1306592">
  <caption><a name="wp1306595"> </a> 表 21-4 服務外部呼叫組態選項
</caption>
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><a name="wp1306599"> </a><div class="pCellHeading">
如果是下列選項...
</div>
</th>
    <th scope="col"><a name="wp1306601"> </a><div class="pCellHeading">
遵循下列步驟...
</div></th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1306604"> </a><div class="pCellBody">
<b class="cBold">SOAP 要求主體和 SOAP 回應主體<br /></b>
</div>
</td>
    <td class="table" scope="row"><a name="wp1306607"> </a><div class="pCellBody">
若要設定這些選項：
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306608"> </a><li>在「SOAP 要求主體」欄位中，輸入變數的名稱，用來存放外部呼叫要求的 SOAP 主體元素的 XML。<b class="cBold"></b></li>
<a name="wp1306609"> </a><li>在「SOAP 回應主體」欄位中，輸入變數的名稱，回應上的 SOAP 主體元素的 XML 將連結至這個變數。<b class="cBold"></b></li>
</ul></div></td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1306612"> </a><div class="pCellBody">
「SOAP 要求標頭」和<b class="cBold">「SOAP 回應標頭」<br /></b>
</div>
</td>
    <td class="table" scope="row"><a name="wp1306614"> </a><div class="pCellBody">
若要設定這些選項：
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306615"> </a><li>在「SOAP 要求標頭」欄位中，輸入變數的名稱，用來存放外部呼叫要求的 SOAP 標頭元素的 XML。<b class="cBold"></b> </li>
<a name="wp1306616"> </a><p class="pTableListPara">
您必須用 <code class="cCode">&lt;soap-env:Header>...&lt;/soap-env:Header></code> 來包住 SOAP 要求標頭的輸入文件。
</p>
<a name="wp1306617"> </a><li>在「SOAP 回應標頭」欄位中，輸入變數的名稱，回應上的 SOAP 標頭 (如果有) 的 XML 將連結至這個變數。<b class="cBold"></b></li>
</ul></div></td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1306620"> </a><div class="pCellBody">
「要求參數」和<b class="cBold">「回應參數」<br /></b>
</div>
</td>
    <td class="table" scope="row"><a name="wp1306622"> </a><div class="pCellBody">
若要設定這些選項：
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306623"> </a><li>在「要求參數」欄位中，輸入變數的名稱，在執行時期將評估這些變數來提供要求參數的值。<b class="cBold"></b></li>
<a name="wp1306624"> </a><p class="pTableListPara">
只可以在輸入變數中提供核心有效負載文件；Oracle Service Bus 會自動建立 SOAP 套件。換句話說，不要使用 <code class="cCode">&lt;soap-env:Body>...&lt;/soap-env:Body></code> 包裝輸入文件。 
</p>
<a name="wp1306625"> </a><p class="pTableListPara">
例如，在建立這個要求參數所用的主體輸入變數時，您應該使用 XPath 敘述 <code class="cCode">body/*</code> 來定義該變數的內容 (以移除包裝物件 <code class="cCode">soap-env:Body</code>)，而不要使用 <code class="cCode">$body</code> (會保留 <code class="cCode">soap-env:Body</code> 包裝物件)。
</p>
<a name="wp1306626"> </a><li>在「回應參數」欄位中，輸入變數的名稱，在執行時期將指派回應給這些變數。<b class="cBold"></b></li>
</ul></div></td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1306629"> </a><div class="pCellBody">
「要求文件」和<b class="cBold">「回應文件」<br /></b>
</div>
</td>
    <td class="table" scope="row"><a name="wp1306631"> </a><div class="pCellBody">
若要設定這些選項：
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<a name="wp1306632"> </a><li>在「要求文件變數」欄位中，輸入要指派要求文件的變數名稱。<b class="cBold"></b> </li>
<a name="wp1306633"> </a><p class="pTableListPara">
如果是<em class="cEmphasis">SOAP 文件類型</em>服務，則會在執行時期評估變數，以形成要傳送給服務的 SOAP 訊息主體。如果是<em class="cEmphasis">任何 XML</em> 服務，則會在執行時期評估變數，以形成要傳送給服務的 XML 訊息主體。
</p>
<a name="wp1306634"> </a><p class="pTableListPara">
如果是 SOAP 文件類型服務及任何 XML 服務，則只可以在輸入變數中提供核心有效負載文件；Oracle Service Bus 會自動建立 SOAP 套件。換句話說，不要使用 <code class="cCode">&lt;soap-env:Body>...&lt;/soap-env:Body></code> 包裝輸入文件。 
</p>
<a name="wp1306635"> </a><p class="pTableListPara">
例如，建立用於此要求參數的主體輸入變數時，會使用 XPath 敘述 <code class="cCode">body/*</code> (移除包裝物件 <code class="cCode">soap-env:Body</code>) 來定義變數的內容，而不是 <code class="cCode">$body</code> (會保留 soap-env:Body 包裝物件)。
</p>
<a name="wp1306636"> </a><p class="pTableListPara">
如果是<em class="cEmphasis">訊息</em>服務，則會根據服務所預期的資料類型來評估此變數，以形成訊息主體。訊息傳遞服務使用的值有下列限制： 
</p>
<div class="pSmartList2TableBullet"><ul class="pSmartList2TableBullet">
<a name="wp1306637"> </a><li>對於需要二進位資料的服務，變數必須有 <code class="cCode">ctx:binary-content</code> 元素。 </li>
<a name="wp1306638"> </a><li>對於需要 MFL 資料的服務，變數必須有同等的 XML 元素。 </li>
<a name="wp1306639"> </a><li>對於需要文字資料的服務，變數是字串。</li>
</ul></div>
<a name="wp1306640"> </a><li>在「回應文件變數」欄位中，輸入要在執行時期指派回應文件的變數名稱。<b class="cBold"></b></li>
</ul></div></td>
</tr>
</table>
</div>

</p>
<a name="wp1306644"> </a><li>選擇性新增一個或多個傳輸標頭。有關詳細資訊，請參閱<a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsTransportHeadersAction.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsTransportHeadersAction.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">新增傳輸標頭動作</span></a>。</li>
<a name="wp1340261"> </a>
<table class="ListNote">
<tr>
<td valign="top"><strong>注意：</strong></td>
<td>除了您指定的傳輸標頭之外，Oracle Service Bus 連結層會新增標頭。如需詳細資訊，請參閱「Oracle Fusion Middleware Developer's Guide for Oracle Service Bus」中的「Configuring Transport Headers in Message Flows」，網址為：<em class="cEmphasis">http://www.oracle.com/pls/as111170/lookup?id=</em>OSBAG201。<a href="http://www.oracle.com/pls/as111170/lookup?id=OSBAG201" target="_window"></a><em class="cEmphasis"></em></td>
</tr>
</table>
</ol>
</div>
<a name="wp1340262"> </a><p class="pBody">
<b class="cBold">完成作業後</b> 
</p>
<a name="wp1314149"> </a><p class="pBody">
完成此動作的組態時，請繼續設定其他動作，或儲存組態 (如<a href="javascript:WWHClickedPopup('consolehelp', 'proxyactionsAddAction.html');" onMouseOut="WWHHidePopup();" onMouseOver="WWHShowPopup('consolehelp', 'proxyactionsAddAction.html', (document.all||document.getElementById||document.layers)?event:null);"><span class="cHyperlink">新增和編輯訊息流程的動作</span></a>中所述)。
</p>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>


<script type="text/javascript" language="JavaScript1.2">
   <!--
function WWHDefineBEALogoLink()
{
return "http://www.bea.com";
}
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
