<?xml version="1.0"?>

<!--  $Header: emai/sysman/admin/adml/domain-oracle_webcache-11.0.xml /st_emaigc_11.1as/5 2010/06/16 22:56:27 skotha Exp $ -->

<!-- 
 Copyright (c) 2008, 2010, Oracle and/or its affiliates. All rights reserved. 

   NAME
     domain-oracle_webcache-11.0.xml - <one-line expansion of the name>

   DESCRIPTION
     <short description of component this file declares/defines>

   NOTES
     <other useful comments, qualifications, etc.>

   MODIFIED   (MM/DD/YY)
   skotha      05/04/10 - XbranchMerge skotha_bug-9501757 from
                          st_emaigc_pt-as11ps1was
   skotha      01/08/10 - Added new metrics for URL & Method learned rules
   skotha      03/23/09 - XbranchMerge skotha_bug-8342880 from
                          st_emaigc_project-21452
   skotha      12/10/08 - Adding admls for new charts and regions in home page
   rvijjapu    09/01/08 - Creation

-->

<Adml xmlns="http://www.oracle.com/iAS/aggregator"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      TableSpace="webcache">

 <Table Name="live_opmn_components">
  <ColumnDef Name="ComponentName" Type="String" Key="true"/>
  <ColumnDef Name="ComponentType" Type="String" Key="true"/>

  <Select Name="live_opmn_components_query">
   <TableFrom Name="opmn_process"/>
   <Column Name="ComponentName" Type="String">
    <Expression Operator="Concat">
     <Expression Operator="Concat">
      <Value>/</Value>
      <ColumnFrom Name="opmn_ias_instance"/>
     </Expression>
     <Expression Operator="Concat">
      <Value>/</Value>
      <ColumnFrom Name="opmn_ias_component"/>
     </Expression>
    </Expression>
   </Column>
   <Column Name="ComponentType" Type="String">
    <ColumnFrom Name="opmn_process_type"/>
   </Column>
   <Where>
    <Or>
     <Condition Type="String" Operator="EQ">
      <ColumnFrom Name="opmn_process_type"/>
      <Value>WebCache-admin</Value>
     </Condition>
     <Condition Type="String" Operator="EQ">
      <ColumnFrom Name="opmn_process_type"/>
      <Value>WebCache</Value>
     </Condition>
    </Or>
   </Where>
  </Select>
 </Table>

 <Table Name="runtime_process_status">
  <ColumnDef Name="QueryComponentName" Type="String" Key="true"/>
  <ColumnDef Name="ComponentName" Type="String" Key="true"/>
  <ColumnDef Name="Status" Type="Integer"/>

  <Select Name="response_result">
   <TableFrom Name="webcache:live_opmn_components"/>
   <Column Name="QueryComponentName" Type="String">
    <Value Name="ServerNames.parameter"/>
   </Column>
   <Column Name="ComponentName" Type="String"/>
   <Column Name="numRows" Type="Integer">
    <Aggregation Operator="Count"/>
    <Default>0</Default>
   </Column>
   <Column Name="Status" Type="Integer">
    <If>
     <Condition Operator="EQ">
      <ColumnFrom Name="numRows"/>
      <Value>1</Value>
     </Condition>
     <Then>
      <Value>1</Value>
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
    </If>
    <Default>0</Default>
   </Column>
   <GroupBy Name="QueryComponentName"/>
   <GroupBy Name="ComponentName"/>
   <Where>
    <And>
    <Condition Type="String" Operator="EQ">
     <ColumnFrom Name="ComponentName"/>
     <Value Name="ServerNames.parameter"/>
    </Condition>
    <Condition Type="String" Operator="EQ">
     <ColumnFrom Name="ComponentType"/>
     <Value>WebCache</Value>
    </Condition>
    </And>
   </Where>
  </Select>
 </Table>

 <!-- Admin process status -->
 <Table Name="admin_process_status">
  <ColumnDef Name="QueryComponentName" Type="String" Key="true"/>
  <ColumnDef Name="ComponentName" Type="String" Key="true"/>
  <ColumnDef Name="Status" Type="Integer"/>

  <Select Name="response_result">
   <TableFrom Name="webcache:live_opmn_components"/>
   <Column Name="QueryComponentName" Type="String">
    <Value Name="ServerNames.parameter"/>
   </Column>
   <Column Name="ComponentName" Type="String"/>
   <Column Name="numRows" Type="Integer">
    <Aggregation Operator="Count"/>
    <Default>0</Default>
   </Column>
   <Column Name="Status" Type="Integer">
    <If>
     <Condition Operator="EQ">
      <ColumnFrom Name="numRows"/>
      <Value>1</Value>
     </Condition>
     <Then>
      <Value>1</Value>
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
    </If>
    <Default>0</Default>
   </Column>
   <GroupBy Name="QueryComponentName"/>
   <GroupBy Name="ComponentName"/>
   <Where>
    <And>
    <Condition Type="String" Operator="EQ">
     <ColumnFrom Name="ComponentName"/>
     <Value Name="ServerNames.parameter"/>
    </Condition>
    <Condition Type="String" Operator="EQ">
     <ColumnFrom Name="ComponentType"/>
     <Value>WebCache-admin</Value>
    </Condition>
    </And>
   </Where>
  </Select>
 </Table>

 <!-- Cacheability rule statistics for each site -->
 <Table Name="cacheability_rules_by_application">
  <ColumnDef Name="ServerName" Type="String" Key="true"/>
  <ColumnDef Name="Name" Type="String" Key="true"/>
  <ColumnDef Name="wxcaCacheHitSuccess.value" Type="Integer"/>
  <ColumnDef Name="wxcaCacheHitError.value" Type="Integer"/>
  <ColumnDef Name="wxcaCache304.value" Type="Integer"/>
  <ColumnDef Name="wxcaCompressed.value" Type="Integer"/>
  <ColumnDef Name="wxcaMatched.value" Type="Integer"/>
  <ColumnDef Name="wxcaOSError.value" Type="Integer"/>
  <ColumnDef Name="wxcaOSSuccess.value" Type="Integer"/>
  <ColumnDef Name="wxcaSiteID.value" Type="Integer"/>
  <Select Name="webcache_cacheability_rules_aggregated_metrics_by_application_result">
   <TableFrom Name="webcache_WxcastatsX"/>
   <Column Name="ServerName" Type="String"/>
   <Column Name="Name" Type="String"/>
   <Column Name="wxcaCacheHitSuccess.value" Type="Integer"/>
   <Column Name="wxcaCacheHitError.value" Type="Integer"/>
   <Column Name="wxcaCache304.value" Type="Integer"/>
   <Column Name="wxcaCompressed.value" Type="Integer"/>
   <Column Name="wxcaMatched.value" Type="Integer"/>
   <Column Name="wxcaOSError.value" Type="Integer"/>
   <Column Name="wxcaOSSuccess.value" Type="Integer"/>
   <Column Name="wxcaSiteID.value" Type="Integer"/>     
   <Where>
    <And>
     <Or>
      <Condition Type="String" Operator="EQ">
       <ColumnFrom Name="Name"/>
       <Value Name="Name.parameter"/>
      </Condition>
      <Condition Type="String" Operator="EQ">
       <Value Name="Name.parameter" xsi:nil="true"/>
       <Null/>
      </Condition>
     </Or>
     <Or>
      <Condition Type="String" Operator="EQ">
       <ColumnFrom Name="ServerName"/>
        <Value Name="ServerName.parameter"/>
      </Condition>
      <Condition Type="String" Operator="EQ">
       <Value Name="ServerName.parameter" xsi:nil="true"/>
       <Null/>
      </Condition>
     </Or>
    </And>
   </Where>
  </Select>
 </Table>
 <!-- Load and Response Time metrics per instance -->
 <Table Name="instance_performance">
  <ColumnDef Name="instance_name" Type="String" Key="true"/>
  <ColumnDef Name="throughput" Type="Double"/>
  <ColumnDef Name="response_time" Type="Double"/>
  <Select Name="instance_performance">
   <TableFrom Name="webcache_timedAggSiteStatsX"/>
   <Column Name="instance_name" Type="String">
     <ColumnFrom Name="ServerName"/>
   </Column>
   <Column Name="throughput" Type="Double">
    <Rate Interval="300000">
     <ColumnFrom Name="HttpClientRequest.value"/>
     <Default>0</Default>
    </Rate>
   </Column>
   <Column Name="response_time" Type="Double">
    <Expression Operator="Div">
     <Rate Interval="300000">
      <ColumnFrom Name="HttpResponseTime.value"/>
      <ColumnFrom Name="HttpClientRequest.value"/>
      <Default>0</Default>
     </Rate>
     <Value>1000</Value>
    </Expression>
    <Default>0</Default>
   </Column>
   <Where>
    <Condition Type="String" Operator="EQ">
     <ColumnFrom Name="ServerName"/>
     <Value Name="ServerNames.parameter"/>
    </Condition>
   </Where>
  </Select>
 </Table>

 <Table Name="request_filter_denied_stats">
  <ColumnDef Name="site_name" Type="String"/>
  <ColumnDef Name="instance_name" Type="String"/>
  <ColumnDef Name="requests_denied" Type="Integer"/>
  <Union Name="union_rf_stats">
   <TableFrom Name="webcache_WxrfstatsCip"/>
   <TableFrom Name="webcache_WxrfstatsMethod"/>
   <TableFrom Name="webcache_WxrfstatsUrl"/>
   <TableFrom Name="webcache_WxrfstatsHdrs"/>
   <TableFrom Name="webcache_WxrfstatsQStr"/>
   <TableFrom Name="webcache_WxrfstatsFormat"/>
  </Union>
  <Select Name="rf_stats_grouped_by_site_and_instance">
   <TableFrom Name="union_rf_stats"/>
   <Column Name="site_name" Type="String">
    <ColumnFrom Name="wxrfSiteName.value" />
   </Column>
   <Column Name="instance_name" Type="String">
    <ColumnFrom Name="ServerName" />
   </Column>
   <Column Name="requests_denied" Type="Integer">
    <Aggregation Operator="Sum"  Name="wxrfDenyByThisRFRule.value" />
   </Column>
   <GroupBy Name="site_name"/>
   <GroupBy Name="instance_name"/>
   <Where>
    <Not>
     <Condition Type="String" Operator="EQ">
      <ColumnFrom Name="wxrfRuleName.value"/>
      <Value>Filter Type</Value>
     </Condition>
    </Not>
   </Where>
  </Select>
 </Table>

 <!-- Performance statics for each site including ALL_OTHER_SITES -->
 <Table Name="site_performance">
  <ColumnDef Name="instance_name" Type="String" Key="true"/>
  <ColumnDef Name="site_name" Type="String" Key="true"/>
  <ColumnDef Name="open_connetions" Type="Integer"/>
  <ColumnDef Name="requests_served" Type="Integer"/>
  <ColumnDef Name="requests_served_delta" Type="Integer"/>
  <ColumnDef Name="objects_cached" Type="Integer"/>
  <ColumnDef Name="cache_size" Type="Integer"/>
  <ColumnDef Name="hit_rate" Type="Integer"/>
  <ColumnDef Name="hit_rate_delta" Type="Integer"/>
  <ColumnDef Name="requests_denied" Type="Integer"/>
  <ColumnDef Name="requests_denied_delta" Type="Integer"/>
  <ColumnDef Name="bytes_saved" Type="Integer"/>
  <ColumnDef Name="bytes_saved_delta" Type="Integer"/>
  <ColumnDef Name="error_pages_served" Type="Integer"/>
  <ColumnDef Name="error_pages_served_delta" Type="Integer"/>
  <Select Name="site_performance_q0">
   <TableFrom Name="webcache_timedPerSiteStatsX"/>
   <TableFrom Name="webcache_nontimedPerSiteStatsX"/>
   <Column Name="instance_name" Type="String">
    <ColumnFrom Name="ServerName" Table="webcache_timedPerSiteStatsX"/>
   </Column>
   <Column Name="site_name" Type="String">
    <ColumnFrom Name="name.value" Table="webcache_timedPerSiteStatsX"/>
   </Column>
   <Column Name="open_connetions" Type="Integer">
    <ColumnFrom Name="OpenConnectionCount.value" Table="webcache_nontimedPerSiteStatsX"/>
   </Column>
   <Column Name="requests_served" Type="Integer">
    <ColumnFrom Name="HttpClientRequest.value" Table="webcache_timedPerSiteStatsX"/>
   </Column>
   <Column Name="requests_served_delta" Type="Integer">
    <Default>0</Default>
   </Column>
   <Column Name="objects_cached" Type="Integer">
    <ColumnFrom Name="CacheAllObjCount.value" Table="webcache_nontimedPerSiteStatsX"/>
   </Column>
   <Column Name="cache_size" Type="Integer">
    <ColumnFrom Name="CacheSize.value" Table="webcache_nontimedPerSiteStatsX"/>
   </Column>
   <Column Name="hit_rate" Type="Integer">
    <Expression Operator="Mult">
     <Expression Operator="Div">
      <Expression Operator="Plus">
       <Expression Operator="Plus">
        <Expression Operator="Plus">
         <ColumnFrom Name="ServeFreshFromDemand.value" Table="webcache_timedPerSiteStatsX"/>
         <ColumnFrom Name="ServeFreshFromOwnedToClient.value" Table="webcache_timedPerSiteStatsX"/>
        </Expression>
        <Expression Operator="Plus">
         <ColumnFrom Name="ServeStaleFromOwnedToClient.value" Table="webcache_timedPerSiteStatsX"/>
         <ColumnFrom Name="ServeStaleFromOwnedToPeer.value" Table="webcache_timedPerSiteStatsX"/>
        </Expression>
       </Expression>
       <Expression Operator="Plus">
        <ColumnFrom Name="ServeFreshFromOwnedToPeer.value" Table="webcache_timedPerSiteStatsX"/>
        <ColumnFrom Name="ServeStaleFromDemand.value" Table="webcache_timedPerSiteStatsX"/>
       </Expression>
      </Expression>
      <ColumnFrom Name="HttpRequest.value" Table="webcache_timedPerSiteStatsX"/>
     </Expression>
     <Value>100</Value>
    </Expression>
    <Default>0</Default>
   </Column>
   <Column Name="hit_rate_delta" Type="Integer">
    <Default>0</Default>
   </Column>
   <Column Name="requests_denied" Type="Integer">
    <Default>0</Default>
   </Column>
   <Column Name="requests_denied_delta" Type="Integer">
    <Default>0</Default>
   </Column>
   <Column Name="bytes_saved" Type="Integer">
    <ColumnFrom Name="BytesSavedWithCompression.value" Table="webcache_timedPerSiteStatsX"/>
   </Column>
   <Column Name="bytes_saved_delta" Type="Integer">
    <Default>0</Default>
   </Column>
   <Column Name="error_pages_served" Type="Integer">
    <Expression Operator="Plus">
     <ColumnFrom Name="NetworkErrorApology.value" Table="webcache_timedPerSiteStatsX"/>
     <Expression Operator="Plus">
      <ColumnFrom Name="PartialPageErrorApology.value" Table="webcache_timedPerSiteStatsX"/>
      <ColumnFrom Name="SiteBusyApology.value" Table="webcache_timedPerSiteStatsX"/>
     </Expression>
    </Expression>
   </Column>
   <Column Name="error_pages_served_delta" Type="Integer">
    <Default>0</Default>
   </Column>
   <Where>
    <And>
     <Condition Type="String" Operator="EQ">
      <ColumnFrom Name="name.value" Table="webcache_timedPerSiteStatsX"/>
      <ColumnFrom Name="name.value" Table="webcache_nontimedPerSiteStatsX"/>
     </Condition>
     <Condition Type="String" Operator="EQ">
      <ColumnFrom Name="ServerName" Table="webcache_timedPerSiteStatsX"/>
      <ColumnFrom Name="ServerName" Table="webcache_nontimedPerSiteStatsX"/>
     </Condition>
    </And>
   </Where>
  </Select>
  <Select Name="site_performance_q1">
   <TableFrom Name="site_performance_q0"/>
   <TableFrom Name="webcache:request_filter_denied_stats"/> 
   <Column Name="instance_name" Type="String">
    <ColumnFrom Name="instance_name" Table="site_performance_q0"/>
   </Column>
   <Column Name="site_name" Type="String">
    <ColumnFrom Name="site_name" Table="site_performance_q0"/>
   </Column>
   <Column Name="open_connetions" Type="Integer">
    <ColumnFrom Name="open_connetions" Table="site_performance_q0"/>
   </Column>
   <Column Name="requests_served" Type="Integer">
    <ColumnFrom Name="requests_served" Table="site_performance_q0"/>
   </Column>
   <Column Name="requests_served_delta" Type="Integer">
    <Default>0</Default>
   </Column>
   <Column Name="objects_cached" Type="Integer">
    <ColumnFrom Name="objects_cached" Table="site_performance_q0"/>
   </Column>
   <Column Name="cache_size" Type="Integer">
    <ColumnFrom Name="cache_size" Table="site_performance_q0"/>
   </Column>
   <Column Name="hit_rate" Type="Integer">
    <ColumnFrom Name="hit_rate" Table="site_performance_q0"/>
   </Column>
   <Column Name="hit_rate_delta" Type="Integer">
    <Default>0</Default>
   </Column>
   <Column Name="requests_denied" Type="Integer">
    <ColumnFrom Name="requests_denied" Table="webcache:request_filter_denied_stats"/>
    <Default>0</Default>
   </Column>
   <Column Name="requests_denied_delta" Type="Integer">
    <Default>0</Default>
   </Column>
   <Column Name="bytes_saved" Type="Integer">
    <ColumnFrom Name="bytes_saved" Table="site_performance_q0"/>
   </Column>
   <Column Name="bytes_saved_delta" Type="Integer">
    <Default>0</Default>
   </Column>
   <Column Name="error_pages_served" Type="Integer">
    <ColumnFrom Name="error_pages_served" Table="site_performance_q0"/>
   </Column>
   <Column Name="error_pages_served_delta" Type="Integer">
    <Default>0</Default>
   </Column>
   <Where>
    <And>
     <Condition Type="String" Operator="EQ">
      <ColumnFrom Name="site_name" Table="site_performance_q0"/>
      <ColumnFrom Name="site_name" Table="webcache:request_filter_denied_stats"/>
     </Condition>
     <Condition Type="String" Operator="EQ">
      <ColumnFrom Name="instance_name" Table="site_performance_q0"/>
      <ColumnFrom Name="instance_name" Table="webcache:request_filter_denied_stats"/>
     </Condition>
    </And>
   </Where>
  </Select>
  <Select Name="site_performance_q2">
   <TableFrom Name="webcache_timedAggSiteStatsX"/>
   <TableFrom Name="webcache_nontimedAggSiteStatsX"/>
   <Column Name="instance_name" Type="String">
    <ColumnFrom Name="ServerName" Table="webcache_nontimedAggSiteStatsX"/>
   </Column>
   <Column Name="site_name" Type="String">
    <Value>All Sites</Value>
   </Column>
   <Column Name="open_connetions" Type="Integer">
    <ColumnFrom Name="OpenConnectionCount.value" Table="webcache_nontimedAggSiteStatsX"/>
   </Column>
   <Column Name="requests_served" Type="Integer">
    <ColumnFrom Name="HttpClientRequest.value" Table="webcache_timedAggSiteStatsX"/>
   </Column>
   <Column Name="requests_served_delta" Type="Integer">
    <Expression Operator="Minus">
     <ColumnFrom Name="HttpClientRequest.value" Table="webcache_timedAggSiteStatsX"/>
     <Previous Index="0" Interval="300000">
       <ColumnFrom Name="HttpClientRequest.value" Table="webcache_timedAggSiteStatsX"/>
       <Default>0</Default>
     </Previous>
    </Expression>
   </Column>
   <Column Name="objects_cached" Type="Integer">
    <ColumnFrom Name="CacheAllObjCount.value" Table="webcache_nontimedAggSiteStatsX"/>
   </Column>
   <Column Name="cache_size" Type="Integer">
    <ColumnFrom Name="CacheSize.value" Table="webcache_nontimedAggSiteStatsX"/>
   </Column>
   <Column Name="hit_rate" Type="Integer">
    <Expression Operator="Mult">
     <Expression Operator="Div">
      <Expression Operator="Plus">
       <Expression Operator="Plus">
        <Expression Operator="Plus">
         <ColumnFrom Name="ServeFreshFromDemand.value" Table="webcache_timedAggSiteStatsX"/>
         <ColumnFrom Name="ServeFreshFromOwnedToClient.value" Table="webcache_timedAggSiteStatsX"/>
        </Expression>
        <Expression Operator="Plus">
         <ColumnFrom Name="ServeStaleFromOwnedToClient.value" Table="webcache_timedAggSiteStatsX"/>
         <ColumnFrom Name="ServeStaleFromOwnedToPeer.value" Table="webcache_timedAggSiteStatsX"/>
        </Expression>
       </Expression>
       <Expression Operator="Plus">
        <ColumnFrom Name="ServeFreshFromOwnedToPeer.value" Table="webcache_timedAggSiteStatsX"/>
        <ColumnFrom Name="ServeStaleFromDemand.value" Table="webcache_timedAggSiteStatsX"/>
       </Expression>
      </Expression>
      <ColumnFrom Name="HttpRequest.value" Table="webcache_timedAggSiteStatsX"/>
     </Expression>
     <Value>100</Value>
    </Expression>
    <Default>0</Default>
   </Column>
   <Column Name="hit_rate_delta" Type="Integer">
    <Expression Operator="Mult">
     <Expression Operator="Div">
      <Expression Operator="Plus">
       <Expression Operator="Plus">
        <Expression Operator="Plus">
         <Expression Operator="Minus">
          <ColumnFrom Name="ServeFreshFromDemand.value" Table="webcache_timedAggSiteStatsX"/>
          <Previous Index="0" Interval="300000">
           <ColumnFrom Name="ServeFreshFromDemand.value" Table="webcache_timedAggSiteStatsX"/>
           <Default>0</Default>
          </Previous>
         </Expression>
         <Expression Operator="Minus">
          <ColumnFrom Name="ServeFreshFromOwnedToClient.value" Table="webcache_timedAggSiteStatsX"/>
          <Previous Index="0" Interval="300000">
           <ColumnFrom Name="ServeFreshFromOwnedToClient.value" Table="webcache_timedAggSiteStatsX"/>
           <Default>0</Default>
          </Previous>
         </Expression>
        </Expression>
        <Expression Operator="Plus">
         <Expression Operator="Minus">
          <ColumnFrom Name="ServeFreshFromOwnedToPeer.value" Table="webcache_timedAggSiteStatsX"/>
          <Previous Index="0" Interval="300000">
           <ColumnFrom Name="ServeFreshFromOwnedToPeer.value" Table="webcache_timedAggSiteStatsX"/>
           <Default>0</Default>
          </Previous>
         </Expression>
         <Expression Operator="Minus">
          <ColumnFrom Name="ServeStaleFromDemand.value" Table="webcache_timedAggSiteStatsX"/>
          <Previous Index="0" Interval="300000">
           <ColumnFrom Name="ServeStaleFromDemand.value" Table="webcache_timedAggSiteStatsX"/>
           <Default>0</Default>
          </Previous>
         </Expression>
        </Expression>
       </Expression>
       <Expression Operator="Plus">
        <Expression Operator="Minus">
         <ColumnFrom Name="ServeStaleFromOwnedToClient.value" Table="webcache_timedAggSiteStatsX"/>
         <Previous Index="0" Interval="300000">
          <ColumnFrom Name="ServeStaleFromOwnedToClient.value" Table="webcache_timedAggSiteStatsX"/>
          <Default>0</Default>
         </Previous>
        </Expression>
        <Expression Operator="Minus">
         <ColumnFrom Name="ServeStaleFromOwnedToPeer.value" Table="webcache_timedAggSiteStatsX"/>
         <Previous Index="0" Interval="300000">
          <ColumnFrom Name="ServeStaleFromOwnedToPeer.value" Table="webcache_timedAggSiteStatsX"/>
          <Default>0</Default>
         </Previous>
        </Expression>
       </Expression>
      </Expression>
      <Expression Operator="Minus">
       <ColumnFrom Name="HttpRequest.value" Table="webcache_timedAggSiteStatsX"/>
       <Previous Index="0" Interval="300000">
        <ColumnFrom Name="HttpRequest.value" Table="webcache_timedAggSiteStatsX"/>
        <Default>0</Default>
       </Previous>
      </Expression>
     </Expression>
     <Value>100</Value>
    </Expression>
    <Default>0</Default>
   </Column>
   <Column Name="requests_denied" Type="Integer">
    <Value>0</Value>
   </Column>
   <Column Name="requests_denied_delta" Type="Integer">
    <Value>0</Value>
   </Column>
   <Column Name="bytes_saved" Type="Integer">
    <ColumnFrom Name="BytesSavedWithCompression.value" Table="webcache_timedAggSiteStatsX"/>
   </Column>
   <Column Name="bytes_saved_delta" Type="Integer">
    <Expression Operator="Minus">
     <ColumnFrom Name="BytesSavedWithCompression.value" Table="webcache_timedAggSiteStatsX"/>
     <Previous Index="0" Interval="300000">
      <ColumnFrom Name="BytesSavedWithCompression.value" Table="webcache_timedAggSiteStatsX"/>
      <Default>0</Default>
     </Previous>
    </Expression>
   </Column>
   <Column Name="error_pages_served" Type="Integer">
    <Expression Operator="Plus">
     <ColumnFrom Name="NetworkErrorApology.value" Table="webcache_timedAggSiteStatsX"/>
     <Expression Operator="Plus">
      <ColumnFrom Name="PartialPageErrorApology.value" Table="webcache_timedAggSiteStatsX"/>
      <ColumnFrom Name="SiteBusyApology.value" Table="webcache_timedAggSiteStatsX"/>
     </Expression>
    </Expression>
   </Column>
   <Column Name="error_pages_served_delta" Type="Integer">
    <Expression Operator="Plus">
     <Expression Operator="Minus">
      <ColumnFrom Name="NetworkErrorApology.value" Table="webcache_timedAggSiteStatsX"/>
      <Previous Index="0" Interval="300000">
       <ColumnFrom Name="NetworkErrorApology.value" Table="webcache_timedAggSiteStatsX"/>
       <Default>0</Default>
      </Previous>
     </Expression>
     <Expression Operator="Plus">
      <Expression Operator="Minus">
       <ColumnFrom Name="PartialPageErrorApology.value" Table="webcache_timedAggSiteStatsX"/>
       <Previous Index="0" Interval="300000">
        <ColumnFrom Name="PartialPageErrorApology.value" Table="webcache_timedAggSiteStatsX"/>
        <Default>0</Default>
       </Previous>
      </Expression>
      <Expression Operator="Minus">
       <ColumnFrom Name="SiteBusyApology.value" Table="webcache_timedAggSiteStatsX"/>
       <Previous Index="0" Interval="300000">
        <ColumnFrom Name="SiteBusyApology.value" Table="webcache_timedAggSiteStatsX"/>
        <Default>0</Default>
       </Previous>
      </Expression>
     </Expression>
    </Expression>
   </Column>
   <Where>
    <Condition Type="String" Operator="EQ">
     <ColumnFrom Name="ServerName" Table="webcache_timedAggSiteStatsX"/>
     <ColumnFrom Name="ServerName" Table="webcache_nontimedAggSiteStatsX"/>
    </Condition>
   </Where>
  </Select>
  <Union Name="site_performance_union">
   <TableFrom Name="site_performance_q2"/>
   <TableFrom Name="site_performance_q1"/>
  </Union>
  <Select Name="site_performance_sel">
   <TableFrom Name="site_performance_union"/>
   <Where>
    <Or>
     <Condition Type="String" Operator="EQ">
      <ColumnFrom Name="instance_name"/>
      <Value Name="ServerNames.parameter"/>
     </Condition>
     <Condition Type="String" Operator="EQ">
      <Value Name="ServerNames.parameter" xsi:nil="true"/>
      <Null/>
     </Condition>
    </Or>
   </Where>
  </Select>
 </Table>

 <Table Name="timedPerHostStatsX">
        <ColumnDef  Name="ServerName" Type="String" Key="true"/>
         <ColumnDef  Name="Name" Type="String" Key="true"/>
         <ColumnDef  Name="name.value" Type="String"/>
         <ColumnDef  Name="Host" Type="String"/>
         <ColumnDef  Name="Host.value" Type="String"/>
         <ColumnDef  Name="Port.value" Type="String"/>
         <ColumnDef  Name="AvgLatency.value" Type="Long"/>
         <ColumnDef  Name="Latency.value" Type="Long"/>
         <ColumnDef  Name="Request.value" Type="Long"/>
         <ColumnDef  Name="RequestFailure.value" Type="Long"/>
         <ColumnDef  Name="Process" Type="String"/>
         <Select Name="webcache_timedPerHostStatsX_result">
            <TableFrom Name="webcache_timedPerHostStatsX"/>
            <Where>
               <Or>
                   <Condition Type="String" Operator="EQ">
                       <ColumnFrom Name="ServerName"/>
                       <Value Name="ServerNames.parameter"/>
                   </Condition>
                   <Condition Type="String" Operator="EQ">
                       <Value Name="ServerNames.parameter"
                              xsi:nil="true"/>
                       <Null/>
                   </Condition>
                </Or>
            </Where>
         </Select>
 </Table>

 <Table Name="nontimedPerHostStatsX">
        <ColumnDef  Name="ServerName" Type="String" Key="true"/>
         <ColumnDef  Name="Name" Type="String" Key="true"/>
         <ColumnDef  Name="name.value" Type="String"/>
         <ColumnDef  Name="Host" Type="String"/>
         <ColumnDef  Name="Host.value" Type="String"/>
         <ColumnDef  Name="Process" Type="String"/>
         <ColumnDef  Name="Port.value" Type="String"/>
         <ColumnDef  Name="Capacity.value" Type="Integer"/>
         <ColumnDef  Name="Load.value" Type="Long"/>
         <ColumnDef  Name="MaxLoad.value" Type="Long"/>
         <ColumnDef  Name="Sessions.value" Type="Long"/>
         <ColumnDef  Name="State.value" Type="String"/>
         <ColumnDef  Name="UpTime.value" Type="String"/>
         <ColumnDef  Name="UpTimePct.value" Type="String"/>         
         <Select Name="webcache_nontimedPerHostStatsX_result">
            <TableFrom Name="webcache_nontimedPerHostStatsX"/>
            <Where>
               <Or>
                   <Condition Type="String" Operator="EQ">
                       <ColumnFrom Name="ServerName"/>
                       <Value Name="ServerNames.parameter"/>
                   </Condition>
                   <Condition Type="String" Operator="EQ">
                       <Value Name="ServerNames.parameter"
                              xsi:nil="true"/>
                       <Null/>
                   </Condition>
                </Or>
            </Where>
         </Select>
 </Table>

 <Table Name="WxcastatsX">
        <ColumnDef  Name="ServerName" Type="String" Key="true"/>
         <ColumnDef  Name="Name" Type="String" Key="true"/>
         <ColumnDef  Name="Host" Type="String"/>
         <ColumnDef  Name="Process" Type="String"/>
         <ColumnDef  Name="wxcaCache304.value" Type="Integer"/>
         <ColumnDef  Name="wxcaCacheHitError.value" Type="Long"/>
         <ColumnDef  Name="wxcaCacheHitSuccess.value" Type="Long"/>
         <ColumnDef  Name="wxcaCompressed.value" Type="Long"/>
         <ColumnDef  Name="wxcaMatched.value" Type="Long"/>
         <ColumnDef  Name="wxcaOS304.value" Type="Long"/>
         <ColumnDef  Name="wxcaOSError.value" Type="Long"/>
         <ColumnDef  Name="wxcaOSSuccess.value" Type="Long"/>
         <ColumnDef  Name="wxcaRuleName.value" Type="String"/>
         <ColumnDef  Name="wxcaRuleNo.value" Type="Long"/>
         <ColumnDef  Name="wxcaSiteID.value" Type="Long"/>
         <ColumnDef  Name="wxcaSiteName.value" Type="String"/>
         <Select Name="WxcastatsX_result">
            <TableFrom Name="webcache_WxcastatsX"/>
            <Where>
               <Or>
                   <Condition Type="String" Operator="EQ">
                       <ColumnFrom Name="ServerName"/>
                       <Value Name="ServerNames.parameter"/>
                   </Condition>
                   <Condition Type="String" Operator="EQ">
                       <Value Name="ServerNames.parameter"
                              xsi:nil="true"/>
                       <Null/>
                   </Condition>
                </Or>
            </Where>
         </Select>
 </Table>

 <Table Name="nontimedAggSiteStatsX">
        <ColumnDef  Name="ServerName" Type="String" Key="true"/>
         <ColumnDef  Name="Name" Type="String" Key="true"/>
         <ColumnDef  Name="Host" Type="String"/>
         <ColumnDef  Name="Process" Type="String"/>
         <ColumnDef  Name="CacheAllDocCount.value" Type="Integer"/>
         <ColumnDef  Name="CacheAllObjCount.value" Type="Long"/>
         <ColumnDef  Name="CacheEmptyMasterDocCount.value" Type="Long"/>
         <ColumnDef  Name="CacheFullMasterDocCount.value" Type="Long"/>
         <ColumnDef  Name="CacheOWVAllDocCount.value" Type="Long"/>
         <ColumnDef  Name="CacheOWVObjCount.value" Type="Long"/>
         <ColumnDef  Name="CacheOWVSecureDocCount.value" Type="Long"/>
         <ColumnDef  Name="CacheOWVVersionDocCount.value" Type="Long"/>
         <ColumnDef  Name="CacheSimpleDocCount.value" Type="Long"/>
         <ColumnDef  Name="CacheSize.value" Type="Long"/>
         <ColumnDef  Name="CacheSlaveDocCount.value" Type="Long"/>
         <ColumnDef  Name="CacheableMissCount.value" Type="Long"/>
         <ColumnDef  Name="LbfoSessionCount.value" Type="Long"/>
         <ColumnDef  Name="OpenConnectionCount.value" Type="Long"/>
         <ColumnDef  Name="OsReqBacklog.value" Type="Long"/>
         <Select Name="webcache_nontimedAggSiteStatsX_result">
            <TableFrom Name="webcache_nontimedAggSiteStatsX"/>
            <Where>
               <Or>
                   <Condition Type="String" Operator="EQ">
                       <ColumnFrom Name="ServerName"/>
                       <Value Name="ServerNames.parameter"/>
                   </Condition>
                   <Condition Type="String" Operator="EQ">
                       <Value Name="ServerNames.parameter"
                              xsi:nil="true"/>
                       <Null/>
                   </Condition>
                </Or>
            </Where>
         </Select>
 </Table>

 <Table Name="timedAggSiteStatsX">
        <ColumnDef  Name="ServerName" Type="String" Key="true"/>
         <ColumnDef  Name="Name" Type="String" Key="true"/>
         <ColumnDef  Name="Host" Type="String"/>
         <ColumnDef  Name="Process" Type="String"/>
         <ColumnDef  Name="BytesSavedWithCompression.value" Type="Integer"/>
         <ColumnDef  Name="BytesWritten.value" Type="Long"/>
         <ColumnDef  Name="DemandCacheableMiss.value" Type="Long"/>
         <ColumnDef  Name="DemandNonCacheableMiss.value" Type="Long"/>
         <ColumnDef  Name="EsiDefaultFragmentServed.value" Type="Long"/>
         <ColumnDef  Name="EsiUncaughtExceptions.value" Type="Long"/>
         <ColumnDef  Name="HttpClientRequest.value" Type="Long"/>
         <ColumnDef  Name="HttpRequest.value" Type="Long"/>
         <ColumnDef  Name="HttpResponseTime.value" Type="Long"/>
         <ColumnDef  Name="InvalidatedObjNum.value" Type="Long"/>
         <ColumnDef  Name="InvalidationNum.value" Type="Long"/>
         <ColumnDef  Name="NetworkErrorApology.value" Type="Long"/>
         <ColumnDef  Name="NonCacheableOwnerUnknown.value" Type="Long"/>
         <ColumnDef  Name="OWVAccessDenied.value" Type="Long"/>
         <ColumnDef  Name="OWVCached.value" Type="Long"/>
         <ColumnDef  Name="OWVValidated.value" Type="Long"/>
         <ColumnDef  Name="OwnedCacheableMissToClient.value" Type="Long"/>
         <ColumnDef  Name="OwnedCacheableMissToPeer.value" Type="Long"/>
         <ColumnDef  Name="OwnedNonCacheableMissToClient.value" Type="Long"/>
         <ColumnDef  Name="OwnedNonCacheableMissToPeer.value" Type="Long"/>
         <ColumnDef  Name="PartialPageErrorApology.value" Type="Long"/>
         <ColumnDef  Name="ServeFreshFromDemand.value" Type="Long"/>
         <ColumnDef  Name="ServeFreshFromOwnedToClient.value" Type="Long"/>
         <ColumnDef  Name="ServeFreshFromOwnedToPeer.value" Type="Long"/>
         <ColumnDef  Name="ServeHitCompressed.value" Type="Long"/>
         <ColumnDef  Name="ServeMissCompressed.value" Type="Long"/>
         <ColumnDef  Name="ServeStaleFromDemand.value" Type="Long"/>
         <ColumnDef  Name="ServeStaleFromOwnedToClient.value" Type="Long"/>
         <ColumnDef  Name="ServeStaleFromOwnedToPeer.value" Type="Long"/>
         <ColumnDef  Name="SiteBusyApology.value" Type="Long"/>
         <ColumnDef  Name="SyncOsUpdate.value" Type="Long"/>
         <Select Name="webcache_timedAggSiteStatsX_result">
            <TableFrom Name="webcache_timedAggSiteStatsX"/>
            <Where>
               <Or>
                   <Condition Type="String" Operator="EQ">
                       <ColumnFrom Name="ServerName"/>
                       <Value Name="ServerNames.parameter"/>
                   </Condition>
                   <Condition Type="String" Operator="EQ">
                       <Value Name="ServerNames.parameter"
                              xsi:nil="true"/>
                       <Null/>
                   </Condition>
                </Or>
            </Where>
         </Select>
 </Table>

<Table Name="WxrfstatsGCip">
 <ColumnDef Name="ServerName" Type="String" Key="true"/>
 <ColumnDef Name="Name" Type="String" Key="true"/>
 <ColumnDef Name="Host" Type="String"/>
 <ColumnDef Name="Process" Type="String"/>
 <ColumnDef Name="wxrfAllowByThisRFRule.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowCacheHitError.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowCacheHitSuccess.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowOSError.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowOSSuccess.value" Type="Long"/>
 <ColumnDef Name="wxrfDeny.value" Type="Long"/>
 <ColumnDef Name="wxrfDenyByOtherRFRule.value" Type="Long"/>
 <ColumnDef Name="wxrfDenyByThisRFRule.value" Type="Long"/>
 <ColumnDef Name="wxrfEnabled.value" Type="Long"/>
 <ColumnDef Name="wxrfMatched.value" Type="Long"/>
 <ColumnDef Name="wxrfMonitorRule.value" Type="Long"/>
 <ColumnDef Name="wxrfRuleName.value" Type="String"/>
 <ColumnDef Name="wxrfRuleNo.value" Type="Long"/>
 <ColumnDef Name="wxrfSiteID.value" Type="Long"/>
 <ColumnDef Name="wxrfSiteName.value" Type="String"/>
 <Select Name="webcache_WxrfstatsGCip_result">
   <TableFrom Name="webcache_WxrfstatsGCip"/>
   <Where>
     <Or>
       <Condition Type="String" Operator="EQ">
         <ColumnFrom Name="ServerName"/>
         <Value Name="ServerNames.parameter"/>
       </Condition>
       <Condition Type="String" Operator="EQ">
         <Value Name="ServerNames.parameter" xsi:nil="true"/>
         <Null/>
       </Condition>
     </Or>
   </Where>
 </Select>
</Table>

<Table Name="WxrfstatsGFormat">
 <ColumnDef Name="ServerName" Type="String" Key="true"/>
 <ColumnDef Name="Name" Type="String" Key="true"/>
 <ColumnDef Name="Host" Type="String"/>
 <ColumnDef Name="Process" Type="String"/>
 <ColumnDef Name="wxrfAllowByThisRFRule.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowCacheHitError.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowCacheHitSuccess.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowOSError.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowOSSuccess.value" Type="Long"/>
 <ColumnDef Name="wxrfDeny.value" Type="Long"/>
 <ColumnDef Name="wxrfDenyByOtherRFRule.value" Type="Long"/>
 <ColumnDef Name="wxrfDenyByThisRFRule.value" Type="Long"/>
 <ColumnDef Name="wxrfEnabled.value" Type="Long"/>
 <ColumnDef Name="wxrfMatched.value" Type="Long"/>
 <ColumnDef Name="wxrfMonitorRule.value" Type="Long"/>
 <ColumnDef Name="wxrfRuleName.value" Type="String"/>
 <ColumnDef Name="wxrfRuleNo.value" Type="Long"/>
 <ColumnDef Name="wxrfSiteID.value" Type="Long"/>
 <ColumnDef Name="wxrfSiteName.value" Type="String"/>
 <Select Name="webcache_WxrfstatsGFormat_result">
   <TableFrom Name="webcache_WxrfstatsGFormat"/>
   <Where>
     <Or>
       <Condition Type="String" Operator="EQ">
         <ColumnFrom Name="ServerName"/>
         <Value Name="ServerNames.parameter"/>
       </Condition>
       <Condition Type="String" Operator="EQ">
         <Value Name="ServerNames.parameter" xsi:nil="true"/>
         <Null/>
       </Condition>
     </Or>
   </Where>
 </Select>
</Table>

<Table Name="WxrfstatsGHdrs">
 <ColumnDef Name="ServerName" Type="String" Key="true"/>
 <ColumnDef Name="Name" Type="String" Key="true"/>
 <ColumnDef Name="Host" Type="String"/>
 <ColumnDef Name="Process" Type="String"/>
 <ColumnDef Name="wxrfAllowByThisRFRule.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowCacheHitError.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowCacheHitSuccess.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowOSError.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowOSSuccess.value" Type="Long"/>
 <ColumnDef Name="wxrfDeny.value" Type="Long"/>
 <ColumnDef Name="wxrfDenyByOtherRFRule.value" Type="Long"/>
 <ColumnDef Name="wxrfDenyByThisRFRule.value" Type="Long"/>
 <ColumnDef Name="wxrfEnabled.value" Type="Long"/>
 <ColumnDef Name="wxrfMatched.value" Type="Long"/>
 <ColumnDef Name="wxrfMonitorRule.value" Type="Long"/>
 <ColumnDef Name="wxrfRuleName.value" Type="String"/>
 <ColumnDef Name="wxrfRuleNo.value" Type="Long"/>
 <ColumnDef Name="wxrfSiteID.value" Type="Long"/>
 <ColumnDef Name="wxrfSiteName.value" Type="String"/>
 <Select Name="webcache_WxrfstatsGHdrs_result">
   <TableFrom Name="webcache_WxrfstatsGHdrs"/>
   <Where>
     <Or>
       <Condition Type="String" Operator="EQ">
         <ColumnFrom Name="ServerName"/>
         <Value Name="ServerNames.parameter"/>
       </Condition>
       <Condition Type="String" Operator="EQ">
         <Value Name="ServerNames.parameter" xsi:nil="true"/>
         <Null/>
       </Condition>
     </Or>
   </Where>
 </Select>
</Table>

<Table Name="WxrfstatsGMethod">
 <ColumnDef Name="ServerName" Type="String" Key="true"/>
 <ColumnDef Name="Name" Type="String" Key="true"/>
 <ColumnDef Name="Host" Type="String"/>
 <ColumnDef Name="Process" Type="String"/>
 <ColumnDef Name="wxrfAllowByThisRFRule.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowCacheHitError.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowCacheHitSuccess.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowOSError.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowOSSuccess.value" Type="Long"/>
 <ColumnDef Name="wxrfDeny.value" Type="Long"/>
 <ColumnDef Name="wxrfDenyByOtherRFRule.value" Type="Long"/>
 <ColumnDef Name="wxrfDenyByThisRFRule.value" Type="Long"/>
 <ColumnDef Name="wxrfEnabled.value" Type="Long"/>
 <ColumnDef Name="wxrfMatched.value" Type="Long"/>
 <ColumnDef Name="wxrfMonitorRule.value" Type="Long"/>
 <ColumnDef Name="wxrfRuleName.value" Type="String"/>
 <ColumnDef Name="wxrfRuleNo.value" Type="Long"/>
 <ColumnDef Name="wxrfSiteID.value" Type="Long"/>
 <ColumnDef Name="wxrfSiteName.value" Type="String"/>
 <Select Name="webcache_WxrfstatsGMethod_result">
   <TableFrom Name="webcache_WxrfstatsGMethod"/>
   <Where>
     <Or>
       <Condition Type="String" Operator="EQ">
         <ColumnFrom Name="ServerName"/>
         <Value Name="ServerNames.parameter"/>
       </Condition>
       <Condition Type="String" Operator="EQ">
         <Value Name="ServerNames.parameter" xsi:nil="true"/>
         <Null/>
       </Condition>
     </Or>
   </Where>
 </Select>
</Table>

<Table Name="WxrfstatsGQStr">
 <ColumnDef Name="ServerName" Type="String" Key="true"/>
 <ColumnDef Name="Name" Type="String" Key="true"/>
 <ColumnDef Name="Host" Type="String"/>
 <ColumnDef Name="Process" Type="String"/>
 <ColumnDef Name="wxrfAllowByThisRFRule.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowCacheHitError.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowCacheHitSuccess.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowOSError.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowOSSuccess.value" Type="Long"/>
 <ColumnDef Name="wxrfDeny.value" Type="Long"/>
 <ColumnDef Name="wxrfDenyByOtherRFRule.value" Type="Long"/>
 <ColumnDef Name="wxrfDenyByThisRFRule.value" Type="Long"/>
 <ColumnDef Name="wxrfEnabled.value" Type="Long"/>
 <ColumnDef Name="wxrfMatched.value" Type="Long"/>
 <ColumnDef Name="wxrfMonitorRule.value" Type="Long"/>
 <ColumnDef Name="wxrfRuleName.value" Type="String"/>
 <ColumnDef Name="wxrfRuleNo.value" Type="Long"/>
 <ColumnDef Name="wxrfSiteID.value" Type="Long"/>
 <ColumnDef Name="wxrfSiteName.value" Type="String"/>
 <Select Name="webcache_WxrfstatsGQStr_result">
   <TableFrom Name="webcache_WxrfstatsGQStr"/>
   <Where>
     <Or>
       <Condition Type="String" Operator="EQ">
         <ColumnFrom Name="ServerName"/>
         <Value Name="ServerNames.parameter"/>
       </Condition>
       <Condition Type="String" Operator="EQ">
         <Value Name="ServerNames.parameter" xsi:nil="true"/>
         <Null/>
       </Condition>
     </Or>
   </Where>
 </Select>
</Table>

<Table Name="WxrfstatsGSip">
 <ColumnDef Name="ServerName" Type="String" Key="true"/>
 <ColumnDef Name="Name" Type="String" Key="true"/>
 <ColumnDef Name="Host" Type="String"/>
 <ColumnDef Name="Process" Type="String"/>
 <ColumnDef Name="wxrfAllowByThisRFRule.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowCacheHitError.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowCacheHitSuccess.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowOSError.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowOSSuccess.value" Type="Long"/>
 <ColumnDef Name="wxrfDeny.value" Type="Long"/>
 <ColumnDef Name="wxrfDenyByOtherRFRule.value" Type="Long"/>
 <ColumnDef Name="wxrfDenyByThisRFRule.value" Type="Long"/>
 <ColumnDef Name="wxrfEnabled.value" Type="Long"/>
 <ColumnDef Name="wxrfMatched.value" Type="Long"/>
 <ColumnDef Name="wxrfMonitorRule.value" Type="Long"/>
 <ColumnDef Name="wxrfRuleName.value" Type="String"/>
 <ColumnDef Name="wxrfRuleNo.value" Type="Long"/>
 <ColumnDef Name="wxrfSiteID.value" Type="Long"/>
 <ColumnDef Name="wxrfSiteName.value" Type="String"/>
 <Select Name="webcache_WxrfstatsGSip_result">
   <TableFrom Name="webcache_WxrfstatsGSip"/>
   <Where>
     <Or>
       <Condition Type="String" Operator="EQ">
         <ColumnFrom Name="ServerName"/>
         <Value Name="ServerNames.parameter"/>
       </Condition>
       <Condition Type="String" Operator="EQ">
         <Value Name="ServerNames.parameter" xsi:nil="true"/>
         <Null/>
       </Condition>
     </Or>
   </Where>
 </Select>
</Table>

<Table Name="WxrfstatsGUrl">
 <ColumnDef Name="ServerName" Type="String" Key="true"/>
 <ColumnDef Name="Name" Type="String" Key="true"/>
 <ColumnDef Name="Host" Type="String"/>
 <ColumnDef Name="Process" Type="String"/>
 <ColumnDef Name="wxrfAllowByThisRFRule.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowCacheHitError.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowCacheHitSuccess.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowOSError.value" Type="Long"/>
 <ColumnDef Name="wxrfAllowOSSuccess.value" Type="Long"/>
 <ColumnDef Name="wxrfDeny.value" Type="Long"/>
 <ColumnDef Name="wxrfDenyByOtherRFRule.value" Type="Long"/>
 <ColumnDef Name="wxrfDenyByThisRFRule.value" Type="Long"/>
 <ColumnDef Name="wxrfEnabled.value" Type="Long"/>
 <ColumnDef Name="wxrfMatched.value" Type="Long"/>
 <ColumnDef Name="wxrfMonitorRule.value" Type="Long"/>
 <ColumnDef Name="wxrfRuleName.value" Type="String"/>
 <ColumnDef Name="wxrfRuleNo.value" Type="Long"/>
 <ColumnDef Name="wxrfSiteID.value" Type="Long"/>
 <ColumnDef Name="wxrfSiteName.value" Type="String"/>
 <Select Name="webcache_WxrfstatsGUrl_result">
   <TableFrom Name="webcache_WxrfstatsGUrl"/>
   <Where>
     <Or>
       <Condition Type="String" Operator="EQ">
         <ColumnFrom Name="ServerName"/>
         <Value Name="ServerNames.parameter"/>
       </Condition>
       <Condition Type="String" Operator="EQ">
         <Value Name="ServerNames.parameter" xsi:nil="true"/>
         <Null/>
       </Condition>
     </Or>
   </Where>
 </Select>
</Table>

 <Table Name="learned_method_filter_rules">
  <ColumnDef Name="ServerName" Type="String" Key="true"/>
  <ColumnDef Name="Name" Type="String" Key="true"/>
  <ColumnDef Name="SiteName" Type="String"/>
  <ColumnDef Name="MethodName" Type="String"/>
  <ColumnDef Name="Matched" Type="Long"/>
  <ColumnDef Name="Denied" Type="Long"/>
  <ColumnDef Name="CacheHits" Type="Long"/>
  <ColumnDef Name="OSSuccess" Type="Long"/>
  <ColumnDef Name="DeniedByOther" Type="Long"/>
  <ColumnDef Name="OSError" Type="Long"/>
  <Select Name="select_learned_method_filter_rules">
   <TableFrom Name="webcache_WxrfstatsLGMethod"/>
   <Column Name="ServerName" Type="String"/>
   <Column Name="Name" Type="String"/>
   <Column Name="SiteName" Type="String">
    <ColumnFrom Name="wxrfSiteName.value"/>
   </Column>
   <Column Name="MethodName" Type="String">
    <ColumnFrom Name="wxrfRuleName.value"/>
   </Column>
   <Column Name="Matched" Type="Long">
    <ColumnFrom Name="wxrfMatched.value"/>
   </Column>
   <Column Name="Denied" Type="Long">
    <ColumnFrom Name="wxrfDenyByThisRFRule.value"/>
   </Column>
   <Column Name="CacheHits" Type="Long">
    <ColumnFrom Name="wxrfAllowCacheHitSuccess.value"/>
   </Column>
   <Column Name="OSSuccess" Type="Long">
    <ColumnFrom Name="wxrfAllowOSSuccess.value"/>
   </Column>
   <Column Name="DeniedByOther" Type="Long">
    <ColumnFrom Name="wxrfDenyByOtherRFRule.value"/>
   </Column>
   <Column Name="OSError" Type="Long">
    <ColumnFrom Name="wxrfAllowOSError.value"/>
   </Column>
  <Where>
    <Or>
     <Condition Type="String" Operator="EQ">
      <ColumnFrom Name="ServerName"/>
     <Value Name="ServerNames.parameter"/>
      </Condition>
     <Condition Type="String" Operator="EQ">
      <Value Name="ServerNames.parameter" xsi:nil="true"/>
      <Null/>
     </Condition>
    </Or>
   </Where>
  </Select>
 </Table>
 
 <Table Name="learned_url_filter_rules">
  <ColumnDef Name="ServerName" Type="String" Key="true"/>
  <ColumnDef Name="Name" Type="String" Key="true"/>
  <ColumnDef Name="SiteName" Type="String"/>
  <ColumnDef Name="UrlExpression" Type="String"/>
  <ColumnDef Name="Matched" Type="Long"/>
  <ColumnDef Name="Denied" Type="Long"/>
  <ColumnDef Name="CacheHits" Type="Long"/>
  <ColumnDef Name="OSSuccess" Type="Long"/>
  <ColumnDef Name="DeniedByOther" Type="Long"/>
  <ColumnDef Name="OSError" Type="Long"/>
  <Select Name="select_learned_url_filter_rules">
   <TableFrom Name="webcache_WxrfstatsLGUrl"/>
   <Column Name="ServerName" Type="String"/>
   <Column Name="Name" Type="String"/>
   <Column Name="SiteName" Type="String">
    <ColumnFrom Name="wxrfSiteName.value"/>
   </Column>
   <Column Name="UrlExpression" Type="String">
    <ColumnFrom Name="wxrfRuleName.value"/>
   </Column>
   <Column Name="Matched" Type="Long">
    <ColumnFrom Name="wxrfMatched.value"/>
   </Column>
   <Column Name="Denied" Type="Long">
    <ColumnFrom Name="wxrfDenyByThisRFRule.value"/>
   </Column>
   <Column Name="CacheHits" Type="Long">
    <ColumnFrom Name="wxrfAllowCacheHitSuccess.value"/>
   </Column>
   <Column Name="OSSuccess" Type="Long">
    <ColumnFrom Name="wxrfAllowOSSuccess.value"/>
   </Column>
   <Column Name="DeniedByOther" Type="Long">
    <ColumnFrom Name="wxrfDenyByOtherRFRule.value"/>
   </Column>
   <Column Name="OSError" Type="Long">
    <ColumnFrom Name="wxrfAllowOSError.value"/>
   </Column>
   <Where>
    <Or>
     <Condition Type="String" Operator="EQ">
      <ColumnFrom Name="ServerName"/>
      <Value Name="ServerNames.parameter"/>
     </Condition>
     <Condition Type="String" Operator="EQ">
      <Value Name="ServerNames.parameter" xsi:nil="true"/>
      <Null/>
     </Condition>
    </Or>
   </Where>
  </Select>
 </Table>
</Adml>
