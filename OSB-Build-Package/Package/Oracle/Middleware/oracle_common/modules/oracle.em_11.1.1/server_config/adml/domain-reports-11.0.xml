<?xml version='1.0' encoding='UTF-8' ?>

<!-- Copyright (c) 2009, Oracle and/or its affiliates.All rights reserved. -->

<!--
     These are the metric rules for the OPMN managed Reports server and the
     j2ee application.

     MODIFIED   (MM/DD/YY)
        klmichae 03/02/09 - Created
-->

<Adml xmlns="http://www.oracle.com/iAS/aggregator"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      TableSpace="reports">

 <Table Name="Reports_Server_Information">
  <ColumnDef Name="Active_Engines.value" Type="Long"/>
  <ColumnDef Name="Available_Connections.value" Type="Long"/>
  <ColumnDef Name="Average_Elapsed_Time.value" Type="Long"/>
  <ColumnDef Name="Average_Engines.value" Type="Long"/>
  <ColumnDef Name="Average_Response_Time.value" Type="Long"/>
  <ColumnDef Name="Current_Jobs.value" Type="Long"/>
  <ColumnDef Name="Failed_Jobs.value" Type="Long"/>
  <ColumnDef Name="Failed_Jobs_Ratio.value" Type="Long"/>
  <ColumnDef Name="Finished_Jobs.value" Type="Long"/>
  <ColumnDef Name="Idle_Engines.value" Type="Long"/>
  <ColumnDef Name="Jobs_Queue_Time.value" Type="Long"/>
  <ColumnDef Name="LongRunning_Jobs.value" Type="Long"/>
  <ColumnDef Name="Maximum_Engines.value" Type="Long"/>
  <ColumnDef Name="Maximum_Queue_Size.value" Type="Long"/>
  <ColumnDef Name="Potential_Runaway_Jobs.value" Type="Long"/>
  <ColumnDef Name="Reports_Server_Auth_Time.value" Type="Long"/>
  <ColumnDef Name="Reports_Server_Group_Name.value" Type="String"/>
  <ColumnDef Name="Reports_Server_Security.value" Type="Long"/>
  <ColumnDef Name="Reports_Server_Start_Time.value" Type="Long"/>
  <ColumnDef Name="Reports_Server_Type.value" Type="Long"/>
  <ColumnDef Name="Reports_Version.value" Type="String"/>
  <ColumnDef Name="Running_Engines.value" Type="Long"/>
  <ColumnDef Name="Scheduled_Jobs.value" Type="Long"/>
  <ColumnDef Name="ServerName" Type="String"/>
  <ColumnDef Name="Transferred_Jobs.value" Type="Long"/>
  <ColumnDef Name="Used_Connections.value" Type="Long"/>

  <Select Name="Response_Reports_Server_Information">
   <TableFrom Name="Reports_Server_Information"/>

   <Where>
    <Condition Type="String" Operator="EQ">
     <ColumnFrom Name="ServerName"/>
     <Value Name="ServerNames.parameter"/>
    </Condition>
   </Where>

  </Select>
 </Table>

 <Table Name="Reports_Server_Performance">
  <ColumnDef Name="Active_Engines.value" Type="Long"/>
  <ColumnDef Name="Available_Connections.value" Type="Long"/>
  <ColumnDef Name="Average_Elapsed_Time.value" Type="Long"/>
  <ColumnDef Name="Average_Engines.value" Type="Long"/>
  <ColumnDef Name="Average_Response_Time.value" Type="Long"/>
  <ColumnDef Name="CurrentJobLoad.value" Type="Long"/>
  <ColumnDef Name="Current_Jobs.value" Type="Long"/>
  <ColumnDef Name="Failed_Jobs.value" Type="Long"/>
  <ColumnDef Name="Failed_Jobs_Ratio.value" Type="Long"/>
  <ColumnDef Name="Finished_Jobs.value" Type="Long"/>
  <ColumnDef Name="JobLoad.value" Type="Long"/>
  <ColumnDef Name="Jobs_Queue_Time.value" Type="Long"/>
  <ColumnDef Name="LongRunning_Jobs.value" Type="Long"/>
  <ColumnDef Name="Maximum_Engines.value" Type="Long"/>
  <ColumnDef Name="Maximum_Queue_Size.value" Type="Long"/>
  <ColumnDef Name="Potential_Runaway_Jobs.value" Type="Long"/>
  <ColumnDef Name="Reports_Server_Auth_Time.value" Type="Long"/>
  <ColumnDef Name="Reports_Server_Security.value" Type="Long"/>
  <ColumnDef Name="Reports_Server_Start_Time.value" Type="Long"/>
  <ColumnDef Name="Reports_Version.value" Type="String"/>
  <ColumnDef Name="Scheduled_Jobs.value" Type="Long"/>
  <ColumnDef Name="ServerName" Type="String"/>
  <ColumnDef Name="Transferred_Jobs.value" Type="Long"/>
  <ColumnDef Name="Used_Connections.value" Type="Long"/>

  <Select Name="Response_Reports_Server_Performance">
   <TableFrom Name="Reports_Server_Performance"/>
   <Where>
    <Condition Type="String" Operator="EQ">
     <ColumnFrom Name="ServerName"/>
     <Value Name="ServerNames.parameter"/>
    </Condition>
   </Where>

  </Select>
 </Table>

 <Table Name="Reports_Server_Response">
   <ColumnDef Name="Reports_Server_Status.value" Type="Long"/>
   <ColumnDef Name="Reports_Server_Type.value" Type="Long"/>
   <ColumnDef Name="ServerName" Type="String"/>
   
  <Select Name="Response_Reports_Server_Response">
   <TableFrom Name="Reports_Server_Response"/>
   <Where>
    <Condition Type="String" Operator="EQ">
     <ColumnFrom Name="ServerName"/>
     <Value Name="ServerNames.parameter"/>
    </Condition>
   </Where>

  </Select>
 </Table>
 
  <Table Name="Reports_Servlet_Response">
   <ColumnDef Name="Average_Response_Time.value" Type="Long"/>
   <ColumnDef Name="ServerName" Type="String"/>
   
  <Select Name="Response_Reports_Servlet_Response">
   <TableFrom Name="Reports_Servlet_Response"/>
   <Where>
    <Condition Type="String" Operator="EQ">
     <ColumnFrom Name="ServerName"/>
     <Value Name="ServerNames.parameter"/>
    </Condition>
   </Where>

  </Select>
 </Table>
 
  <Table Name="Remote_Bridge_Elements">
   <ColumnDef Name="Host.value" Type="String"/>
   <ColumnDef Name="Name" Type="String"/>
   <ColumnDef Name="Name.value" Type="String"/>
   <ColumnDef Name="ServerName" Type="String"/>
   <ColumnDef Name="Time.value" Type="Long"/>
   <ColumnDef Name="Type.value" Type="String"/>   
   
  <Select Name="Response_Remote_Bridge_Elements">
   <TableFrom Name="Remote_Bridge_Elements"/>
   <Where>
    <Condition Type="String" Operator="EQ">
     <ColumnFrom Name="ServerName"/>
     <Value Name="ServerNames.parameter"/>
    </Condition>
   </Where>

  </Select>
 </Table> 

</Adml>

