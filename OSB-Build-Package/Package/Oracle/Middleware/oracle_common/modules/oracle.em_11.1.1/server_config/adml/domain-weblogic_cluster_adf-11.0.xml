<?xml version='1.0' encoding='UTF-8' ?>

<!-- Copyright (c) 2007, 2012, Oracle and/or its affiliates. 
All rights reserved. -->
<Adml xmlns="http://www.oracle.com/iAS/aggregator"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      TableSpace="weblogic_cluster">
 <Table Name="cluster_ampool">
  <ColumnDef Name="clusterName" Type="String" Key="true"/>
  <ColumnDef Name="module" Type="String" Key="true"></ColumnDef>
  <ColumnDef Name="appName" Type="String" Key="true"></ColumnDef>
  <ColumnDef Name="avgCreationTime" Type="Double"></ColumnDef>
  <ColumnDef Name="availableInstances" Type="Integer"></ColumnDef>
  <ColumnDef Name="instanceCheckedIn.throughput" Type="Double"></ColumnDef>
  <ColumnDef Name="instanceCheckedOut.throughput" Type="Double"></ColumnDef>
  <ColumnDef Name="instanceCheckedOutFailed.throughput" Type="Double"></ColumnDef>
  <ColumnDef Name="instanceCount" Type="Integer"></ColumnDef>
  <ColumnDef Name="instanceCreated.throughput" Type="Double"></ColumnDef>
  <ColumnDef Name="instanceRemoved.throughput" Type="Double"></ColumnDef>
  <ColumnDef Name="instanceReused.throughput" Type="Double"></ColumnDef>
  <ColumnDef Name="refInstanceRecycled.throughput" Type="Double"></ColumnDef>
  <ColumnDef Name="stateActivated.throughput" Type="Double"></ColumnDef>
  <ColumnDef Name="statePassivated.throughput" Type="Double"></ColumnDef>
  <ColumnDef Name="unrefInstanceRecycled.throughput" Type="Double"></ColumnDef>
  <ColumnDef Name="request.throughput" Type="Double"></ColumnDef>
  <Select Name="cluster_ampool_main_result">
   <TableFrom Name="weblogic_j2eeserver:ampool"/>
   <TableFrom Name="weblogic.management.runtime.ClusterRuntimeMBean"/>
   <Column Name="clusterName" Type="String">
    <ColumnFrom Name="Name" Table="weblogic.management.runtime.ClusterRuntimeMBean"/>
   </Column> 
   <Column Name="module" Type="String">
    <ColumnFrom Name="module" Table="weblogic_j2eeserver:ampool"/>
   </Column>
   <Column Name="appName" Type="String">
    <ColumnFrom Name="appName" Table="weblogic_j2eeserver:ampool"/>
   </Column>
   <Column Name="avgCreationTime" Type="Double">
    <Aggregation Operator="Avg" Name="avgCreationTime" Table="weblogic_j2eeserver:ampool"/>
   </Column>
   <Column Name="availableInstances" Type="Integer">
    <Aggregation Operator="Sum" Name="availableInstances" Table="weblogic_j2eeserver:ampool"/>
   </Column>
   <Column Name="instanceCheckedIn.throughput" Type="Integer">
    <Aggregation Operator="Sum" Name="instanceCheckedIn.throughput" Table="weblogic_j2eeserver:ampool"/>
   </Column>
   <Column Name="instanceCheckedOut.throughput" Type="Double">
    <Aggregation Operator="Sum" Name="instanceCheckedOut.throughput" Table="weblogic_j2eeserver:ampool"/>
   </Column>
   <Column Name="instanceCheckedOutFailed.throughput" Type="Double">
    <Aggregation Operator="Sum" Name="instanceCheckedOutFailed.throughput" Table="weblogic_j2eeserver:ampool"/>
   </Column>
   <Column Name="instanceRemoved.throughput" Type="Double">
    <Aggregation Operator="Sum" Name="instanceRemoved.throughput" Table="weblogic_j2eeserver:ampool"/>
   </Column>
   <Column Name="instanceCount" Type="Integer">
    <Aggregation Operator="Sum" Name="instanceCount" Table="weblogic_j2eeserver:ampool"/>
   </Column>
   <Column Name="instanceCreated.throughput" Type="Double">
    <Aggregation Operator="Sum" Name="instanceCreated.throughput" Table="weblogic_j2eeserver:ampool"/>
   </Column>
   <Column Name="instanceReused.throughput" Type="Double">
    <Aggregation Operator="Sum" Name="instanceReused.throughput" Table="weblogic_j2eeserver:ampool"/>
   </Column>
   <Column Name="refInstanceRecycled.throughput" Type="Double">
    <Aggregation Operator="Sum" Name="refInstanceRecycled.throughput" Table="weblogic_j2eeserver:ampool"/>
   </Column>
   <Column Name="stateActivated.throughput" Type="Double">
    <Aggregation Operator="Sum" Name="stateActivated.throughput" Table="weblogic_j2eeserver:ampool"/>
   </Column>
   <Column Name="statePassivated.throughput" Type="Double">
    <Aggregation Operator="Sum" Name="statePassivated.throughput" Table="weblogic_j2eeserver:ampool"/>
   </Column>
   <Column Name="unrefInstanceRecycled.throughput" Type="Double">
    <Aggregation Operator="Sum" Name="unrefInstanceRecycled.throughput" Table="weblogic_j2eeserver:ampool"/>
   </Column>
   <Column Name="request.throughput" Type="Double">
    <Aggregation Operator="Sum" Name="request.throughput" Table="weblogic_j2eeserver:ampool"/>
   </Column>
   <GroupBy Name="module"/>
   <GroupBy Name="appName"/>
   <GroupBy Name="clusterName"/>
   <Where>
    <Condition Operator="EQ" Type="String">
     <ColumnFrom Name="ServerName"
                 Table="weblogic_j2eeserver:ampool"/>
     <ColumnFrom Name="ServerName"
                 Table="weblogic.management.runtime.ClusterRuntimeMBean"/>
    </Condition>
   </Where>
  </Select>
 </Table>
 <!--adf Metrics--> 
 
 <Table Name="cluster_adfc_taskflow">
  <ColumnDef Name="clusterName" Type="String" Key="true"/>
  <ColumnDef Name="appName" Type="String" Key="true"></ColumnDef>
  <ColumnDef Name="Name" Type="String" Key="true"></ColumnDef>
  <ColumnDef Name="active.throughput" Type="Double"/>
  <ColumnDef Name="entered.throughput" Type="Double"/>
  <ColumnDef Name="invoke.throughput" Type="Double"/>
  <ColumnDef Name="invoke.time" Type="Double"/>
  <Select Name="cluster_adfc_taskflow_result">
   <TableFrom Name="weblogic_j2eeserver:adfc_taskflow"/>
   <TableFrom Name="weblogic.management.runtime.ClusterRuntimeMBean"/>
   <Column Name="clusterName" Type="String">
    <ColumnFrom Name="Name" Table="weblogic.management.runtime.ClusterRuntimeMBean"/>
   </Column>
   <Column Name="appName" Type="String">
    <ColumnFrom Name="appName" Table="weblogic_j2eeserver:adfc_taskflow"/>
   </Column>
   <Column Name="Name" Type="String">
    <ColumnFrom Name="Name" Table="weblogic_j2eeserver:adfc_taskflow"/>
   </Column>
   <Column Name="active.throughput" Type="Double">
    <Aggregation Operator="Sum" Name="active.throughput" Table="weblogic_j2eeserver:adfc_taskflow"/>
   </Column>
   <Column Name="entered.throughput" Type="Double">
    <Aggregation Operator="Sum" Name="entered.throughput" Table="weblogic_j2eeserver:adfc_taskflow"/>
   </Column>
   <Column Name="invoke.throughput" Type="Double">
    <Aggregation Operator="Sum" Name="invoke.throughput" Table="weblogic_j2eeserver:adfc_taskflow"/>
   </Column>
   <Column Name="invoke.time" Type="Double">
    <Aggregation Operator="Avg" Name="invoke.time" Table="weblogic_j2eeserver:adfc_taskflow"/>
   </Column>
   <GroupBy Name="Name"/>
   <GroupBy Name="appName"/>
   <GroupBy Name="clusterName"/>
   <Where>
    <Condition Operator="EQ" Type="String">
     <ColumnFrom Name="ServerName"
                 Table="weblogic_j2eeserver:adfc_taskflow"/>
     <ColumnFrom Name="ServerName"
                 Table="weblogic.management.runtime.ClusterRuntimeMBean"/>
    </Condition>
   </Where>
  </Select>
 </Table>
 <Table Name="app_adfc_taskflow">
  <ColumnDef Name="clusterName" Type="String" Key="true"/>
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="active.throughput" Type="Double"/>
  <ColumnDef Name="entered.throughput" Type="Double"/>
  <ColumnDef Name="invoke.throughput" Type="Double"/>
  <ColumnDef Name="invoke.time" Type="Double"/>
  <Select Name="app_adfc_taskflow_result">
   <TableFrom Name="weblogic_j2eeserver:app_adfc_taskflow"/>
   <TableFrom Name="weblogic.management.runtime.ClusterRuntimeMBean"/>
   <Column Name="clusterName" Type="String">
    <ColumnFrom Name="Name" Table="weblogic.management.runtime.ClusterRuntimeMBean"/>
   </Column>
   <Column Name="appName" Type="String">
    <ColumnFrom Name="appName" Table="weblogic_j2eeserver:app_adfc_taskflow"/>
   </Column>
   <Column Name="active.throughput" Type="Double">
    <Aggregation Operator="Sum" Name="active.throughput" Table="weblogic_j2eeserver:app_adfc_taskflow"/>
   </Column>
   <Column Name="entered.throughput" Type="Double">
    <Aggregation Operator="Sum" Name="entered.throughput" Table="weblogic_j2eeserver:app_adfc_taskflow"/>
   </Column>
   <Column Name="invoke.throughput" Type="Double">
    <Aggregation Operator="Sum" Name="invoke.throughput" Table="weblogic_j2eeserver:app_adfc_taskflow"/>
   </Column>
   <Column Name="invoke.time" Type="Double">
    <Aggregation Operator="Avg" Name="invoke.time" Table="weblogic_j2eeserver:app_adfc_taskflow"/>
   </Column>
   <GroupBy Name="appName"/>
   <GroupBy Name="clusterName"/>
   <Where>
    <Condition Operator="EQ" Type="String">
     <ColumnFrom Name="ServerName"
                 Table="weblogic_j2eeserver:app_adfc_taskflow"/>
     <ColumnFrom Name="ServerName"
                 Table="weblogic.management.runtime.ClusterRuntimeMBean"/>
    </Condition>
   </Where>
  </Select>
 </Table>
 <Table Name="adfc_taskflow_request_proc_time">
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="avgTime" Type="Double"/>
  <ColumnDef Name="clusterName" Type="String" Key="true"/>
  <Select Name="cluster_adfc_taskflow_result">
   <TableFrom Name="weblogic_j2eeserver:adfc_taskflow_request_proc_time"/>
   <TableFrom Name="weblogic.management.runtime.ClusterRuntimeMBean"/>
   <Column Name="clusterName" Type="String">
    <ColumnFrom Name="Name" Table="weblogic.management.runtime.ClusterRuntimeMBean"/>
   </Column>
   <Column Name="appName" Type="String">
    <ColumnFrom Name="appName" Table="weblogic_j2eeserver:adfc_taskflow_request_proc_time"/>
   </Column>
   <Column Name="avgTime" Type="Double">
    <Aggregation Operator="Avg" Name="avgTime" Table="weblogic_j2eeserver:adfc_taskflow_request_proc_time"/>
   </Column>
   <GroupBy Name="appName"/>
   <GroupBy Name="clusterName"/>
   <Where>
    <Condition Operator="EQ" Type="String">
     <ColumnFrom Name="ServerName"
                 Table="weblogic_j2eeserver:adfc_taskflow_request_proc_time"/>
     <ColumnFrom Name="ServerName"
                 Table="weblogic.management.runtime.ClusterRuntimeMBean"/>
    </Condition>
   </Where>
  </Select>
 </Table>
</Adml>


