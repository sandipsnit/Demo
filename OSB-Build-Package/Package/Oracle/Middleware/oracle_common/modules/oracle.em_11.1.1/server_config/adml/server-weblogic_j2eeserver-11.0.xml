<?xml version='1.0' encoding='UTF-8' ?>

<!-- Copyright (c) 2008, 2012, Oracle and/or its affiliates. 
All rights reserved. -->

<!--
   This file contains the metric rules for the WebLogic Server.

   MODIFIED    (MM/DD/YY)
   sparmesw 02/20/12 - Fix adml warnings by creating key cols for jvm metrics
   ztrnovco	08/26/11 - remove rows without a server name from application_names table
   ztrnovco     08/24/11 - roll up work manager metrics for each work manager, server and application
   jmcclung     11/12/10 - replace null appName values in work_manager_no_rate metric with "server-level" (bug 10219310)
   klmichae     11/04/10 - add datasource connect delay time
   jmcclung     10/25/10 - fix work_manager metrics to include rows with null appName (bug 10219310)
   scgrover     09/09/10 - add ThreadPoolRuntime metrics
   scgrover     08/16/10 - add additional server columns
   scgrover     06/21/10 - fix uptake issues
   scgrover     05/11/10 - bug 9596557
   scgrover     03/18/10 - fix xml parse errors
   klmichae     01/15/10 - get CPU usage from platform mBeans
   klmichae     12/11/09 - add heap percentage
   klmichae     11/13/09 - handle datasources that do not have an associated
                           application
   scgrover     09/04/09 - fix ejb_module when mbean not present
   sparmesw     08/13/09 - Fixes for GC11 for jvm metrics
   sparmesw     07/10/09 - Add type to jvm_memory_pools metric
   jmcclung     05/13/09 - fix jvm heapUsed.value metric (was always 0 when jrockit was in use)
   klmichae     02/10/09 - remove Response and fix application metrics
   klmichae     12/09/08 - remove metrics for internal applications and add metrics for 
                           versioned applications with the proper name
   klmichae     12/03/08 - change application_names metric to include display
                           name
   klmichae     11/21/08 - add thread metrics
   jmcclung     11/03/08 - add ejb_transaction, datasource 
                           fix typos in which a trailing space was included in an attribute name
   jmcclung     10/27/08 - add app_mdb_no_rate, finish app_ejb_no_rate, app_overview, 
                           server_datasource, jta, server_overview
   sparmesw     10/16/08 - Add jvm metrics
   jmcclung     10/08/08 - add ejb_module metric, 
                           add WHERE clauses to work_manager, app_work_manager, jms_server
   jmcclung     09/30/08 - fixed problems with app_ejb_no_rate - do aggregations in separate tables, one per Mbean, 
                           rather than in a table joining 2 other tables. This fixes problems of count values being too 
                           big, and only seeing one row when multiple rows should be seen
                           add prefixes to metric column names per spec,
                           add app_work_manager metric and added columns to app_overview 
   klmichae     09/23/08 - add filtering to app_overview and service.avg 
                           to servlet_jsp
   klmichae     09/10/08 - add handling for application versions
   jmcclung     09/10/08 - add jvm metric
   jmcclung     08/25/08 - add metrics: app_overview, application
                           change key col names: server_name -> serverName, app_name -> appName,
                           web_module_name -> webModuleName, ejb_module_name -> ejbModuleName
                           change "name" column to "serverName" for server and Response metrics
                           change col types from Integer to Long where appropriate
   jmcclung     08/20/08 - added metrics: server, application, server_datasource, jta, work_manager,
                           server_work_manager, jms, jms_server, server_overview, Response
   klmichae     07/17/08 - Initial version
-->

<Adml xmlns="http://www.oracle.com/iAS/aggregator"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      TableSpace="weblogic_j2eeserver">

 <!-- An application with a version number is called {app-name}#{version}
      in the config mbeans and {app-name}_{version} in the runtime mbeans.
      In the UI, we want to display the name as {app-name} ({version}).
      This metric allows us to map the runtime names and the config names
      to the display name.
 -->
 <!-- application_names (internal) -->
 <Table Name="application_names">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="configAppName" Type="String" Key="true"/>
  <ColumnDef Name="displayAppName" Type="String" Key="true"/>
  <ColumnDef Name="runtimeAppName" Type="String" Key="true"/>

  <Select Name="application_names_all_apps">
   <TableFrom Name="weblogic.management.runtime.ApplicationRuntimeMBean"/>
   <TableFrom Name="weblogic.management.configuration.AppDeploymentMBean" OuterJoined="true"/>

   <Column Name="serverName" Type="String">
    <ColumnFrom Name="ServerRuntime"
                Table="weblogic.management.runtime.ApplicationRuntimeMBean"/>
   </Column>

   <Column Name="runtimeAppName" Type="String">
    <ColumnFrom Name="Name"
                Table="weblogic.management.runtime.ApplicationRuntimeMBean"/>
   </Column>

   <Column Name="configAppName" Type="String">
    <ColumnFrom Name="Name"
                Table="weblogic.management.configuration.AppDeploymentMBean"/>
   </Column>

   <Column Name="internalApp" Type="String">
    <ColumnFrom Name="InternalApp"
                Table="weblogic.management.configuration.AppDeploymentMBean"/>
   </Column>

   <!-- 
        if ( ApplicationVersion != null )
            displayAppName = ApplicationName + " (" + VersionIdentifier + ")"
        else
            displayAppName = ApplicationName
   -->
   <Column Name="displayAppName" Type="String">
    <If>
     <Condition Operator="NE">
      <ColumnFrom Name="VersionIdentifier"
                  Table="weblogic.management.configuration.AppDeploymentMBean"/>
      <Null/>
     </Condition>
     <Then>
      <Expression Operator="Concat">
       <Expression Operator="Concat">
        <ColumnFrom Name="ApplicationName"
                    Table="weblogic.management.configuration.AppDeploymentMBean"/>
        <Value>(</Value>
       </Expression>
       <Expression Operator="Concat">
        <ColumnFrom Name="VersionIdentifier"
                    Table="weblogic.management.configuration.AppDeploymentMBean"/>
        <Value>)</Value>
       </Expression>
      </Expression>
     </Then>
     <Else>
       <ColumnFrom Name="ApplicationName"
                   Table="weblogic.management.configuration.AppDeploymentMBean"/>
     </Else>
    </If>
   </Column>

   <Where>
     <And>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="ApplicationName"
                   Table="weblogic.management.runtime.ApplicationRuntimeMBean"/>
       <ColumnFrom Name="ApplicationName"
                   Table="weblogic.management.configuration.AppDeploymentMBean"/>
      </Condition>
      <Or>
       <Condition Operator="EQ" Type="String">
        <ColumnFrom Name="VersionIdentifier"
                    Table="weblogic.management.configuration.AppDeploymentMBean"/>
        <ColumnFrom Name="ApplicationVersion"
                    Table="weblogic.management.runtime.ApplicationRuntimeMBean"/>
       </Condition>
       <Condition Operator="EQ" Type="String">
        <ColumnFrom Name="ApplicationVersion"
                    Table="weblogic.management.runtime.ApplicationRuntimeMBean"/>
        <Null/>
       </Condition>
      </Or>
     </And>
   </Where>
 
  </Select>

  <Select Name="application_names_result">
   <TableFrom Name="application_names_all_apps"/>

   <Column Name="serverName" Type="String"/>
   <Column Name="runtimeAppName" Type="String"/>
   <Column Name="configAppName" Type="String"/>
   <Column Name="internalApp" Type="String"/>
   <Column Name="displayAppName" Type="String"/>

   <Where>
    <And>
     <Condition Operator="EQ" Type="String">
      <ColumnFrom Name="internalApp"/>
      <Value>false</Value>
     </Condition>
     <!-- ztrnovco 8/26/11 filter rows with no server name -->
     <Condition Operator="NE" Type="String">
      <ColumnFrom Name="serverName" />
      <Null/>
     </Condition>
    </And>
   </Where>

  </Select>

 </Table> 

<!-- server (published) -->
 <Table Name="server">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="startTime.value" Type="Long"/>
  <ColumnDef Name="sockets.active" Type="Long"/>
  <ColumnDef Name="socketsAccepted.completed" Type="Long"/>
  <ColumnDef Name="listenPort.value" Type="Integer"/>
  <ColumnDef Name="state.value" Type="Integer"/>
  <ColumnDef Name="sslListenPort.value" Type="Integer"/>
  <ColumnDef Name="listenPort.enabled" Type="String"/>
  <ColumnDef Name="sslListenPort.enabled" Type="String"/>
  <Select Name="server_result">
   <TableFrom Name="weblogic.management.runtime.ServerRuntimeMBean"/>
   <Column Name="serverName" Type="String">
    <ColumnFrom Name="Name"/>
   </Column>
   <Column Name="startTime.value" Type="Long">
    <ColumnFrom Name="ActivationTime"/>
   </Column>
   <Column Name="sockets.active" Type="Long">
    <ColumnFrom Name="OpenSocketsCurrentCount"/>
   </Column>
   <Column Name="socketsAccepted.completed" Type="Long">
    <ColumnFrom Name="SocketsOpenedTotalCount"/>
   </Column>
   <Column Name="listenPort.value" Type="Integer">
    <ColumnFrom Name="ListenPort"/>
   </Column>
   <Column Name="state.value" Type="Integer">
    <ColumnFrom Name="StateVal"/>
   </Column>
   <Column Name="sslListenPort.value" Type="Integer">
    <ColumnFrom Name="SSLListenPort"/>
   </Column>
   <Column Name="listenPort.enabled" Type="String">
    <ColumnFrom Name="ListenPortEnabled"/>
   </Column>
   <Column Name="sslListenPort.enabled" Type="String">
    <ColumnFrom Name="SSLListenPortEnabled"/>
   </Column>
  </Select>
 </Table> 

 <!-- server_session (internal) -->
 <Table Name="server_session">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="session.active" Type="Long"/>
  <Select Name="server_session_result">
   <TableFrom Name="weblogic_j2eeserver:app_session"/>
    <Column Name="serverName" Type="String">
      <ColumnFrom Name="serverName"/>
    </Column>
   <Column Name="session.active" Type="Long">
    <Aggregation Operator="Sum" Name="session.active" />
    <Default>0</Default>
   </Column>
   <GroupBy Name="serverName"/>
  </Select>
 </Table> 

 <!-- server_cpu_no_rate (internal) -->
 <Table Name="server_cpu_no_rate">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="cpu.time" Type="Double"/>
  <ColumnDef Name="numProcessors.value" Type="Integer"/>
   <Select Name="server_cpu_no_rate_result">
   <TableFrom Name="com.sun.management.UnixOperatingSystemMXBean" OuterJoined="true"/>
   <TableFrom Name="com.sun.management.OperatingSystemMXBean" OuterJoined="true"/>

    <!-- Get the Server Name from the mBean that we find -->
    <Column Name="serverName" Type="String">
    <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ServerName" Table="com.sun.management.UnixOperatingSystemMXBean"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="ServerName" Table="com.sun.management.UnixOperatingSystemMXBean"/>
     </Then>
     <Else>
      <ColumnFrom Name="ServerName" Table="com.sun.management.OperatingSystemMXBean"/>
     </Else>
     </If>
    </Column>

    <!-- Get the process time from the mBean that we find -->
    <Column Name="ProcessCpuTime" Type="Long">
    <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ProcessCpuTime" Table="com.sun.management.UnixOperatingSystemMXBean"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="ProcessCpuTime" Table="com.sun.management.UnixOperatingSystemMXBean"/>
     </Then>
     <Else>
      <ColumnFrom Name="ProcessCpuTime" Table="com.sun.management.OperatingSystemMXBean"/>
     </Else>
     </If>
    </Column>

    <!-- Get the CPU time in the right unit --> 
    <Column Name="cpu.time" Type="Double">
     <!-- The CPU time is in nanoseconds, so we need to divide by 1,000,000,000 
          to get seconds.  Instead, we will divide by 10,000,000, so we later don't
          have to multiply by 100 to convert this to a percentage. -->
     <Expression Operator="Div">
       <ColumnFrom Name="ProcessCpuTime"/>
       <Value>10000000.0</Value>
     </Expression>
     <Default>0</Default>
    </Column>

    <!-- Get the number of processors from the mBean that we find -->
    <Column Name="numProcessors.value" Type="Integer">
    <If>
      <Condition Operator="NE">
       <ColumnFrom Name="AvailableProcessors" Table="com.sun.management.UnixOperatingSystemMXBean"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="AvailableProcessors" Table="com.sun.management.UnixOperatingSystemMXBean"/>
     </Then>
     <Else>
      <ColumnFrom Name="AvailableProcessors" Table="com.sun.management.OperatingSystemMXBean"/>
     </Else>
     </If>
    </Column>

  </Select>
 </Table> 

 <!-- server_cpu (internal) -->
 <Table Name="server_cpu">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="cpuUsage.percentage" Type="Double"/>
   <Select Name="server_cpu_result">
   <TableFrom Name="weblogic_j2eeserver:server_cpu_no_rate"/>
    <Column Name="serverName" Type="String"/>
    <Column Name="cpuUsage.percentage" Type="Double">
     <!-- Get the CPU time from the last 30 seconds divided by the interval. 
          Then divide by the number of processors.  We don't need to multiple 
          by 100 to get the percentage, since we accounted for this in the 
          previous operation -->
     <Expression Operator="Div">
       <Rate Interval="30000">
         <ColumnFrom Name="cpu.time"/>
         <Default>0</Default>
       </Rate>
      <ColumnFrom Name="numProcessors.value"/>
     </Expression>
     <Default>0</Default>
    </Column>
  </Select>
 </Table> 

<!-- thread_pool_no_rate (internal) -->
<Table Name="thread_pool_no_rate">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="requests.completed" Type="Long"/>
  <ColumnDef Name="idleThreads.active" Type="Long"/>
  <ColumnDef Name="totalThreads.active" Type="Long"/>
  <ColumnDef Name="useThreads.active" Type="Long"/>
  <ColumnDef Name="hoggedThreads.active" Type="Long"/>
  <ColumnDef Name="pendingUserRequests.active" Type="Long"/>
  <ColumnDef Name="pendingSystemRequests.active" Type="Long"/>
  <ColumnDef Name="pendingRequests.active" Type="Long"/>
  <ColumnDef Name="standbyThreads.active" Type="Long"/>

  <Select Name="result">
   <TableFrom Name="weblogic.management.runtime.ThreadPoolRuntimeMBean"/>
   <Column Name="serverName" Type="String">
    <ColumnFrom Name="ServerRuntime"/>
   </Column>
   <Column Name="requests.completed" Type="Long">
     <ColumnFrom Name="CompletedRequestCount"/>
   </Column>
   <Column Name="idleThreads.active" Type="Long">
     <ColumnFrom Name="ExecuteThreadIdleCount"/>
   </Column>
   <Column Name="totalThreads.active" Type="Long">
     <ColumnFrom Name="ExecuteThreadTotalCount"/>
   </Column>
   <Column Name="useThreads.active" Type="Long">
     <Expression Operator="Minus">
       <ColumnFrom Name="ExecuteThreadTotalCount"/>
       <ColumnFrom Name="ExecuteThreadIdleCount"/>
    </Expression>
   </Column>
   <Column Name="hoggedThreads.active" Type="Long">
     <ColumnFrom Name="HoggingThreadCount"/>
   </Column>
   <Column Name="pendingUserRequests.active" Type="Long">
     <ColumnFrom Name="PendingUserRequestCount"/>
   </Column>
   <Column Name="pendingSystemRequests.active" Type="Long">
     <Expression Operator="Minus">
       <ColumnFrom Name="QueueLength"/>
       <ColumnFrom Name="PendingUserRequestCount"/>
    </Expression>
   </Column>
   <Column Name="pendingRequests.active" Type="Long">
     <ColumnFrom Name="QueueLength"/>
   </Column>
   <Column Name="standbyThreads.active" Type="Long">
     <ColumnFrom Name="StandbyThreadCount"/>
   </Column>
  </Select>
</Table>

<!-- thread_pool(published) -->
<Table Name="thread_pool">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="requests.completed" Type="Long"/>
  <ColumnDef Name="requests.throughput" Type="Double"/>
  <ColumnDef Name="idleThreads.active" Type="Long"/>
  <ColumnDef Name="totalThreads.active" Type="Long"/>
  <ColumnDef Name="useThreads.active" Type="Long"/>
  <ColumnDef Name="hoggedThreads.active" Type="Long"/>
  <ColumnDef Name="pendingUserRequests.active" Type="Long"/>
  <ColumnDef Name="pendingSystemRequests.active" Type="Long"/>
  <ColumnDef Name="pendingRequests.active" Type="Long"/>
  <ColumnDef Name="standbyThreads.active" Type="Long"/>

  <Select Name="result">
   <TableFrom Name="weblogic_j2eeserver:thread_pool_no_rate"/>
   <Column Name="serverName" Type="String"/>
   <Column Name="requests.completed" Type="Long"/>
   <Column Name="requests.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="requests.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
   </Column>
   <Column Name="idleThreads.active" Type="Long"/>
   <Column Name="totalThreads.active" Type="Long"/>
   <Column Name="useThreads.active" Type="Long"/>
   <Column Name="hoggedThreads.active" Type="Long"/>
   <Column Name="pendingUserRequests.active" Type="Long"/>
   <Column Name="pendingSystemRequests.active" Type="Long"/>
   <Column Name="pendingRequests.active" Type="Long"/>
   <Column Name="standbyThreads.active" Type="Long"/>
  </Select>
</Table>

<!-- generic_jvm (internal) -->
 <Table Name="generic_jvm">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="heapUsed.value" Type="Double"/>
  <ColumnDef Name="heapUsedPercentage.value" Type="Integer"/>
  <ColumnDef Name="jdkVendor.value" Type="String"/>
  <ColumnDef Name="jdkVersion.value" Type="String"/>
  <ColumnDef Name="threads.active" Type="Long"/>
  <ColumnDef Name="daemonThreads.active" Type="Long"/>

  <Select Name="generic_jvm_result">
   <TableFrom Name="weblogic.management.runtime.JVMRuntimeMBean"/>
   <TableFrom Name="JVM_ThreadStats"/>
   <Column Name="serverName" Type="String">
    <ColumnFrom Name="ServerRuntime" Table="weblogic.management.runtime.JVMRuntimeMBean"/>
   </Column>
   <Column Name="heapUsed.value" Type="Double">
     <Expression Operator="Div">
      <Expression Operator="Minus">
        <ColumnFrom Name="HeapSizeCurrent" Table="weblogic.management.runtime.JVMRuntimeMBean"/>
        <ColumnFrom Name="HeapFreeCurrent" Table="weblogic.management.runtime.JVMRuntimeMBean"/>
      </Expression>
      <Value>1048576.0</Value>
     </Expression>
     <Default>0</Default>
   </Column>
   <Column Name="heapUsedPercentage.value" Type="Integer">
     <Expression Operator="Minus">
       <Value>100</Value>
       <ColumnFrom Name="HeapFreePercent" Table="weblogic.management.runtime.JVMRuntimeMBean"/>
     </Expression>
   </Column>
   <Column Name="jdkVendor.value" Type="String">
    <ColumnFrom Name="JavaVendor" Table="weblogic.management.runtime.JVMRuntimeMBean"/>
   </Column>
   <Column Name="jdkVersion.value" Type="String">
    <ColumnFrom Name="JavaVersion" Table="weblogic.management.runtime.JVMRuntimeMBean"/>
   </Column>
   <Column Name="threads.active" Type="Long">
    <ColumnFrom Name="live.value" Table="JVM_ThreadStats"/>
   </Column>
   <Column Name="daemonThreads.active" Type="Long">
    <ColumnFrom Name="daemon.value" Table="JVM_ThreadStats"/>
   </Column>
  </Select>
 </Table> 

<!-- jrockit_jvm (internal) -->
 <Table Name="jrockit_jvm">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="heapUsed.value" Type="Double"/>
  <ColumnDef Name="heapUsedPercentage.value" Type="Integer"/>
  <ColumnDef Name="jdkVendor.value" Type="String"/>
  <ColumnDef Name="jdkVersion.value" Type="String"/>
  <ColumnDef Name="cpuUsage.percentage" Type="Double"/>
  <ColumnDef Name="daemonThreads.active" Type="Long"/>
  <ColumnDef Name="threads.active" Type="Long"/>
  <ColumnDef Name="nurserySize.value" Type="Double"/>
  <Select Name="jrockit_jvm_result">
   <TableFrom Name="weblogic.management.runtime.JRockitRuntimeMBean"/>
   <Column Name="serverName" Type="String">
    <ColumnFrom Name="ServerRuntime"/>
   </Column>
   <Column Name="heapUsed.value" Type="Double">
     <Expression Operator="Div">
      <Expression Operator="Minus">
        <ColumnFrom Name="HeapSizeCurrent "/>
        <ColumnFrom Name="HeapFreeCurrent"/>
      </Expression>
      <Value>1048576.0</Value>
     </Expression>
     <Default>0</Default>
   </Column>
   <Column Name="heapUsedPercentage.value" Type="Integer">
     <Expression Operator="Minus">
       <Value>100</Value>
       <ColumnFrom Name="HeapFreePercent"/>
     </Expression>
   </Column>
   <Column Name="jdkVendor.value" Type="String">
    <ColumnFrom Name="JavaVendor"/>
   </Column>
   <Column Name="jdkVersion.value" Type="String">
    <ColumnFrom Name="JavaVersion"/>
   </Column>
   <Column Name="cpuUsage.percentage" Type="Double">
     <Expression Operator="Mult">
       <ColumnFrom Name="JvmProcessorLoad"/>
       <Value>100.0</Value>
     </Expression>
     <Default>0</Default>
   </Column>
   <Column Name="daemonThreads.active" Type="Long">
    <ColumnFrom Name="NumberOfDaemonThreads"/>
   </Column>
   <Column Name="threads.active" Type="Long">
    <ColumnFrom Name="TotalNumberOfThreads"/>
   </Column>
   <Column Name="nurserySize.value" Type="Double">
     <Expression Operator="Div">
       <ColumnFrom Name="TotalNurserySize"/>
       <Value>1048576.0</Value>
     </Expression>
     <Default>0</Default>
   </Column>
  </Select>
 </Table> 

 <!-- jvm (published) -->
 <Table Name="jvm">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="heapUsed.value" Type="Double"/>
  <ColumnDef Name="heapUsedPercentage.value" Type="Integer"/>
  <ColumnDef Name="jdkVendor.value" Type="String"/>
  <ColumnDef Name="jdkVersion.value" Type="String"/>
  <ColumnDef Name="cpuUsage.percentage" Type="Double"/>
  <ColumnDef Name="daemonThreads.active" Type="Long"/>
  <ColumnDef Name="threads.active" Type="Long"/>
  <ColumnDef Name="nurserySize.value" Type="Double"/>
  <Select Name="jvm_joins">
   <TableFrom Name="weblogic_j2eeserver:generic_jvm" OuterJoined="true"/>
   <TableFrom Name="weblogic_j2eeserver:jrockit_jvm" OuterJoined="true"/>
    <Column Name="serverName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="serverName" Table="weblogic_j2eeserver:generic_jvm"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="serverName" Table="weblogic_j2eeserver:generic_jvm"/>
     </Then>
     <Else>
      <ColumnFrom Name="serverName" Table="weblogic_j2eeserver:jrockit_jvm"/>
     </Else>
     </If>
    </Column>
    <Column Name="heapUsed.value" Type="Double">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="heapUsed.value" Table="weblogic_j2eeserver:jrockit_jvm"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="heapUsed.value" Table="weblogic_j2eeserver:jrockit_jvm"/>
     </Then>
     <Else>
      <ColumnFrom Name="heapUsed.value" Table="weblogic_j2eeserver:generic_jvm"/>
     </Else>
     </If>
    </Column>
    <Column Name="heapUsedPercentage.value" Type="Integer">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="heapUsedPercentage.value" Table="weblogic_j2eeserver:jrockit_jvm"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="heapUsedPercentage.value" Table="weblogic_j2eeserver:jrockit_jvm"/>
     </Then>
     <Else>
      <ColumnFrom Name="heapUsedPercentage.value" Table="weblogic_j2eeserver:generic_jvm"/>
     </Else>
     </If>
    </Column>
    <Column Name="threads.active" Type="Double">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="threads.active" Table="weblogic_j2eeserver:generic_jvm"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="threads.active" Table="weblogic_j2eeserver:generic_jvm"/>
     </Then>
     <Else>
      <ColumnFrom Name="threads.active" Table="weblogic_j2eeserver:jrockit_jvm"/>
     </Else>
     </If>
    </Column>
    <Column Name="daemonThreads.active" Type="Double">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="daemonThreads.active" Table="weblogic_j2eeserver:generic_jvm"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="daemonThreads.active" Table="weblogic_j2eeserver:generic_jvm"/>
     </Then>
     <Else>
      <ColumnFrom Name="daemonThreads.active" Table="weblogic_j2eeserver:jrockit_jvm"/>
     </Else>
     </If>
    </Column>
    <Column Name="jdkVendor.value" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="jdkVendor.value" Table="weblogic_j2eeserver:generic_jvm"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="jdkVendor.value" Table="weblogic_j2eeserver:generic_jvm"/>
     </Then>
     <Else>
      <ColumnFrom Name="jdkVendor.value" Table="weblogic_j2eeserver:jrockit_jvm"/>
     </Else>
     </If>
    </Column>
    <Column Name="jdkVersion.value" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="jdkVersion.value" Table="weblogic_j2eeserver:generic_jvm"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="jdkVersion.value" Table="weblogic_j2eeserver:generic_jvm"/>
     </Then>
     <Else>
      <ColumnFrom Name="jdkVersion.value" Table="weblogic_j2eeserver:jrockit_jvm"/>
     </Else>
     </If>
    </Column>

    <Column Name="cpuUsage.percentage" Type="Double">
     <ColumnFrom Name="cpuUsage.percentage" Table="weblogic_j2eeserver:jrockit_jvm"/>
    </Column>
    <Column Name="nurserySize.value" Type="Double">
     <ColumnFrom Name="nurserySize.value" Table="weblogic_j2eeserver:jrockit_jvm"/>
    </Column>
  </Select>

  <Select Name="jvm_result">
   <TableFrom Name="weblogic_j2eeserver:server_cpu"/>
   <TableFrom Name="jvm_joins"/>
    <Column Name="serverName" Type="String">
       <ColumnFrom Name="serverName" Table="jvm_joins"/>
    </Column>
    <Column Name="heapUsed.value" Type="Double">
       <ColumnFrom Name="heapUsed.value" Table="jvm_joins"/>
    </Column>
    <Column Name="heapUsedPercentage.value" Type="Integer">
       <ColumnFrom Name="heapUsedPercentage.value" Table="jvm_joins"/>
    </Column>
    <Column Name="threads.active" Type="Double">
       <ColumnFrom Name="threads.active" Table="jvm_joins"/>
    </Column>
    <Column Name="daemonThreads.active" Type="Double">
      <ColumnFrom Name="daemonThreads.active" Table="jvm_joins"/>
    </Column>
    <Column Name="jdkVendor.value" Type="String">
       <ColumnFrom Name="jdkVendor.value" Table="jvm_joins"/>
    </Column>
    <Column Name="jdkVersion.value" Type="String">
       <ColumnFrom Name="jdkVersion.value" Table="jvm_joins"/>
    </Column>
    <Column Name="cpuUsage.percentage" Type="Double">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="cpuUsage.percentage" Table="jvm_joins"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="cpuUsage.percentage" Table="jvm_joins"/>
     </Then>
     <Else>
      <ColumnFrom Name="cpuUsage.percentage" Table="weblogic_j2eeserver:server_cpu"/>
     </Else>
     </If>
    </Column>

    <Column Name="nurserySize.value" Type="Double">
     <ColumnFrom Name="nurserySize.value" Table="jvm_joins"/>
    </Column>
  
  </Select>
 </Table> 

 <!-- server_servlet_jsp_no_rate (internal) -->
 <Table Name="server_servlet_jsp_no_rate">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="service.totalTime" Type="Long"/>
  <ColumnDef Name="service.completed" Type="Long"/>
  <Select Name="server_servlet_jsp_no_rate_result">
   <TableFrom Name="weblogic_j2eeserver:app_servlet_jsp_no_rate"/>
    <Column Name="serverName" Type="String"/>
    <Column Name="service.totalTime" Type="Long">
     <Aggregation Operator="Sum" Name="service.totalTime" />
     <Default>0</Default>
    </Column>
   <Column Name="service.completed" Type="Long">
     <Aggregation Operator="Sum" Name="service.completed" />
     <Default>0</Default>
    </Column>
   <GroupBy Name="serverName"/>
  </Select>
 </Table> 

 <!-- server_datasource_no_rate (internal) -->
 <Table Name="server_datasource_no_rate">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="connectionInUse.active" Type="Long" />
  <ColumnDef Name="connectionCreated.completed" Type="Long" />
  <ColumnDef Name="connectionPoolSize.active" Type="Long" />
  <ColumnDef Name="connectionAvailable.active" Type="Long" />
  <ColumnDef Name="connectionRequests.completed" Type="Long" />
  <ColumnDef Name="connectionRequestFailures.completed" Type="Long" />
  <ColumnDef Name="connectionWaiters.active" Type="Long" />
  <ColumnDef Name="connectionWaitFailures.completed" Type="Long" />
  <ColumnDef Name="connectionWaitSuccesses.completed" Type="Long" />
  <ColumnDef Name="connectionWaits.completed" Type="Long" />
  <ColumnDef Name="stmtCacheSize.active" Type="Long" />
  <ColumnDef Name="stmtCacheAdded.completed" Type="Long" />
  <ColumnDef Name="stmtCacheSatisfied.completed" Type="Long" />
  <ColumnDef Name="stmtCacheNotSatisfied.completed" Type="Long" />
  <Select Name="server_datasource_no_rate_result">
   <TableFrom Name="weblogic_j2eeserver:datasource_no_rate"/>
    <Column Name="serverName" Type="String"/>

    <Column Name="connectionInUse.active" Type="Long">
     <Aggregation Operator="Sum" Name="connectionInUse.active"/>
     <Default>0</Default>
    </Column>
    <Column Name="connectionCreated.completed" Type="Long">
     <Aggregation Operator="Sum" Name="connectionCreated.completed"/>
     <Default>0</Default>
    </Column>
    <Column Name="connectionPoolSize.active" Type="Long">
     <Aggregation Operator="Sum" Name="connectionPoolSize.active"/>
     <Default>0</Default>
    </Column>
    <Column Name="connectionAvailable.active" Type="Long">
     <Aggregation Operator="Sum" Name="connectionAvailable.active"/>
     <Default>0</Default>
    </Column>
    <Column Name="connectionRequests.completed" Type="Long">
     <Aggregation Operator="Sum" Name="connectionRequests.completed"/>
     <Default>0</Default>
    </Column>
    <Column Name="connectionRequestFailures.completed" Type="Long">
     <Aggregation Operator="Sum" Name="connectionRequestFailures.completed"/>
     <Default>0</Default>
    </Column>
    <Column Name="connectionWaiters.active" Type="Long">
     <Aggregation Operator="Sum" Name="connectionWaiters.active"/>
     <Default>0</Default>
    </Column>
    <Column Name="connectionWaitFailures.completed" Type="Long">
     <Aggregation Operator="Sum" Name="connectionWaitFailures.completed"/>
     <Default>0</Default>
    </Column>
    <Column Name="connectionWaitSuccesses.completed" Type="Long">
     <Aggregation Operator="Sum" Name="connectionWaitSuccesses.completed"/>
     <Default>0</Default>
    </Column>
    <Column Name="connectionWaits.completed" Type="Long">
     <Aggregation Operator="Sum" Name="connectionWaits.completed"/>
     <Default>0</Default>
    </Column>
    <Column Name="stmtCacheSize.active" Type="Long">
     <Aggregation Operator="Sum" Name="stmtCacheSize.active"/>
     <Default>0</Default>
    </Column>
    <Column Name="stmtCacheAdded.completed" Type="Long">
     <Aggregation Operator="Sum" Name="stmtCacheAdded.completed"/>
     <Default>0</Default>
    </Column>
    <Column Name="stmtCacheSatisfied.completed" Type="Long">
     <Aggregation Operator="Sum" Name="stmtCacheSatisfied.completed"/>
     <Default>0</Default>
    </Column>
    <Column Name="stmtCacheNotSatisfied.completed" Type="Long">
     <Aggregation Operator="Sum" Name="stmtCacheNotSatisfied.completed"/>
     <Default>0</Default>
    </Column>
 
    <GroupBy Name="serverName"/>

  </Select>
 </Table>

 <!-- server_datasource (published) -->
 <Table Name="server_datasource">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="connectionInUse.active" Type="Long" />
  <ColumnDef Name="connectionCreated.completed" Type="Long" />
  <ColumnDef Name="connectionCreated.throughput" Type="Double" />
  <ColumnDef Name="connectionPoolSize.active" Type="Long" />
  <ColumnDef Name="connectionRequestFailures.completed" Type="Long" />
  <ColumnDef Name="connectionRequests.completed" Type="Long" />
  <ColumnDef Name="connectionRequests.throughput" Type="Double" />
  <ColumnDef Name="connectionSuccess.percentage" Type="Double" />
  <ColumnDef Name="connectionAvailable.active" Type="Long" />
  <ColumnDef Name="stmtCacheAdded.completed" Type="Long" />
  <ColumnDef Name="stmtCacheAdded.throughput" Type="Double" />
  <ColumnDef Name="stmtCacheSize.active" Type="Long" />
  <ColumnDef Name="stmtCacheSatisfied.completed" Type="Long" />
  <ColumnDef Name="stmtCacheSatisfied.throughput" Type="Double" />
  <ColumnDef Name="stmtCacheNotSatisfied.completed" Type="Long" />
  <ColumnDef Name="stmtCacheNotSatisfied.throughput" Type="Double" />
  <ColumnDef Name="stmtCacheSatisfied.percentage" Type="Double" />
  <ColumnDef Name="connectionWaiters.active" Type="Long" />
  <ColumnDef Name="connectionWaitSuccesses.completed" Type="Long" />
  <ColumnDef Name="connectionWaitSuccesses.throughput" Type="Double" />
  <ColumnDef Name="connectionWaits.completed" Type="Long" />
  <ColumnDef Name="connectionWaits.throughput" Type="Double" />
  <ColumnDef Name="connectionWaitSuccesses.percentage" Type="Double" />
  <Select Name="server_datasource_result_1">
   <TableFrom Name="weblogic_j2eeserver:server_datasource_no_rate"/>
    <Column Name="serverName" Type="String"/>
    <Column Name="connectionInUse.active" Type="Long"/>
    <Column Name="connectionCreated.completed" Type="Long"/>
    <Column Name="connectionCreated.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="connectionCreated.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="connectionPoolSize.active" Type="Long"/>
    <Column Name="connectionRequestFailures.completed" Type="Long"/>
    <Column Name="connectionRequestFailures.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
      <ColumnFrom Name="connectionRequestFailures.completed"/>
      <Default>0</Default>
     </Previous>
    </Column>
    <Column Name="connectionRequests.completed" Type="Long"/>
    <Column Name="connectionRequests.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="connectionRequests.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
   <Column Name="connectionRequests.completed.previous" Type="Long">
    <Previous Interval="300000" Index="0">
      <ColumnFrom Name="connectionRequests.completed"/>
     <Default>0</Default>
    </Previous>
   </Column>
    <Column Name="connectionAvailable.active" Type="Long"/>
    <Column Name="stmtCacheAdded.completed" Type="Long"/>
    <Column Name="stmtCacheAdded.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="stmtCacheAdded.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="stmtCacheSize.active" Type="Long"/>
    <Column Name="stmtCacheSatisfied.completed" Type="Long"/>
    <Column Name="stmtCacheSatisfied.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="stmtCacheSatisfied.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="stmtCacheSatisfied.completed.previous" Type="Long">
    <Previous Interval="300000" Index="0">
      <ColumnFrom Name="stmtCacheSatisfied.completed"/>
     <Default>0</Default>
    </Previous>
    </Column>
    <Column Name="stmtCacheNotSatisfied.completed" Type="Long"/>
    <Column Name="stmtCacheNotSatisfied.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="stmtCacheNotSatisfied.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="stmtCacheNotSatisfied.completed.previous" Type="Long">
    <Previous Interval="300000" Index="0">
      <ColumnFrom Name="stmtCacheNotSatisfied.completed"/>
     <Default>0</Default>
    </Previous>
    </Column>
    <Column Name="connectionWaiters.active" Type="Long"/>
    <Column Name="connectionWaitSuccesses.completed" Type="Long"/>
    <Column Name="connectionWaitSuccesses.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="connectionWaitSuccesses.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="connectionWaitSuccesses.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
      <ColumnFrom Name="connectionWaitSuccesses.completed"/>
      <Default>0</Default>
     </Previous>
    </Column>
    <Column Name="connectionWaits.completed" Type="Long"/>
    <Column Name="connectionWaits.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="connectionWaits.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="connectionWaits.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
      <ColumnFrom Name="connectionWaits.completed"/>
      <Default>0</Default>
     </Previous>
    </Column>
  </Select>
  <Select Name="server_datasource_result">
   <TableFrom Name="server_datasource_result_1"/>
    <Column Name="serverName" Type="String"/>
    <Column Name="connectionInUse.active" Type="Long"/>
    <Column Name="connectionCreated.completed" Type="Long"/>
    <Column Name="connectionCreated.throughput" Type="Double"/>
    <Column Name="connectionPoolSize.active" Type="Long"/>
    <Column Name="connectionRequestFailures.completed" Type="Long"/>
    <Column Name="connectionRequests.completed" Type="Long"/>
    <Column Name="connectionRequests.throughput" Type="Double"/>
    <Column Name="connectionRequests.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="connectionRequests.completed.previous"/>
       <ColumnFrom Name="connectionRequests.completed"/>
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="connectionRequests.completed"/>
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="connectionRequests.completed"/>
        <ColumnFrom Name="connectionRequests.completed.previous"/>
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="connectionRequestFailures.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="connectionRequestFailures.completed.previous"/>
       <ColumnFrom Name="connectionRequestFailures.completed"/>
      </Condition>
     <Then>
      <!-- Server was restarted, just use completed -->
      <ColumnFrom Name="connectionRequestFailures.completed"/>
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="connectionRequestFailures.completed"/>
        <ColumnFrom Name="connectionRequestFailures.completed.previous"/>
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="connectionSuccess.percentage" Type="Double">
     <Expression Operator="Div">
      <Expression Operator="Mult">
       <Expression Operator="Minus">
        <ColumnFrom Name="connectionRequests.deltaCompleted"/>
        <ColumnFrom Name="connectionRequestFailures.deltaCompleted"/>
       </Expression>
       <Value>100.0</Value>
      </Expression>
      <ColumnFrom Name="connectionRequests.deltaCompleted"/>
     </Expression>
     <Default>0</Default>
    </Column>
    <Column Name="connectionAvailable.active" Type="Long"/>
    <Column Name="stmtCacheAdded.completed" Type="Long"/>
    <Column Name="stmtCacheAdded.throughput" Type="Double"/>
    <Column Name="stmtCacheSize.active" Type="Long"/>
    <Column Name="stmtCacheSatisfied.completed" Type="Long"/>
    <Column Name="stmtCacheSatisfied.throughput" Type="Double"/>
    <Column Name="stmtCacheSatisfied.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="stmtCacheSatisfied.completed.previous"/>
       <ColumnFrom Name="stmtCacheSatisfied.completed"/>
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="stmtCacheSatisfied.completed"/>
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="stmtCacheSatisfied.completed"/>
        <ColumnFrom Name="stmtCacheSatisfied.completed.previous"/>
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="stmtCacheNotSatisfied.completed" Type="Long"/>
    <Column Name="stmtCacheNotSatisfied.throughput" Type="Double"/>
    <Column Name="stmtCacheNotSatisfied.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="stmtCacheNotSatisfied.completed.previous"/>
       <ColumnFrom Name="stmtCacheNotSatisfied.completed"/>
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="stmtCacheNotSatisfied.completed"/>
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="stmtCacheNotSatisfied.completed"/>
        <ColumnFrom Name="stmtCacheNotSatisfied.completed.previous"/>
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="stmtCacheSatisfied.percentage" Type="Double">
     <Expression Operator="Div">
      <Expression Operator="Mult">
        <ColumnFrom Name="stmtCacheSatisfied.deltaCompleted"/>
        <Value>100.0</Value>
      </Expression>
      <Expression Operator="Plus">
        <ColumnFrom Name="stmtCacheSatisfied.deltaCompleted"/>
        <ColumnFrom Name="stmtCacheNotSatisfied.deltaCompleted"/>
      </Expression>
     </Expression>
     <Default>0</Default>
    </Column>
    <Column Name="connectionWaiters.active" Type="Long"/>
    <Column Name="connectionWaitSuccesses.completed" Type="Long"/>
    <Column Name="connectionWaits.completed" Type="Long"/>
    <Column Name="connectionWaits.throughput" Type="Double"/>
    <Column Name="connectionWaits.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="connectionWaits.completed.previous"/>
       <ColumnFrom Name="connectionWaits.completed"/>
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="connectionWaits.completed"/>
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="connectionWaits.completed"/>
        <ColumnFrom Name="connectionWaits.completed.previous"/>
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="connectionWaitSuccesses.throughput" Type="Double"/>
    <Column Name="connectionWaitSuccesses.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="connectionWaitSuccesses.completed.previous"/>
       <ColumnFrom Name="connectionWaitSuccesses.completed"/>
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="connectionWaitSuccesses.completed"/>
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="connectionWaitSuccesses.completed"/>
        <ColumnFrom Name="connectionWaitSuccesses.completed.previous"/>
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="connectionWaitSuccesses.percentage" Type="Double">
     <Expression Operator="Div">
      <Expression Operator="Mult">
        <ColumnFrom Name="connectionWaitSuccesses.deltaCompleted"/>
        <Value>100.0</Value>
      </Expression>
      <ColumnFrom Name="connectionWaits.deltaCompleted"/>
     </Expression>
     <Default>0</Default>
    </Column>
  </Select>
 </Table>

 <!-- jta_no_rate (internal) -->
 <Table Name="jta_no_rate">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="jtaTransactions.active" Type="Long" />
  <ColumnDef Name="jtaTransactionCommit.totalTime" Type="Long" />
  <ColumnDef Name="jtaTransactionAbandoned.completed" Type="Long" />
  <ColumnDef Name="jtaTransactionCommit.completed" Type="Long" />
  <ColumnDef Name="jtaTransactionHeuristic.completed" Type="Long" />
  <ColumnDef Name="jtaTransactionRollbackApp.completed" Type="Long" />
  <ColumnDef Name="jtaTransactionRollbackResource.completed" Type="Long" />
  <ColumnDef Name="jtaTransactionRollbackSystem.completed" Type="Long" />
  <ColumnDef Name="jtaTransactionRollbackTimeout.completed" Type="Long" />
  <ColumnDef Name="jtaTransactionRollback.completed" Type="Long" />
  <ColumnDef Name="jtaTransactionProcessed.completed" Type="Long" />
  <Select Name="jta_no_rate_result">
   <TableFrom Name="weblogic.management.runtime.JTARuntimeMBean"/>
    <Column Name="serverName" Type="String">
      <ColumnFrom Name="ServerRuntime"/>
    </Column>
   <Column Name="jtaTransactions.active" Type="Long">
    <ColumnFrom Name="ActiveTransactionsTotalCount"/>
   </Column>
   <Column Name="jtaTransactionCommit.totalTime" Type="Long">
    <ColumnFrom Name="SecondsActiveTotalCount"/>
   </Column>
   <Column Name="jtaTransactionAbandoned.completed" Type="Long">
    <ColumnFrom Name="TransactionAbandonedTotalCount"/>
   </Column>
   <Column Name="jtaTransactionCommit.completed" Type="Long">
    <ColumnFrom Name="TransactionCommittedTotalCount"/>
   </Column>
   <Column Name="jtaTransactionHeuristic.completed" Type="Long">
    <ColumnFrom Name="TransactionHeuristicsTotalCount"/>
   </Column>
   <Column Name="jtaTransactionRollbackApp.completed" Type="Long">
    <ColumnFrom Name="TransactionRolledBackAppTotalCount"/>
   </Column>
   <Column Name="jtaTransactionRollbackResource.completed" Type="Long">
    <ColumnFrom Name="TransactionRolledBackResourceTotalCount"/>
   </Column>
   <Column Name="jtaTransactionRollbackSystem.completed" Type="Long">
    <ColumnFrom Name="TransactionRolledBackSystemTotalCount"/>
   </Column>
   <Column Name="jtaTransactionRollbackTimeout.completed" Type="Long">
    <ColumnFrom Name="TransactionRolledBackTimeoutTotalCount"/>
   </Column>
   <Column Name="jtaTransactionRollback.completed" Type="Long">
    <ColumnFrom Name="TransactionRolledBackTotalCount"/>
   </Column>
   <Column Name="jtaTransactionProcessed.completed" Type="Long">
    <ColumnFrom Name="TransactionTotalCount"/>
   </Column>
  </Select>
 </Table>

<!-- jta (published) -->
 <Table Name="jta">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="jtaTransactions.active" Type="Long" />
  <ColumnDef Name="jtaTransactionCommit.totalTime" Type="Long" />
  <ColumnDef Name="jtaTransactionCommit.time" Type="Double" />
  <ColumnDef Name="jtaTransactionAbandoned.completed" Type="Long" />
  <ColumnDef Name="jtaTransactionAbandoned.throughput" Type="Double" />
  <ColumnDef Name="jtaTransactionCommit.completed" Type="Long" />
  <ColumnDef Name="jtaTransactionCommit.throughput" Type="Double" />
  <ColumnDef Name="jtaTransactionHeuristic.completed" Type="Long" />
  <ColumnDef Name="jtaTransactionHeuristic.throughput" Type="Double" />
  <ColumnDef Name="jtaTransactionRollbackApp.completed" Type="Long" />
  <ColumnDef Name="jtaTransactionRollbackApp.throughput" Type="Double" />
  <ColumnDef Name="jtaTransactionRollbackResource.completed" Type="Long" />
  <ColumnDef Name="jtaTransactionRollbackResource.throughput" Type="Double" />
  <ColumnDef Name="jtaTransactionRollbackSystem.completed" Type="Long" />
  <ColumnDef Name="jtaTransactionRollbackSystem.throughput" Type="Double" />
  <ColumnDef Name="jtaTransactionRollbackTimeout.completed" Type="Long" />
  <ColumnDef Name="jtaTransactionRollbackTimeout.throughput" Type="Double" />
  <ColumnDef Name="jtaTransactionRollback.completed" Type="Long" />
  <ColumnDef Name="jtaTransactionRollback.throughput" Type="Double" />
  <ColumnDef Name="jtaTransactionProcessed.completed" Type="Long" />
  <ColumnDef Name="jtaTransactionProcessed.throughput" Type="Double" />
  <ColumnDef Name="jtaTransactionCommit.percentage" Type="Double" />

  <Select Name="jta_result_1">
   <TableFrom Name="weblogic_j2eeserver:jta_no_rate"/>
   <Column Name="serverName" Type="String"/>
   <Column Name="jtaTransactions.active" Type="Long"/>
   <Column Name="jtaTransactionCommit.totalTime" Type="Long"/>
   <Column Name="jtaTransactionCommit.time" Type="Double">
     <Rate Interval="300000">
      <ColumnFrom Name="jtaTransactionCommit.totalTime"/>
      <ColumnFrom Name="jtaTransactionCommit.completed"/>
      <Default>0</Default>
     </Rate>
   </Column>
   <Column Name="jtaTransactionAbandoned.completed" Type="Long"/>
   <Column Name="jtaTransactionAbandoned.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="jtaTransactionAbandoned.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
   </Column>
   <Column Name="jtaTransactionCommit.completed" Type="Long"/>
   <Column Name="jtaTransactionCommit.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="jtaTransactionCommit.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
   </Column>
   <Column Name="jtaTransactionCommit.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
      <ColumnFrom Name="jtaTransactionCommit.completed"/>
      <Default>0</Default>
     </Previous>
   </Column>
   <Column Name="jtaTransactionHeuristic.completed" Type="Long"/>
   <Column Name="jtaTransactionHeuristic.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="jtaTransactionHeuristic.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
   </Column>
   <Column Name="jtaTransactionRollbackApp.completed" Type="Long"/>
   <Column Name="jtaTransactionRollbackApp.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="jtaTransactionRollbackApp.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
   </Column>
   <Column Name="jtaTransactionRollbackResource.completed" Type="Long"/>
   <Column Name="jtaTransactionRollbackResource.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="jtaTransactionRollbackResource.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
   </Column>
   <Column Name="jtaTransactionRollbackSystem.completed" Type="Long"/>
   <Column Name="jtaTransactionRollbackSystem.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="jtaTransactionRollbackSystem.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
   </Column>
   <Column Name="jtaTransactionRollbackTimeout.completed" Type="Long"/>
   <Column Name="jtaTransactionRollbackTimeout.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="jtaTransactionRollbackTimeout.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
   </Column>
   <Column Name="jtaTransactionRollback.completed" Type="Long"/>
   <Column Name="jtaTransactionRollback.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="jtaTransactionRollback.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
   </Column>
   <Column Name="jtaTransactionProcessed.completed" Type="Long"/>
   <Column Name="jtaTransactionProcessed.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="jtaTransactionProcessed.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
   </Column>
   <Column Name="jtaTransactionProcessed.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
      <ColumnFrom Name="jtaTransactionProcessed.completed"/>
      <Default>0</Default>
     </Previous>
   </Column>
  </Select>

  <Select Name="jta_result">
   <TableFrom Name="jta_result_1"/>
   <Column Name="serverName" Type="String"/>
   <Column Name="jtaTransactions.active" Type="Long"/>
   <Column Name="jtaTransactionCommit.totalTime" Type="Long"/>
   <Column Name="jtaTransactionCommit.time" Type="Double"/>
   <Column Name="jtaTransactionAbandoned.completed" Type="Long"/>
   <Column Name="jtaTransactionAbandoned.throughput" Type="Double"/>
   <Column Name="jtaTransactionCommit.completed" Type="Long"/>
   <Column Name="jtaTransactionCommit.throughput" Type="Double"/>
   <Column Name="jtaTransactionCommit.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="jtaTransactionCommit.completed.previous"/>
       <ColumnFrom Name="jtaTransactionCommit.completed"/>
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="jtaTransactionCommit.completed"/>
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="jtaTransactionCommit.completed"/>
        <ColumnFrom Name="jtaTransactionCommit.completed.previous"/>
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
   </Column>
   <Column Name="jtaTransactionHeuristic.completed" Type="Long"/>
   <Column Name="jtaTransactionHeuristic.throughput" Type="Double"/>
   <Column Name="jtaTransactionRollbackApp.completed" Type="Long"/>
   <Column Name="jtaTransactionRollbackApp.throughput" Type="Double"/>
   <Column Name="jtaTransactionRollbackResource.completed" Type="Long"/>
   <Column Name="jtaTransactionRollbackResource.throughput" Type="Double"/>
   <Column Name="jtaTransactionRollbackSystem.completed" Type="Long"/>
   <Column Name="jtaTransactionRollbackSystem.throughput" Type="Double"/>
   <Column Name="jtaTransactionRollbackTimeout.completed" Type="Long"/>
   <Column Name="jtaTransactionRollbackTimeout.throughput" Type="Double"/>
   <Column Name="jtaTransactionRollback.completed" Type="Long"/>
   <Column Name="jtaTransactionRollback.throughput" Type="Double"/>
   <Column Name="jtaTransactionProcessed.completed" Type="Long"/>
   <Column Name="jtaTransactionProcessed.throughput" Type="Double"/>
   <Column Name="jtaTransactionProcessed.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="jtaTransactionProcessed.completed.previous"/>
       <ColumnFrom Name="jtaTransactionProcessed.completed"/>
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="jtaTransactionProcessed.completed"/>
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="jtaTransactionProcessed.completed"/>
        <ColumnFrom Name="jtaTransactionProcessed.completed.previous"/>
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
   </Column>
   <Column Name="jtaTransactionCommit.percentage" Type="Double">
     <Expression Operator="Div">
      <Expression Operator="Mult">
        <ColumnFrom Name="jtaTransactionCommit.deltaCompleted"/>
        <Value>100.0</Value>
      </Expression>
      <ColumnFrom Name="jtaTransactionProcessed.deltaCompleted"/>
     </Expression>
     <Default>0</Default>
   </Column>
  </Select>
 </Table>

 <!-- server_ejb_no_rate (internal) -->
 <Table Name="server_ejb_no_rate">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="ejbCacheActivation.completed" Type="Long"/>
  <ColumnDef Name="ejbCacheAccess.completed" Type="Long"/>
  <ColumnDef Name="ejbCache.active" Type="Long"/>
  <ColumnDef Name="ejbCacheMiss.completed" Type="Long"/>
  <ColumnDef Name="ejbCachePassivation.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolAccess.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolUsed.active" Type="Long"/>
  <ColumnDef Name="ejbPoolDestroy.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolFailed.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolAvailable.active" Type="Long"/>
  <ColumnDef Name="ejbTransactionCommit.completed" Type="Long"/>
  <ColumnDef Name="ejbTransactionRollback.completed" Type="Long"/>
  <ColumnDef Name="ejbTransactionTimeout.completed" Type="Long"/>
  <Select Name="server_ejb_no_rate_result">
   <TableFrom Name="weblogic_j2eeserver:app_ejb_no_rate" />  
    <Column Name="serverName" Type="String"/>
    <Column Name="ejbCacheActivation.completed" Type="Long">
     <Aggregation Operator="Sum" Name="ejbCacheActivation.completed"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbCacheAccess.completed" Type="Long">
     <Aggregation Operator="Sum" Name="ejbCacheAccess.completed"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbCache.active" Type="Long">
     <Aggregation Operator="Sum" Name="ejbCache.active"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbCacheMiss.completed" Type="Long">
     <Aggregation Operator="Sum" Name="ejbCacheMiss.completed"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbCachePassivation.completed" Type="Long">
     <Aggregation Operator="Sum" Name="ejbCachePassivation.completed"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbPoolAccess.completed" Type="Long">
     <Aggregation Operator="Sum" Name="ejbPoolAccess.completed"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbPoolUsed.active" Type="Long">
     <Aggregation Operator="Sum" Name="ejbPoolUsed.active"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbPoolDestroy.completed" Type="Long">
     <Aggregation Operator="Sum" Name="ejbPoolDestroy.completed"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbPoolFailed.completed" Type="Long">
     <Aggregation Operator="Sum" Name="ejbPoolFailed.completed"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbPoolAvailable.active" Type="Long">
     <Aggregation Operator="Sum" Name="ejbPoolAvailable.active"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbTransactionCommit.completed" Type="Long">
     <Aggregation Operator="Sum" Name="ejbTransactionCommit.completed"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbTransactionRollback.completed" Type="Long">
     <Aggregation Operator="Sum" Name="ejbTransactionRollback.completed"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbTransactionTimeout.completed" Type="Long">
     <Aggregation Operator="Sum" Name="ejbTransactionTimeout.completed"/>
     <Default>0</Default>
    </Column>
 
    <GroupBy Name="serverName"/>

  </Select>
 </Table> 

 <!-- server_mdb_no_rate (internal) -->
 <Table Name="server_mdb_no_rate">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="mdbMessage.completed" Type="Long"/>
  <Select Name="server_mdb_no_rate_result">
   <TableFrom Name="weblogic_j2eeserver:app_mdb_no_rate"/>

   <Column Name="serverName" Type="String"/>
   <Column Name="mdbMessage.completed" Type="Long">
    <Aggregation Operator="Sum" Name="mdbMessage.completed" />
    <Default>0</Default>
   </Column>

   <GroupBy Name="serverName"/>
  </Select>
 </Table> 


<!-- work_manager_no_rate (internal) -->
 <Table Name="work_manager_no_rate">
  <ColumnDef Name="name" Type="String" Key="true"/>
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="wmProcessed.completed" Type="Long"/>
  <ColumnDef Name="wmPending.active" Type="Long"/>
  <ColumnDef Name="wmStuck.active" Type="Long"/>
  <Select Name="work_manager_no_rate_result_1">
   <TableFrom Name="weblogic.management.runtime.WorkManagerRuntimeMBean" />
   <TableFrom Name="weblogic_j2eeserver:application_names"/>
    <Column Name="name" Type="String">
      <ColumnFrom Name="Name"
                  Table="weblogic.management.runtime.WorkManagerRuntimeMBean"/>
    </Column>
    <Column Name="appName" Type="String">
      <ColumnFrom Name="displayAppName"
                  Table="weblogic_j2eeserver:application_names"/>
    </Column>
    <Column Name="serverName" Type="String">
      <ColumnFrom Name="ServerRuntime"
                  Table="weblogic.management.runtime.WorkManagerRuntimeMBean"/>
    </Column>
   <Column Name="wmProcessed.completed" Type="Long">
      <ColumnFrom Name="CompletedRequests"
                  Table="weblogic.management.runtime.WorkManagerRuntimeMBean"/>
   </Column>
   <Column Name="wmPending.active" Type="Long">
      <ColumnFrom Name="PendingRequests"
                  Table="weblogic.management.runtime.WorkManagerRuntimeMBean"/>
   </Column>
   <Column Name="wmStuck.active" Type="Long">
      <ColumnFrom Name="StuckThreadCount"
                  Table="weblogic.management.runtime.WorkManagerRuntimeMBean"/>
   </Column>
   <Where>
     <And>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="runtimeAppName"
                   Table="weblogic_j2eeserver:application_names"/>
       <ColumnFrom Name="ApplicationRuntime"
                   Table="weblogic.management.runtime.WorkManagerRuntimeMBean"/>
      </Condition>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName"
                   Table="weblogic_j2eeserver:application_names"/>
       <ColumnFrom Name="ServerRuntime"
                   Table="weblogic.management.runtime.WorkManagerRuntimeMBean"/>
      </Condition>
     </And>
   </Where>
  </Select>

  <Select Name="work_manager_no_rate_result_2">
   <TableFrom Name="weblogic.management.runtime.WorkManagerRuntimeMBean" />
    <Column Name="name" Type="String">
      <ColumnFrom Name="Name"
                  Table="weblogic.management.runtime.WorkManagerRuntimeMBean"/>
    </Column>
    <!-- set null appName values to "server-level" (so we don't see null in metric palette) -->
    <Column Name="appName" Type="String">
       <Value>server-level</Value>
    </Column>
    <Column Name="serverName" Type="String">
      <ColumnFrom Name="ServerRuntime"
                  Table="weblogic.management.runtime.WorkManagerRuntimeMBean"/>
    </Column>
   <Column Name="wmProcessed.completed" Type="Long">
      <ColumnFrom Name="CompletedRequests"
                  Table="weblogic.management.runtime.WorkManagerRuntimeMBean"/>
   </Column>
   <Column Name="wmPending.active" Type="Long">
      <ColumnFrom Name="PendingRequests"
                  Table="weblogic.management.runtime.WorkManagerRuntimeMBean"/>
   </Column>
   <Column Name="wmStuck.active" Type="Long">
      <ColumnFrom Name="StuckThreadCount"
                  Table="weblogic.management.runtime.WorkManagerRuntimeMBean"/>
   </Column>
   <Where>
      <Condition Operator="EQ" Type="String">
         <ColumnFrom Name="ApplicationRuntime"
                     Table="weblogic.management.runtime.WorkManagerRuntimeMBean"/>
         <Null/>
      </Condition>
   </Where>
  </Select>
  <Union Name="work_manager_no_rate_result_3">
    <TableFrom Name="work_manager_no_rate_result_1" />
    <TableFrom Name="work_manager_no_rate_result_2" />
  </Union>
  <!-- ztrnovco 8/24/11 -->
  <Select Name="work_manager_no_rate_result">
    <TableFrom Name="work_manager_no_rate_result_3" />
    <Column Name="name" Type="String"/>
    <Column Name="appName" Type="String"/>
    <Column Name="serverName" Type="String"/>

    <Column Name="wmProcessed.completed" Type="Long">
      <Aggregation Operator="Sum" Name="wmProcessed.completed"/>
      <Default>0</Default>
    </Column>

    <Column Name="wmPending.active" Type="Long">
      <Aggregation Operator="Sum" Name="wmPending.active"/> 
      <Default>0</Default>
    </Column>

    <Column Name="wmStuck.active" Type="Long">
      <Aggregation Operator="Sum" Name="wmStuck.active"/>
      <Default>0</Default>
    </Column>

    <GroupBy Name="name"/>
    <GroupBy Name="appName"/>
    <GroupBy Name="serverName"/>
  </Select>  
 </Table> 


<!-- work_manager (published) -->
 <Table Name="work_manager">
  <ColumnDef Name="name" Type="String" Key="true"/>
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="wmProcessed.completed" Type="Long"/>
  <ColumnDef Name="wmProcessed.throughput" Type="Double"/>
  <ColumnDef Name="wmPending.active" Type="Long"/>
  <ColumnDef Name="wmStuck.active" Type="Long"/>
  <Select Name="work_manager_result_1">
   <TableFrom Name="weblogic_j2eeserver:work_manager_no_rate"/>
    <Column Name="name" Type="String"/>
    <Column Name="appName" Type="String"/>
    <Column Name="serverName" Type="String"/>
    <Column Name="wmProcessed.completed" Type="Long"/>
    <Column Name="wmProcessed.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="wmProcessed.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
   <Column Name="wmPending.active" Type="Long"/>
   <Column Name="wmStuck.active" Type="Long"/>
   <Where>
     <And>
      <Condition Operator="NE" Type="String">
       <ColumnFrom Name="name"/>
       <Null/>
      </Condition>
      <Condition Operator="NE" Type="String">
       <ColumnFrom Name="serverName"/>
       <Null/>
      </Condition>
     </And>
   </Where>
  </Select>
  <Select Name="work_manager_result">
   <TableFrom Name="work_manager_result_1"/>
    <Column Name="name" Type="String"/>
    <Column Name="appName" Type="String"/>
    <Column Name="serverName" Type="String"/>
    <Column Name="wmProcessed.completed" Type="Long"/>
    <Column Name="wmProcessed.throughput" Type="Double"/>
    <Column Name="wmPending.active" Type="Long"/>
    <Column Name="wmStuck.active" Type="Long"/>
    <Where>
     <And>
      <Or>
       <Condition Type="String" Operator="EQ">
        <ColumnFrom Name="name"/>
        <Value Name="name.parameter"/>
       </Condition>
       <Condition Type="String" Operator="EQ">
        <Value Name="name.parameter"
               xsi:nil="true"/>
        <Null/>
       </Condition>
      </Or>
      <Or>
       <Condition Type="String" Operator="EQ">
        <ColumnFrom Name="appName"/>
        <Value Name="appName.parameter"/>
       </Condition>
       <Condition Type="String" Operator="EQ">
        <Value Name="appName.parameter"
               xsi:nil="true"/>
        <Null/>
       </Condition>
      </Or>
      <Or>
       <Condition Type="String" Operator="EQ">
        <ColumnFrom Name="serverName"/>
        <Value Name="serverName.parameter"/>
       </Condition>
       <Condition Type="String" Operator="EQ">
        <Value Name="serverName.parameter"
               xsi:nil="true"/>
        <Null/>
       </Condition>
      </Or>
     </And>
    </Where>
  </Select>
 </Table> 


 <!-- server_work_manager (published) -->

 <Table Name="server_work_manager">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="wmProcessed.completed" Type="Long"/>
  <ColumnDef Name="wmProcessed.throughput" Type="Double"/>
  <ColumnDef Name="wmPending.active" Type="Long"/>
  <ColumnDef Name="wmStuck.active" Type="Long"/>
  <Select Name="server_work_manager_result_1">
   <TableFrom Name="weblogic_j2eeserver:work_manager"/>
    <Column Name="serverName" Type="String"/>
    <Column Name="wmProcessed.completed" Type="Long">
     <Aggregation Operator="Sum" Name="wmProcessed.completed" />
     <Default>0</Default>
    </Column>
    <Column Name="wmProcessed.throughput" Type="Double">
     <Aggregation Operator="Sum" Name="wmProcessed.throughput" />
     <Default>0</Default>
    </Column>
    <Column Name="wmPending.active" Type="Long">
     <Aggregation Operator="Sum" Name="wmPending.active" />
     <Default>0</Default>
    </Column>
    <Column Name="wmStuck.active" Type="Long">
     <Aggregation Operator="Sum" Name="wmStuck.active" />
     <Default>0</Default>
    </Column>
   <GroupBy Name="serverName"/>
  </Select>
  <Select Name="server_work_manager_result">
   <TableFrom Name="server_work_manager_result_1"/>
    <Column Name="serverName" Type="String"/>
    <Column Name="wmProcessed.completed" Type="Long" />
    <Column Name="wmProcessed.throughput" Type="Double" />
    <Column Name="wmPending.active" Type="Long" />
    <Column Name="wmStuck.active" Type="Long" />
    <Where>
     <Condition Operator="NE" Type="String">
      <ColumnFrom Name="serverName"/>
      <Null/>
     </Condition>
    </Where>
  </Select>
 </Table> 

 <!-- app_work_manager (published) -->
 <Table Name="app_work_manager">
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="wmProcessed.completed" Type="Long"/>
  <ColumnDef Name="wmProcessed.throughput" Type="Double"/>
  <ColumnDef Name="wmPending.active" Type="Long"/>
  <ColumnDef Name="wmStuck.active" Type="Long"/>
  <Select Name="app_work_manager_result_1">
   <TableFrom Name="weblogic_j2eeserver:work_manager"/>
    <Column Name="appName" Type="String"/>
    <Column Name="serverName" Type="String"/>
    <Column Name="wmProcessed.completed" Type="Long">
     <Aggregation Operator="Sum" Name="wmProcessed.completed" />
     <Default>0</Default>
    </Column>
    <Column Name="wmProcessed.throughput" Type="Double">
     <Aggregation Operator="Sum" Name="wmProcessed.throughput" />
     <Default>0</Default>
    </Column>
    <Column Name="wmPending.active" Type="Long">
     <Aggregation Operator="Sum" Name="wmPending.active" />
     <Default>0</Default>
    </Column>
    <Column Name="wmStuck.active" Type="Long">
     <Aggregation Operator="Sum" Name="wmStuck.active" />
     <Default>0</Default>
    </Column>
   <GroupBy Name="appName"/>
   <GroupBy Name="serverName"/>
  </Select>
  <Select Name="app_work_manager_result_2">
   <TableFrom Name="app_work_manager_result_1"/>
    <Column Name="appName" Type="String"/>
    <Column Name="serverName" Type="String"/>
    <Column Name="wmProcessed.completed" Type="Long" />
    <Column Name="wmProcessed.throughput" Type="Double" />
    <Column Name="wmPending.active" Type="Long" />
    <Column Name="wmStuck.active" Type="Long" />
    <Where>
     <And>
      <Condition Operator="NE" Type="String">
       <ColumnFrom Name="appName"/>
       <Null/>
      </Condition>
      <Condition Operator="NE" Type="String">
       <ColumnFrom Name="serverName"/>
       <Null/>
      </Condition>
    </And>
   </Where>
  </Select>
  <Select Name="app_work_manager_result">
   <TableFrom Name="app_work_manager_result_2"/>
    <Column Name="appName" Type="String"/>
    <Column Name="serverName" Type="String"/>
    <Column Name="wmProcessed.completed" Type="Long" />
    <Column Name="wmProcessed.throughput" Type="Double" />
    <Column Name="wmPending.active" Type="Long" />
    <Column Name="wmStuck.active" Type="Long" />
    <Where>
     <And>
      <Or>
       <Condition Type="String" Operator="EQ">
        <ColumnFrom Name="appName"/>
        <Value Name="appName.parameter"/>
       </Condition>
       <Condition Type="String" Operator="EQ">
        <Value Name="appName.parameter"
               xsi:nil="true"/>
        <Null/>
       </Condition>
      </Or>
      <Or>
       <Condition Type="String" Operator="EQ">
        <ColumnFrom Name="serverName"/>
        <Value Name="serverName.parameter"/>
       </Condition>
       <Condition Type="String" Operator="EQ">
        <Value Name="serverName.parameter"
               xsi:nil="true"/>
        <Null/>
       </Condition>
      </Or>
     </And>
    </Where>
  </Select>
 </Table> 

 <!-- jms (published) -->
 <Table Name="jms">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="connections.active" Type="Long"/>
  <ColumnDef Name="servers.active" Type="Long"/>
  <Select Name="jms_result">
   <TableFrom Name="weblogic.management.runtime.JMSRuntimeMBean"/>
    <Column Name="serverName" Type="String">
      <ColumnFrom Name="ServerRuntime"/>
    </Column>
   <Column Name="connections.active" Type="Long">
      <ColumnFrom Name="ConnectionsCurrentCount"/>
   </Column>
   <Column Name="servers.active" Type="Long">
      <ColumnFrom Name="JMSServersCurrentCount"/>
   </Column>
  </Select>
 </Table> 

 <!-- jms_server_no_rate (internal) -->
 <Table Name="jms_server_no_rate">
  <ColumnDef Name="name" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="bytesStored.active" Type="Long"/>
  <ColumnDef Name="bytesPageable.active" Type="Long"/>
  <ColumnDef Name="bytesPagedIn.completed" Type="Long"/>
  <ColumnDef Name="bytesPagedOut.completed" Type="Long"/>
  <ColumnDef Name="bytesPending.active" Type="Long"/>
  <ColumnDef Name="bytesReceived.completed" Type="Long"/>
  <ColumnDef Name="destinations.active" Type="Long"/>
  <ColumnDef Name="messagesStored.active" Type="Long"/>
  <ColumnDef Name="messagesPagedIn.completed" Type="Long"/>
  <ColumnDef Name="messagesPagedOut.completed" Type="Long"/>
  <ColumnDef Name="messagesPending.active" Type="Long"/>
  <ColumnDef Name="messagesReceived.completed" Type="Long"/>
  <ColumnDef Name="sessionPools.active" Type="Long"/>
  <Select Name="jms_server_no_rate_result">
   <TableFrom Name="weblogic.management.runtime.JMSServerRuntimeMBean"/>
    <Column Name="name" Type="String">
      <ColumnFrom Name="Name"/>
    </Column>
    <Column Name="serverName" Type="String">
      <ColumnFrom Name="ServerRuntime"/>
    </Column>
   <Column Name="bytesStored.active" Type="Long">
      <ColumnFrom Name="BytesCurrentCount"/>
   </Column>
   <Column Name="bytesPageable.active" Type="Long">
      <ColumnFrom Name="BytesPageableCurrentCount"/>
   </Column>
   <Column Name="bytesPagedIn.completed" Type="Long">
      <ColumnFrom Name="BytesPagedInTotalCount"/>
   </Column>
   <Column Name="bytesPagedOut.completed" Type="Long">
      <ColumnFrom Name="BytesPagedOutTotalCount"/>
   </Column>
   <Column Name="bytesPending.active" Type="Long">
      <ColumnFrom Name="BytesPendingCount"/>
   </Column>
   <Column Name="bytesReceived.completed" Type="Long">
      <ColumnFrom Name="BytesReceivedCount"/>
   </Column>
   <Column Name="destinations.active" Type="Long">
      <ColumnFrom Name="DestinationsCurrentCount"/>
   </Column>
   <Column Name="messagesStored.active" Type="Long">
      <ColumnFrom Name="MessagesCurrentCount"/>
   </Column>
   <Column Name="messagesPagedIn.completed" Type="Long">
      <ColumnFrom Name="MessagesPagedInTotalCount"/>
   </Column>
   <Column Name="messagesPagedOut.completed" Type="Long">
      <ColumnFrom Name="MessagesPagedOutTotalCount"/>
   </Column>
   <Column Name="messagesPending.active" Type="Long">
      <ColumnFrom Name="MessagesPendingCount"/>
   </Column>
   <Column Name="messagesReceived.completed" Type="Long">
      <ColumnFrom Name="MessagesReceivedCount"/>
   </Column>
   <Column Name="sessionPools.active" Type="Long">
      <ColumnFrom Name="SessionPoolsCurrentCount"/>
   </Column>
  </Select>
 </Table> 

 <!-- jms_server (published) -->
 <Table Name="jms_server">
  <ColumnDef Name="name" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="bytesStored.active" Type="Long"/>
  <ColumnDef Name="bytesPageable.active" Type="Long"/>
  <ColumnDef Name="bytesPagedIn.completed" Type="Long"/>
  <ColumnDef Name="bytesPagedIn.throughput" Type="Double"/>
  <ColumnDef Name="bytesPagedOut.completed" Type="Long"/>
  <ColumnDef Name="bytesPagedOut.throughput" Type="Double"/>
  <ColumnDef Name="bytesPending.active" Type="Long"/>
  <ColumnDef Name="bytesReceived.completed" Type="Long"/>
  <ColumnDef Name="bytesReceived.throughput" Type="Double"/>
  <ColumnDef Name="destinations.active" Type="Long"/>
  <ColumnDef Name="messagesStored.active" Type="Long"/>
  <ColumnDef Name="messagesPagedIn.completed" Type="Long"/>
  <ColumnDef Name="messagesPagedIn.throughput" Type="Double"/>
  <ColumnDef Name="messagesPagedOut.completed" Type="Long"/>
  <ColumnDef Name="messagesPagedOut.throughput" Type="Double"/>
  <ColumnDef Name="messagesPending.active" Type="Long"/>
  <ColumnDef Name="messagesReceived.completed" Type="Long"/>
  <ColumnDef Name="messagesReceived.throughput" Type="Double"/>
  <ColumnDef Name="sessionPools.active" Type="Long"/>
  <Select Name="jms_server_result">
   <TableFrom Name="weblogic_j2eeserver:jms_server_no_rate"/>
   <Column Name="name" Type="String"/>
   <Column Name="serverName" Type="String"/>
   <Column Name="bytesStored.active" Type="Long"/>
   <Column Name="bytesPageable.active" Type="Long"/>
   <Column Name="bytesPagedIn.completed" Type="Long"/>
   <Column Name="bytesPagedIn.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="bytesPagedIn.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
   </Column>
   <Column Name="bytesPagedOut.completed" Type="Long"/>
   <Column Name="bytesPagedOut.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="bytesPagedOut.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
   </Column>
   <Column Name="bytesPending.active" Type="Long"/>
   <Column Name="bytesReceived.completed" Type="Long"/>
   <Column Name="bytesReceived.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="bytesReceived.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
   </Column>
   <Column Name="destinations.active" Type="Long"/>
   <Column Name="messagesStored.active" Type="Long"/>
   <Column Name="messagesPagedIn.completed" Type="Long"/>
   <Column Name="messagesPagedIn.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="messagesPagedIn.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
   </Column>
   <Column Name="messagesPagedOut.completed" Type="Long"/>
   <Column Name="messagesPagedOut.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="messagesPagedOut.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
   </Column>
   <Column Name="messagesPending.active" Type="Long"/>
   <Column Name="messagesReceived.completed" Type="Long"/>
   <Column Name="messagesReceived.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="messagesReceived.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
   </Column>
   <Column Name="sessionPools.active" Type="Long"/>
   <Where>
     <And>
      <Or>
       <Condition Type="String" Operator="EQ">
        <ColumnFrom Name="name"/>
        <Value Name="name.parameter"/>
       </Condition>
       <Condition Type="String" Operator="EQ">
        <Value Name="name.parameter"
               xsi:nil="true"/>
        <Null/>
       </Condition>
      </Or>
      <Or>
       <Condition Type="String" Operator="EQ">
        <ColumnFrom Name="serverName"/>
        <Value Name="serverName.parameter"/>
       </Condition>
       <Condition Type="String" Operator="EQ">
        <Value Name="serverName.parameter"
               xsi:nil="true"/>
        <Null/>
       </Condition>
      </Or>
     </And>
   </Where>
  </Select>
 </Table> 

 <!-- server_overview (Published) -->
 <Table Name="server_overview">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="service.totalTime" Type="Long"/>
  <ColumnDef Name="service.completed" Type="Long"/>
  <ColumnDef Name="service.time" Type="Double"/>
  <ColumnDef Name="service.throughput" Type="Double"/>
  <ColumnDef Name="ejbCacheActivation.completed" Type="Long"/>
  <ColumnDef Name="ejbCacheActivation.throughput" Type="Double"/>
  <ColumnDef Name="ejbCacheAccess.completed" Type="Long"/>
  <ColumnDef Name="ejbCacheAccess.throughput" Type="Double"/>
  <ColumnDef Name="ejbCache.active" Type="Long"/>
  <ColumnDef Name="ejbCacheMiss.completed" Type="Long"/>
  <ColumnDef Name="ejbCacheMiss.throughput" Type="Double"/>
  <ColumnDef Name="ejbCacheHit.percentage" Type="Double"/>
  <ColumnDef Name="ejbPoolAccess.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolAccess.throughput" Type="Double"/>
  <ColumnDef Name="ejbPoolUsed.active" Type="Long"/>
  <ColumnDef Name="ejbPoolDestroy.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolDestroy.throughput" Type="Double"/>
  <ColumnDef Name="ejbPoolFailed.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolAccessSuccess.percentage" Type="Double"/>
  <ColumnDef Name="ejbPoolFailed.throughput" Type="Double"/>
  <ColumnDef Name="ejbPoolAvailable.active" Type="Long"/>
  <ColumnDef Name="ejbTransactionCommit.completed" Type="Long"/>
  <ColumnDef Name="ejbTransactionCommit.throughput" Type="Double"/>
  <ColumnDef Name="ejbTransactionRollback.completed" Type="Long"/>
  <ColumnDef Name="ejbTransactionRollback.throughput" Type="Double"/>
  <ColumnDef Name="ejbTransactionTimeout.completed" Type="Long"/>
  <ColumnDef Name="ejbTransactionTimeout.throughput" Type="Double"/>
  <ColumnDef Name="ejbTransactionCommit.percentage" Type="Double"/>
  <ColumnDef Name="mdbMessage.completed" Type="Long"/>
  <ColumnDef Name="mdbMessage.throughput" Type="Double"/>
  <ColumnDef Name="session.active" Type="Long"/>
  <ColumnDef Name="connectionInUse.active" Type="Long"/>
  <ColumnDef Name="connectionCreated.throughput" Type="Double"/>
  <ColumnDef Name="jtaTransactions.active" Type="Long"/>
  <ColumnDef Name="jtaTransactionCommit.throughput" Type="Double"/>
  <ColumnDef Name="jtaTransactionRollback.throughput" Type="Double"/>
  <ColumnDef Name="wmProcessed.throughput" Type="Double"/>
  <ColumnDef Name="wmPending.active" Type="Long"/>
  <ColumnDef Name="servers.active" Type="Long"/>
  <ColumnDef Name="messagesStored.active" Type="Long"/>
  <ColumnDef Name="messagesPending.active" Type="Long"/>
  <!-- server_overview_result_1 contains values from server_servlet_jsp_no_rate and server_session tables -->
  <Select Name="server_overview_result_1">
   <TableFrom Name="weblogic_j2eeserver:server_servlet_jsp_no_rate"/>
   <TableFrom Name="weblogic_j2eeserver:server_session"/>
    <Column Name="serverName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="serverName" Table="weblogic_j2eeserver:server_servlet_jsp_no_rate"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="serverName" Table="weblogic_j2eeserver:server_servlet_jsp_no_rate"/>
     </Then>
     <Else>
      <ColumnFrom Name="serverName" Table="weblogic_j2eeserver:server_session"/>
     </Else>
     </If>
    </Column>
    <Column Name="service.totalTime" Type="Long">
      <ColumnFrom Name="service.totalTime" Table="weblogic_j2eeserver:server_servlet_jsp_no_rate"/>
    </Column>
    <Column Name="service.completed" Type="Long">
      <ColumnFrom Name="service.completed" Table="weblogic_j2eeserver:server_servlet_jsp_no_rate"/>
    </Column>
    <Column Name="service.time" Type="Double">
     <Rate Interval="300000">
      <ColumnFrom Name="service.totalTime" Table="weblogic_j2eeserver:server_servlet_jsp_no_rate"/>
      <ColumnFrom Name="service.completed" Table="weblogic_j2eeserver:server_servlet_jsp_no_rate"/>
      <Default>0</Default>
     </Rate>
    </Column>
    <Column Name="service.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="service.completed" Table="weblogic_j2eeserver:server_servlet_jsp_no_rate"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="session.active" Type="Long">
      <ColumnFrom Name="session.active" Table="weblogic_j2eeserver:server_session"/>
    </Column>
    <Where>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName"
                   Table="weblogic_j2eeserver:server_servlet_jsp_no_rate"/>
       <ColumnFrom Name="serverName"
                   Table="weblogic_j2eeserver:server_session"/>
      </Condition>
    </Where>
  </Select>

  <!--  Create internal table server_overview_ejb_result_1 which will contain values from
        server_ejb_no_rate, including throughput and "previous" values that server_overview_ejb_result
        will use to compute delta and percentage values  -->
  <Select Name="server_overview_ejb_result_1">
    <TableFrom Name="weblogic_j2eeserver:server_ejb_no_rate" />
    <Column Name="serverName" Type="String"/>
    <Column Name="ejbCacheActivation.completed" Type="Long"/>
    <Column Name="ejbCacheActivation.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="ejbCacheActivation.completed" />
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="ejbCacheAccess.completed" Type="Long"/>
    <Column Name="ejbCacheAccess.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="ejbCacheAccess.completed" />
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="ejbCacheAccess.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
      <ColumnFrom Name="ejbCacheAccess.completed"/> 
      <Default>0</Default>
     </Previous>
    </Column>
    <Column Name="ejbCache.active" Type="Long"/>
    <Column Name="ejbCacheMiss.completed" Type="Long"/>
    <Column Name="ejbCacheMiss.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="ejbCacheMiss.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="ejbCacheMiss.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
      <ColumnFrom Name="ejbCacheMiss.completed"/> 
      <Default>0</Default>
     </Previous>
    </Column>
    <Column Name="ejbPoolAccess.completed" Type="Long"/>
    <Column Name="ejbPoolAccess.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
      <ColumnFrom Name="ejbPoolAccess.completed"/> 
      <Default>0</Default>
     </Previous>
    </Column>
    <Column Name="ejbPoolAccess.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="ejbPoolAccess.completed" />
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="ejbPoolUsed.active" Type="Long"/>
    <Column Name="ejbPoolDestroy.completed" Type="Long"/>
    <Column Name="ejbPoolDestroy.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="ejbPoolDestroy.completed" />
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="ejbPoolFailed.completed" Type="Long"/>
    <Column Name="ejbPoolFailed.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
        <ColumnFrom Name="ejbPoolFailed.completed"/>
      <Default>0</Default>
     </Previous>
    </Column>
    <Column Name="ejbPoolFailed.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="ejbPoolFailed.completed" />
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="ejbPoolAvailable.active" Type="Long"/>
    <Column Name="ejbTransactionCommit.completed" Type="Long"/>
    <Column Name="ejbTransactionCommit.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="ejbTransactionCommit.completed" />
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="ejbTransactionCommit.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
        <ColumnFrom Name="ejbTransactionCommit.completed"/>
      <Default>0</Default>
     </Previous>
    </Column>
    <Column Name="ejbTransactionRollback.completed" Type="Long"/>
    <Column Name="ejbTransactionRollback.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="ejbTransactionRollback.completed" />
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="ejbTransactionRollback.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
        <ColumnFrom Name="ejbTransactionRollback.completed"/>
      <Default>0</Default>
     </Previous>
    </Column>
    <Column Name="ejbTransactionTimeout.completed" Type="Long"/>
    <Column Name="ejbTransactionTimeout.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="ejbTransactionTimeout.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="ejbTransactionTimeout.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
        <ColumnFrom Name="ejbTransactionTimeout.completed"/>
      <Default>0</Default>
     </Previous>
    </Column>
  </Select>

  <!-- Create internal table server_overview_ejb_result containing values from server_overview_ejb_result_1, including
       delta and percentage values -->
  <Select Name="server_overview_ejb_result">
    <TableFrom Name="server_overview_ejb_result_1" />
    <Column Name="serverName" Type="String"/>
    <Column Name="ejbCacheActivation.completed" Type="Long"/>
    <Column Name="ejbCacheActivation.throughput" Type="Double"/>
    <Column Name="ejbCacheAccess.completed" Type="Long"/>
    <Column Name="ejbCacheAccess.throughput" Type="Double"/>
    <Column Name="cacheAccess.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="ejbCacheAccess.completed.previous" />
       <ColumnFrom Name="ejbCacheAccess.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="ejbCacheAccess.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="ejbCacheAccess.completed" />
        <ColumnFrom Name="ejbCacheAccess.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="ejbCache.active" Type="Long"/>
    <Column Name="ejbCacheMiss.completed" Type="Long"/>
    <Column Name="ejbCacheMiss.throughput" Type="Double"/>
    <Column Name="cacheMiss.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="ejbCacheMiss.completed.previous" />
       <ColumnFrom Name="ejbCacheMiss.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="ejbCacheMiss.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="ejbCacheMiss.completed" />
        <ColumnFrom Name="ejbCacheMiss.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="ejbCacheHit.percentage" Type="Double">
     <Expression Operator="Div">
      <Expression Operator="Mult">
       <Expression Operator="Minus">
        <ColumnFrom Name="cacheAccess.deltaCompleted"/>
        <ColumnFrom Name="cacheMiss.deltaCompleted"/>
       </Expression>
       <Value>100.0</Value>
      </Expression>
      <ColumnFrom Name="cacheAccess.deltaCompleted"/>
     </Expression>
     <Default>0</Default>
    </Column>
    <Column Name="ejbPoolAccess.completed" Type="Long"/>
    <Column Name="poolAccess.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="ejbPoolAccess.completed.previous" />
       <ColumnFrom Name="ejbPoolAccess.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="ejbPoolAccess.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="ejbPoolAccess.completed" />
        <ColumnFrom Name="ejbPoolAccess.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="poolFailed.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="ejbPoolFailed.completed.previous" />
       <ColumnFrom Name="ejbPoolFailed.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="ejbPoolFailed.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="ejbPoolFailed.completed" />
        <ColumnFrom Name="ejbPoolFailed.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="ejbPoolAccessSuccess.percentage" Type="Double">
     <Expression Operator="Div">
      <Expression Operator="Mult">
       <Expression Operator="Minus">
        <ColumnFrom Name="poolAccess.deltaCompleted"/>
        <ColumnFrom Name="poolFailed.deltaCompleted"/>
       </Expression>
       <Value>100.0</Value>
      </Expression>
      <ColumnFrom Name="poolAccess.deltaCompleted"/>
     </Expression>
     <Default>0</Default>
    </Column>
    <Column Name="ejbPoolAccess.throughput" Type="Double"/>
    <Column Name="ejbPoolUsed.active" Type="Long"/>
    <Column Name="ejbPoolDestroy.completed" Type="Long"/>
    <Column Name="ejbPoolDestroy.throughput" Type="Double"/>
    <Column Name="ejbPoolFailed.completed" Type="Long"/>
    <Column Name="ejbPoolFailed.throughput" Type="Double"/>
    <Column Name="ejbPoolAvailable.active" Type="Long"/>
    <Column Name="ejbTransactionCommit.completed" Type="Long"/>
    <Column Name="ejbTransactionCommit.throughput" Type="Double"/>
    <Column Name="transactionCommit.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="ejbTransactionCommit.completed.previous" />
       <ColumnFrom Name="ejbTransactionCommit.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="ejbTransactionCommit.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="ejbTransactionCommit.completed" />
        <ColumnFrom Name="ejbTransactionCommit.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="ejbTransactionRollback.completed" Type="Long"/>
    <Column Name="ejbTransactionRollback.throughput" Type="Double"/>
    <Column Name="transactionRollback.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="ejbTransactionRollback.completed.previous" />
       <ColumnFrom Name="ejbTransactionRollback.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="ejbTransactionRollback.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="ejbTransactionRollback.completed" />
        <ColumnFrom Name="ejbTransactionRollback.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="ejbTransactionTimeout.completed" Type="Long"/>
    <Column Name="ejbTransactionTimeout.throughput" Type="Double"/>
    <Column Name="transactionTimeout.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="ejbTransactionTimeout.completed.previous" />
       <ColumnFrom Name="ejbTransactionTimeout.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="ejbTransactionTimeout.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="ejbTransactionTimeout.completed" />
        <ColumnFrom Name="ejbTransactionTimeout.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="ejbTransactionCommit.percentage" Type="Double">
     <Expression Operator="Div">
      <Expression Operator="Mult">
       <ColumnFrom Name="transactionCommit.deltaCompleted"/>
       <Value>100.0</Value>
      </Expression>
      <Expression Operator="Plus">
       <Expression Operator="Plus">
        <ColumnFrom Name="transactionCommit.deltaCompleted"/>
        <ColumnFrom Name="transactionRollback.deltaCompleted"/>
       </Expression>
       <ColumnFrom Name="transactionTimeout.deltaCompleted"/>
      </Expression>
     </Expression>
     <Default>0</Default>
    </Column>
  </Select>

  <!-- server_overview_result_2 contains values from server_overview_ejb_result and server_mdb_no_rate tables -->
  <Select Name="server_overview_result_2">
    <TableFrom Name="server_overview_ejb_result" OuterJoined="true"/>
    <TableFrom Name="weblogic_j2eeserver:server_mdb_no_rate" OuterJoined="true" />
    <Column Name="serverName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="serverName" Table="server_overview_ejb_result"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="serverName" Table="server_overview_ejb_result"/>
     </Then>
     <Else>
      <ColumnFrom Name="serverName" Table="weblogic_j2eeserver:server_mdb_no_rate"/>
     </Else>
     </If>
    </Column>
    <Column Name="ejbCacheActivation.completed" Type="Long">
      <ColumnFrom Name="ejbCacheActivation.completed" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="ejbCacheActivation.throughput" Type="Double">
      <ColumnFrom Name="ejbCacheActivation.throughput" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="ejbCacheAccess.completed" Type="Long">
      <ColumnFrom Name="ejbCacheAccess.completed" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="ejbCacheAccess.throughput" Type="Double">
      <ColumnFrom Name="ejbCacheAccess.throughput" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="ejbCache.active" Type="Long">
      <ColumnFrom Name="ejbCache.active" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="ejbCacheMiss.completed" Type="Long">
      <ColumnFrom Name="ejbCacheMiss.completed" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="ejbCacheMiss.throughput" Type="Double">
      <ColumnFrom Name="ejbCacheMiss.throughput" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="ejbCacheHit.percentage " Type="Double">
      <ColumnFrom Name="ejbCacheHit.percentage" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="ejbPoolAccess.completed" Type="Long">
      <ColumnFrom Name="ejbPoolAccess.completed" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="ejbPoolAccess.throughput" Type="Double">
      <ColumnFrom Name="ejbPoolAccess.throughput" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="ejbPoolAccessSuccess.percentage" Type="Double">
      <ColumnFrom Name="ejbPoolAccessSuccess.percentage" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="ejbPoolUsed.active" Type="Long">
      <ColumnFrom Name="ejbPoolUsed.active" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="ejbPoolDestroy.completed" Type="Long">
      <ColumnFrom Name="ejbPoolDestroy.completed" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="ejbPoolDestroy.throughput" Type="Double">
      <ColumnFrom Name="ejbPoolDestroy.throughput" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="ejbPoolFailed.completed" Type="Long">
      <ColumnFrom Name="ejbPoolFailed.completed" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="ejbPoolFailed.throughput" Type="Double">
      <ColumnFrom Name="ejbPoolFailed.throughput" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="ejbPoolAvailable.active" Type="Long">
      <ColumnFrom Name="ejbPoolAvailable.active" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="ejbTransactionCommit.completed" Type="Long">
      <ColumnFrom Name="ejbTransactionCommit.completed" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="ejbTransactionCommit.throughput" Type="Double">
      <ColumnFrom Name="ejbTransactionCommit.throughput" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="ejbTransactionRollback.completed" Type="Long">
      <ColumnFrom Name="ejbTransactionRollback.completed" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="ejbTransactionRollback.throughput" Type="Double">
      <ColumnFrom Name="ejbTransactionRollback.throughput" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="ejbTransactionTimeout.completed" Type="Long">
      <ColumnFrom Name="ejbTransactionTimeout.completed" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="ejbTransactionTimeout.throughput" Type="Double">
      <ColumnFrom Name="ejbTransactionTimeout.throughput" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="ejbTransactionCommit.percentage" Type="Double">
      <ColumnFrom Name="ejbTransactionCommit.percentage" Table="server_overview_ejb_result"/>
    </Column>
    <Column Name="mdbMessage.completed" Type="Long">
       <ColumnFrom Name="mdbMessage.completed" Table="weblogic_j2eeserver:server_mdb_no_rate"/>
    </Column>
    <Column Name="mdbMessage.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="mdbMessage.completed" Table="weblogic_j2eeserver:server_mdb_no_rate"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Where>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName"
                   Table="server_overview_ejb_result"/>
       <ColumnFrom Name="serverName"
                   Table="weblogic_j2eeserver:server_mdb_no_rate"/>
      </Condition>
    </Where>
  </Select>

  <!-- server_overview_result_3 contains values joined from server_overview_result_1 and server_overview_result_2 -->
  <Select Name="server_overview_result_3">
    <TableFrom Name="server_overview_result_1" OuterJoined="true"/>
    <TableFrom Name="server_overview_result_2" OuterJoined="true"/>
    <Column Name="serverName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="serverName" Table="server_overview_result_1"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="serverName" Table="server_overview_result_1"/>
     </Then>
     <Else>
      <ColumnFrom Name="serverName" Table="server_overview_result_2"/>
     </Else>
     </If>
    </Column>
    <Column Name="service.totalTime" Type="Long">
      <ColumnFrom Name="service.totalTime" Table="server_overview_result_1"/>
    </Column>
    <Column Name="service.completed" Type="Long">
      <ColumnFrom Name="service.completed" Table="server_overview_result_1"/>
    </Column>
    <Column Name="service.time" Type="Double">
      <ColumnFrom Name="service.time" Table="server_overview_result_1"/>
    </Column>
    <Column Name="service.throughput" Type="Double">
      <ColumnFrom Name="service.throughput" Table="server_overview_result_1"/>
    </Column>
    <Column Name="session.active" Type="Long">
      <ColumnFrom Name="session.active" Table="server_overview_result_1"/>
    </Column>
    <Column Name="ejbCacheActivation.completed" Type="Long">
      <ColumnFrom Name="ejbCacheActivation.completed" Table="server_overview_result_2"/>
    </Column>
    <Column Name="ejbCacheActivation.throughput" Type="Double">
      <ColumnFrom Name="ejbCacheActivation.throughput" Table="server_overview_result_2"/>
    </Column>
    <Column Name="ejbCacheAccess.completed" Type="Long">
      <ColumnFrom Name="ejbCacheAccess.completed" Table="server_overview_result_2"/>
    </Column>
    <Column Name="ejbCacheAccess.throughput" Type="Double">
      <ColumnFrom Name="ejbCacheAccess.throughput" Table="server_overview_result_2"/>
    </Column>
    <Column Name="ejbCache.active" Type="Long">
      <ColumnFrom Name="ejbCache.active" Table="server_overview_result_2"/>
    </Column>
    <Column Name="ejbCacheMiss.completed" Type="Long">
      <ColumnFrom Name="ejbCacheMiss.completed" Table="server_overview_result_2"/>
    </Column>
    <Column Name="ejbCacheMiss.throughput" Type="Double">
      <ColumnFrom Name="ejbCacheMiss.throughput" Table="server_overview_result_2"/>
    </Column>
    <Column Name="ejbCacheHit.percentage " Type="Double">
      <ColumnFrom Name="ejbCacheHit.percentage" Table="server_overview_result_2"/>
    </Column>
    <Column Name="ejbPoolAccess.completed" Type="Long">
      <ColumnFrom Name="ejbPoolAccess.completed" Table="server_overview_result_2"/>
    </Column>
    <Column Name="ejbPoolAccess.throughput" Type="Double">
      <ColumnFrom Name="ejbPoolAccess.throughput" Table="server_overview_result_2"/>
    </Column>
    <Column Name="ejbPoolAccessSuccess.percentage" Type="Double">
      <ColumnFrom Name="ejbPoolAccessSuccess.percentage" Table="server_overview_result_2"/>
    </Column>
    <Column Name="ejbPoolUsed.active" Type="Long">
      <ColumnFrom Name="ejbPoolUsed.active" Table="server_overview_result_2"/>
    </Column>
    <Column Name="ejbPoolDestroy.completed" Type="Long">
      <ColumnFrom Name="ejbPoolDestroy.completed" Table="server_overview_result_2"/>
    </Column>
    <Column Name="ejbPoolDestroy.throughput" Type="Double">
      <ColumnFrom Name="ejbPoolDestroy.throughput" Table="server_overview_result_2"/>
    </Column>
    <Column Name="ejbPoolFailed.completed" Type="Long">
      <ColumnFrom Name="ejbPoolFailed.completed" Table="server_overview_result_2"/>
    </Column>
    <Column Name="ejbPoolFailed.throughput" Type="Double">
      <ColumnFrom Name="ejbPoolFailed.throughput" Table="server_overview_result_2"/>
    </Column>
    <Column Name="ejbPoolAvailable.active" Type="Long">
      <ColumnFrom Name="ejbPoolAvailable.active" Table="server_overview_result_2"/>
    </Column>
    <Column Name="ejbTransactionCommit.completed" Type="Long">
      <ColumnFrom Name="ejbTransactionCommit.completed" Table="server_overview_result_2"/>
    </Column>
    <Column Name="ejbTransactionCommit.throughput" Type="Double">
      <ColumnFrom Name="ejbTransactionCommit.throughput" Table="server_overview_result_2"/>
    </Column>
    <Column Name="ejbTransactionRollback.completed" Type="Long">
      <ColumnFrom Name="ejbTransactionRollback.completed" Table="server_overview_result_2"/>
    </Column>
    <Column Name="ejbTransactionRollback.throughput" Type="Double">
      <ColumnFrom Name="ejbTransactionRollback.throughput" Table="server_overview_result_2"/>
    </Column>
    <Column Name="ejbTransactionTimeout.completed" Type="Long">
      <ColumnFrom Name="ejbTransactionTimeout.completed" Table="server_overview_result_2"/>
    </Column>
    <Column Name="ejbTransactionTimeout.throughput" Type="Double">
      <ColumnFrom Name="ejbTransactionTimeout.throughput" Table="server_overview_result_2"/>
    </Column>
    <Column Name="ejbTransactionCommit.percentage" Type="Double">
      <ColumnFrom Name="ejbTransactionCommit.percentage" Table="server_overview_result_2"/>
    </Column>
    <Column Name="mdbMessage.completed" Type="Long">
      <ColumnFrom Name="mdbMessage.completed" Table="server_overview_result_2"/>
    </Column>
    <Column Name="mdbMessage.throughput" Type="Double">
      <ColumnFrom Name="mdbMessage.throughput" Table="server_overview_result_2"/>
    </Column>
    <Where>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName"
                   Table="server_overview_result_1"/>
       <ColumnFrom Name="serverName"
                   Table="server_overview_result_2"/>
      </Condition>
    </Where>
  </Select>  

  <!-- server_overview_result_4 contains values from server_datasource and jta tables -->
  <Select Name="server_overview_result_4">
   <TableFrom Name="weblogic_j2eeserver:server_datasource" OuterJoined="true"/>
   <TableFrom Name="weblogic_j2eeserver:jta"  OuterJoined="true"/>
    <Column Name="serverName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="serverName" Table="weblogic_j2eeserver:server_datasource"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="serverName" Table="weblogic_j2eeserver:server_datasource"/>
     </Then>
     <Else>
      <ColumnFrom Name="serverName" Table="weblogic_j2eeserver:jta"/>
     </Else>
     </If>
    </Column>
    <Column Name="connectionInUse.active" Type="Long">
      <ColumnFrom Name="connectionInUse.active" Table="weblogic_j2eeserver:server_datasource"/>
    </Column>
    <Column Name="connectionCreated.throughput" Type="Double">
       <ColumnFrom Name="connectionCreated.throughput" Table="weblogic_j2eeserver:server_datasource"/>
    </Column>
    <Column Name="jtaTransactions.active" Type="Long">
      <ColumnFrom Name="jtaTransactions.active" Table="weblogic_j2eeserver:jta"/>
    </Column>
    <Column Name="jtaTransactionCommit.throughput" Type="Double">
      <ColumnFrom Name="jtaTransactionCommit.throughput" Table="weblogic_j2eeserver:jta"/>
    </Column>
    <Column Name="jtaTransactionRollback.throughput" Type="Double">
      <ColumnFrom Name="jtaTransactionRollback.throughput" Table="weblogic_j2eeserver:jta"/>
    </Column>
    <Where>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName"
                   Table="weblogic_j2eeserver:server_datasource"/>
       <ColumnFrom Name="serverName"
                   Table="weblogic_j2eeserver:jta"/>
      </Condition>
    </Where>
  </Select>

  <!-- server_overview_result_5 contains values from server_work_manager and jms tables -->
  <Select Name="server_overview_result_5">
   <TableFrom Name="weblogic_j2eeserver:server_work_manager" OuterJoined="true" />
   <TableFrom Name="weblogic_j2eeserver:jms" OuterJoined="true" />
    <Column Name="serverName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="serverName" Table="weblogic_j2eeserver:server_work_manager"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="serverName" Table="weblogic_j2eeserver:server_work_manager"/>
     </Then>
     <Else>
      <ColumnFrom Name="serverName" Table="weblogic_j2eeserver:jms"/>
     </Else>
     </If>
    </Column>
    <Column Name="wmProcessed.throughput" Type="Double">
      <ColumnFrom Name="wmProcessed.throughput" Table="weblogic_j2eeserver:server_work_manager"/>
    </Column>
    <Column Name="wmPending.active" Type="Long">
      <ColumnFrom Name="wmPending.active" Table="weblogic_j2eeserver:server_work_manager"/>
    </Column>
    <Column Name="servers.active" Type="Long">
      <ColumnFrom Name="servers.active" Table="weblogic_j2eeserver:jms"/>
    </Column>
    <Where>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName"
                   Table="weblogic_j2eeserver:server_work_manager"/>
       <ColumnFrom Name="serverName"
                   Table="weblogic_j2eeserver:jms"/>
      </Condition>
    </Where>
  </Select>

  <!-- server_overview_result_6 contains values joined from server_overview_result_4 and server_overview_result_5 -->
  <Select Name="server_overview_result_6">
    <TableFrom Name="server_overview_result_4" OuterJoined="true"/>
    <TableFrom Name="server_overview_result_5" OuterJoined="true"/>
    <Column Name="serverName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="serverName" Table="server_overview_result_4"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="serverName" Table="server_overview_result_4"/>
     </Then>
     <Else>
      <ColumnFrom Name="serverName" Table="server_overview_result_5"/>
     </Else>
     </If>
    </Column>
    <Column Name="connectionInUse.active" Type="Long">
      <ColumnFrom Name="connectionInUse.active" Table="server_overview_result_4"/>
    </Column>
    <Column Name="connectionCreated.throughput" Type="Double">
      <ColumnFrom Name="connectionCreated.throughput" Table="server_overview_result_4"/>
    </Column>
    <Column Name="jtaTransactions.active" Type="Long">
      <ColumnFrom Name="jtaTransactions.active" Table="server_overview_result_4"/>
    </Column>
    <Column Name="jtaTransactionCommit.throughput" Type="Double">
      <ColumnFrom Name="jtaTransactionCommit.throughput" Table="server_overview_result_4"/>
    </Column>
    <Column Name="jtaTransactionRollback.throughput" Type="Double">
      <ColumnFrom Name="jtaTransactionRollback.throughput" Table="server_overview_result_4"/>
    </Column>
    <Column Name="wmProcessed.throughput" Type="Double">
      <ColumnFrom Name="wmProcessed.throughput" Table="server_overview_result_5"/>
    </Column>
    <Column Name="wmPending.active" Type="Long">
      <ColumnFrom Name="wmPending.active" Table="server_overview_result_5"/>
    </Column>
    <Column Name="servers.active" Type="Long">
      <ColumnFrom Name="servers.active" Table="server_overview_result_5"/>
    </Column>
    <Where>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName"
                   Table="server_overview_result_4"/>
       <ColumnFrom Name="serverName"
                   Table="server_overview_result_5"/>
      </Condition>
    </Where>
  </Select>  

  <!-- server_overview_result_7 contains values joined from server_overview_result_3 and server_overview_result_6 -->
  <Select Name="server_overview_result_7">
    <TableFrom Name="server_overview_result_3" OuterJoined="true"/>
    <TableFrom Name="server_overview_result_6" OuterJoined="true"/>
    <Column Name="serverName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="serverName" Table="server_overview_result_3"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="serverName" Table="server_overview_result_3"/>
     </Then>
     <Else>
      <ColumnFrom Name="serverName" Table="server_overview_result_6"/>
     </Else>
     </If>
    </Column>
    <Column Name="service.totalTime" Type="Long">
      <ColumnFrom Name="service.totalTime" Table="server_overview_result_3"/>
    </Column>
    <Column Name="service.completed" Type="Long">
      <ColumnFrom Name="service.completed" Table="server_overview_result_3"/>
    </Column>
    <Column Name="service.time" Type="Double">
      <ColumnFrom Name="service.time" Table="server_overview_result_3"/>
    </Column>
    <Column Name="service.throughput" Type="Double">
      <ColumnFrom Name="service.throughput" Table="server_overview_result_3"/>
    </Column>
    <Column Name="session.active" Type="Long">
      <ColumnFrom Name="session.active" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbCacheActivation.completed" Type="Long">
      <ColumnFrom Name="ejbCacheActivation.completed" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbCacheActivation.throughput" Type="Double">
      <ColumnFrom Name="ejbCacheActivation.throughput" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbCacheAccess.completed" Type="Long">
      <ColumnFrom Name="ejbCacheAccess.completed" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbCacheAccess.throughput" Type="Double">
      <ColumnFrom Name="ejbCacheAccess.throughput" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbCache.active" Type="Long">
      <ColumnFrom Name="ejbCache.active" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbCacheMiss.completed" Type="Long">
      <ColumnFrom Name="ejbCacheMiss.completed" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbCacheMiss.throughput" Type="Double">
      <ColumnFrom Name="ejbCacheMiss.throughput" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbCacheHit.percentage " Type="Double">
      <ColumnFrom Name="ejbCacheHit.percentage" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbPoolAccess.completed" Type="Long">
      <ColumnFrom Name="ejbPoolAccess.completed" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbPoolAccess.throughput" Type="Double">
      <ColumnFrom Name="ejbPoolAccess.throughput" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbPoolAccessSuccess.percentage" Type="Double">
      <ColumnFrom Name="ejbPoolAccessSuccess.percentage" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbPoolUsed.active" Type="Long">
      <ColumnFrom Name="ejbPoolUsed.active" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbPoolDestroy.completed" Type="Long">
      <ColumnFrom Name="ejbPoolDestroy.completed" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbPoolDestroy.throughput" Type="Double">
      <ColumnFrom Name="ejbPoolDestroy.throughput" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbPoolFailed.completed" Type="Long">
      <ColumnFrom Name="ejbPoolFailed.completed" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbPoolFailed.throughput" Type="Double">
      <ColumnFrom Name="ejbPoolFailed.throughput" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbPoolAvailable.active" Type="Long">
      <ColumnFrom Name="ejbPoolAvailable.active" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbTransactionCommit.completed" Type="Long">
      <ColumnFrom Name="ejbTransactionCommit.completed" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbTransactionCommit.throughput" Type="Double">
      <ColumnFrom Name="ejbTransactionCommit.throughput" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbTransactionRollback.completed" Type="Long">
      <ColumnFrom Name="ejbTransactionRollback.completed" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbTransactionRollback.throughput" Type="Double">
      <ColumnFrom Name="ejbTransactionRollback.throughput" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbTransactionTimeout.completed" Type="Long">
      <ColumnFrom Name="ejbTransactionTimeout.completed" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbTransactionTimeout.throughput" Type="Double">
      <ColumnFrom Name="ejbTransactionTimeout.throughput" Table="server_overview_result_3"/>
    </Column>
    <Column Name="ejbTransactionCommit.percentage" Type="Double">
      <ColumnFrom Name="ejbTransactionCommit.percentage" Table="server_overview_result_3"/>
    </Column>
    <Column Name="mdbMessage.completed" Type="Long">
      <ColumnFrom Name="mdbMessage.completed" Table="server_overview_result_3"/>
    </Column>
    <Column Name="mdbMessage.throughput" Type="Double">
      <ColumnFrom Name="mdbMessage.throughput" Table="server_overview_result_3"/>
    </Column>
    <Column Name="connectionInUse.active" Type="Long">
      <ColumnFrom Name="connectionInUse.active" Table="server_overview_result_6"/>
    </Column>
    <Column Name="connectionCreated.throughput" Type="Double">
      <ColumnFrom Name="connectionCreated.throughput" Table="server_overview_result_6"/>
    </Column>
    <Column Name="jtaTransactions.active" Type="Long">
      <ColumnFrom Name="jtaTransactions.active" Table="server_overview_result_6"/>
    </Column>
    <Column Name="jtaTransactionCommit.throughput" Type="Double">
      <ColumnFrom Name="jtaTransactionCommit.throughput" Table="server_overview_result_6"/>
    </Column>
    <Column Name="jtaTransactionRollback.throughput" Type="Double">
      <ColumnFrom Name="jtaTransactionRollback.throughput" Table="server_overview_result_6"/>
    </Column>
    <Column Name="wmProcessed.throughput" Type="Double">
      <ColumnFrom Name="wmProcessed.throughput" Table="server_overview_result_6"/>
    </Column>
    <Column Name="wmPending.active" Type="Long">
      <ColumnFrom Name="wmPending.active" Table="server_overview_result_6"/>
    </Column>
    <Column Name="servers.active" Type="Long">
      <ColumnFrom Name="servers.active" Table="server_overview_result_6"/>
    </Column>
    <Where>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName"
                   Table="server_overview_result_3"/>
       <ColumnFrom Name="serverName"
                   Table="server_overview_result_6"/>
      </Condition>
    </Where>
  </Select>  

  <!-- server_overview_result_8 contains values from jms_server table -->
  <Select Name="server_overview_result_8">
   <TableFrom Name="weblogic_j2eeserver:jms_server" />
    <Column Name="serverName" Type="String" />
   <Column Name="messagesStored.active" Type="Long">
    <Aggregation Operator="Sum" Name="messagesStored.active" />
    <Default>0</Default>
   </Column>
   <Column Name="messagesPending.active" Type="Long">
    <Aggregation Operator="Sum" Name="messagesPending.active" />
    <Default>0</Default>
   </Column>
   <GroupBy Name="serverName"/>
  </Select>

  <!-- server_overview_result_9 joins server_overview_result_7 and server_overview_result_8 -->
  <Select Name="server_overview_result_9">
    <TableFrom Name="server_overview_result_7" OuterJoined="true"/>
    <TableFrom Name="server_overview_result_8" OuterJoined="true"/>
    <Column Name="serverName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="serverName" Table="server_overview_result_7"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="serverName" Table="server_overview_result_7"/>
     </Then>
     <Else>
      <ColumnFrom Name="serverName" Table="server_overview_result_8"/>
     </Else>
     </If>
    </Column>
    <Column Name="service.totalTime" Type="Long">
      <ColumnFrom Name="service.totalTime" Table="server_overview_result_7"/>
    </Column>
    <Column Name="service.completed" Type="Long">
      <ColumnFrom Name="service.completed" Table="server_overview_result_7"/>
    </Column>
    <Column Name="service.time" Type="Double">
      <ColumnFrom Name="service.time" Table="server_overview_result_7"/>
    </Column>
    <Column Name="service.throughput" Type="Double">
      <ColumnFrom Name="service.throughput" Table="server_overview_result_7"/>
    </Column>
    <Column Name="session.active" Type="Long">
      <ColumnFrom Name="session.active" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbCacheActivation.completed" Type="Long">
      <ColumnFrom Name="ejbCacheActivation.completed" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbCacheActivation.throughput" Type="Double">
      <ColumnFrom Name="ejbCacheActivation.throughput" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbCacheAccess.completed" Type="Long">
      <ColumnFrom Name="ejbCacheAccess.completed" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbCacheAccess.throughput" Type="Double">
      <ColumnFrom Name="ejbCacheAccess.throughput" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbCache.active" Type="Long">
      <ColumnFrom Name="ejbCache.active" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbCacheMiss.completed" Type="Long">
      <ColumnFrom Name="ejbCacheMiss.completed" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbCacheMiss.throughput" Type="Double">
      <ColumnFrom Name="ejbCacheMiss.throughput" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbCacheHit.percentage " Type="Double">
      <ColumnFrom Name="ejbCacheHit.percentage" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbPoolAccess.completed" Type="Long">
      <ColumnFrom Name="ejbPoolAccess.completed" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbPoolAccess.throughput" Type="Double">
      <ColumnFrom Name="ejbPoolAccess.throughput" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbPoolAccessSuccess.percentage" Type="Double">
      <ColumnFrom Name="ejbPoolAccessSuccess.percentage" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbPoolUsed.active" Type="Long">
      <ColumnFrom Name="ejbPoolUsed.active" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbPoolDestroy.completed" Type="Long">
      <ColumnFrom Name="ejbPoolDestroy.completed" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbPoolDestroy.throughput" Type="Double">
      <ColumnFrom Name="ejbPoolDestroy.throughput" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbPoolFailed.completed" Type="Long">
      <ColumnFrom Name="ejbPoolFailed.completed" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbPoolFailed.throughput" Type="Double">
      <ColumnFrom Name="ejbPoolFailed.throughput" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbPoolAvailable.active" Type="Long">
      <ColumnFrom Name="ejbPoolAvailable.active" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbTransactionCommit.completed" Type="Long">
      <ColumnFrom Name="ejbTransactionCommit.completed" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbTransactionCommit.throughput" Type="Double">
      <ColumnFrom Name="ejbTransactionCommit.throughput" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbTransactionRollback.completed" Type="Long">
      <ColumnFrom Name="ejbTransactionRollback.completed" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbTransactionRollback.throughput" Type="Double">
      <ColumnFrom Name="ejbTransactionRollback.throughput" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbTransactionTimeout.completed" Type="Long">
      <ColumnFrom Name="ejbTransactionTimeout.completed" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbTransactionTimeout.throughput" Type="Double">
      <ColumnFrom Name="ejbTransactionTimeout.throughput" Table="server_overview_result_7"/>
    </Column>
    <Column Name="ejbTransactionCommit.percentage" Type="Double">
      <ColumnFrom Name="ejbTransactionCommit.percentage" Table="server_overview_result_7"/>
    </Column>
    <Column Name="mdbMessage.completed" Type="Long">
      <ColumnFrom Name="mdbMessage.completed" Table="server_overview_result_7"/>
    </Column>
    <Column Name="mdbMessage.throughput" Type="Double">
      <ColumnFrom Name="mdbMessage.throughput" Table="server_overview_result_7"/>
    </Column>
    <Column Name="connectionInUse.active" Type="Long">
      <ColumnFrom Name="connectionInUse.active" Table="server_overview_result_7"/>
    </Column>
    <Column Name="connectionCreated.throughput" Type="Double">
      <ColumnFrom Name="connectionCreated.throughput" Table="server_overview_result_7"/>
    </Column>
    <Column Name="jtaTransactions.active" Type="Long">
      <ColumnFrom Name="jtaTransactions.active" Table="server_overview_result_7"/>
    </Column>
    <Column Name="jtaTransactionCommit.throughput" Type="Double">
      <ColumnFrom Name="jtaTransactionCommit.throughput" Table="server_overview_result_7"/>
    </Column>
    <Column Name="jtaTransactionRollback.throughput" Type="Double">
      <ColumnFrom Name="jtaTransactionRollback.throughput" Table="server_overview_result_7"/>
    </Column>
    <Column Name="wmProcessed.throughput" Type="Double">
      <ColumnFrom Name="wmProcessed.throughput" Table="server_overview_result_7"/>
    </Column>
    <Column Name="wmPending.active" Type="Long">
      <ColumnFrom Name="wmPending.active" Table="server_overview_result_7"/>
    </Column>
    <Column Name="servers.active" Type="Long">
      <ColumnFrom Name="servers.active" Table="server_overview_result_7"/>
    </Column>
    <Column Name="messagesStored.active" Type="Long">
      <ColumnFrom Name="messagesStored.active" Table="server_overview_result_8"/>
    </Column>
    <Column Name="messagesPending.active" Type="Long">
      <ColumnFrom Name="messagesPending.active" Table="server_overview_result_8"/>
    </Column>
    <Where>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName"
                   Table="server_overview_result_7"/>
       <ColumnFrom Name="serverName"
                   Table="server_overview_result_8"/>
      </Condition>
    </Where>
  </Select>  

  <!-- Final server_overview_result gets all values from server_overview_result_9, excludes rows with null serverName values, and
       sets null number values to zero -->
  <Select Name="server_overview_result">
    <TableFrom Name="server_overview_result_9" />
    <Column Name="serverName" Type="String" />
    <Column Name="service.totalTime" Type="Long"/>
    <Column Name="service.completed" Type="Long" />
    <Column Name="service.time" Type="Double" />
    <Column Name="service.throughput" Type="Double" />
    <Column Name="session.active" Type="Long" />
    <Column Name="ejbCacheActivation.completed" Type="Long" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbCacheActivation.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbCacheActivation.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbCacheActivation.throughput" Type="Double" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbCacheActivation.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbCacheActivation.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbCacheAccess.completed" Type="Long" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbCacheAccess.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbCacheAccess.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbCacheAccess.throughput" Type="Double" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbCacheAccess.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbCacheAccess.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbCache.active" Type="Long" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbCache.active" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbCache.active" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbCacheMiss.completed" Type="Long" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbCacheMiss.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbCacheMiss.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbCacheMiss.throughput" Type="Double" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbCacheMiss.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbCacheMiss.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbCacheHit.percentage" Type="Double" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbCacheHit.percentage" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbCacheHit.percentage" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbPoolAccess.completed" Type="Long" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbPoolAccess.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbPoolAccess.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbPoolAccess.throughput" Type="Double" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbPoolAccess.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbPoolAccess.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbPoolAccessSuccess.percentage" Type="Double" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbPoolAccessSuccess.percentage" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbPoolAccessSuccess.percentage" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbPoolUsed.active" Type="Long" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbPoolUsed.active" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbPoolUsed.active" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbPoolDestroy.completed" Type="Long" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbPoolDestroy.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbPoolDestroy.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbPoolDestroy.throughput" Type="Double" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbPoolDestroy.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbPoolDestroy.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbPoolFailed.completed" Type="Long" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbPoolFailed.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbPoolFailed.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbPoolFailed.throughput" Type="Double" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbPoolFailed.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbPoolFailed.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbPoolAvailable.active" Type="Long" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbPoolAvailable.active" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbPoolAvailable.active" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbTransactionCommit.completed" Type="Long" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbTransactionCommit.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbTransactionCommit.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbTransactionCommit.throughput" Type="Double" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbTransactionCommit.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbTransactionCommit.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbTransactionRollback.completed" Type="Long" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbTransactionRollback.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbTransactionRollback.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbTransactionRollback.throughput" Type="Double" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbTransactionRollback.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbTransactionRollback.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbTransactionTimeout.completed" Type="Long" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbTransactionTimeout.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbTransactionTimeout.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbTransactionTimeout.throughput" Type="Double" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbTransactionTimeout.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbTransactionTimeout.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbTransactionCommit.percentage" Type="Double" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbTransactionCommit.percentage" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbTransactionCommit.percentage" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="mdbMessage.completed" Type="Long" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="mdbMessage.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="mdbMessage.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="mdbMessage.throughput" Type="Double" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="mdbMessage.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="mdbMessage.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="connectionInUse.active" Type="Long" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="connectionInUse.active" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="connectionInUse.active" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="connectionCreated.throughput" Type="Double" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="connectionCreated.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="connectionCreated.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="jtaTransactions.active" Type="Long" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="jtaTransactions.active" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="jtaTransactions.active" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="jtaTransactionCommit.throughput" Type="Double" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="jtaTransactionCommit.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="jtaTransactionCommit.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="jtaTransactionRollback.throughput" Type="Double" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="jtaTransactionRollback.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="jtaTransactionRollback.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="wmProcessed.throughput" Type="Double" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="wmProcessed.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="wmProcessed.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="wmPending.active" Type="Long" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="wmPending.active" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="wmPending.active" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="servers.active" Type="Long" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="servers.active" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="servers.active" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="messagesStored.active" Type="Long" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="messagesStored.active" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="messagesStored.active" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="messagesPending.active" Type="Long" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="messagesPending.active" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="messagesPending.active" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Where>
      <Condition Operator="NE" Type="String">
       <ColumnFrom Name="serverName"/>
       <Null/>
      </Condition>
    </Where>
  </Select>  

 </Table> 

 <!-- application (published) -->
 <Table Name="application">
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="Status" Type="Integer"/>
  <Select Name="application_result_1">
   <TableFrom Name="weblogic.management.runtime.ApplicationRuntimeMBean"/>
   <TableFrom Name="weblogic_j2eeserver:application_names" OuterJoined="true"/>
    <Column Name="appName" Type="String">
      <ColumnFrom Name="displayAppName"
                  Table="weblogic_j2eeserver:application_names"/>
    </Column>
   <Column Name="serverName" Type="String">
    <ColumnFrom Name="ServerRuntime"
                Table="weblogic.management.runtime.ApplicationRuntimeMBean"/>
   </Column>
   <Column Name="state" Type="Integer">
    <ColumnFrom Name="ActiveVersionState"
                Table="weblogic.management.runtime.ApplicationRuntimeMBean"/>
   </Column>
   <Column Name="Status" Type="Integer">
    <If>
     <Condition Operator="EQ">
      <ColumnFrom Name="state"/>
      <Value>2</Value>
     </Condition>
    <Then>
      <Value>1</Value>
    </Then>
    <Else>
      <Value>0</Value>
    </Else>
    </If>
   </Column>
   <Where>
     <And>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="runtimeAppName"
                   Table="weblogic_j2eeserver:application_names"/>
       <ColumnFrom Name="Name"
                   Table="weblogic.management.runtime.ApplicationRuntimeMBean"/>
      </Condition>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName"
                   Table="weblogic_j2eeserver:application_names"/>
       <ColumnFrom Name="ServerRuntime"
                   Table="weblogic.management.runtime.ApplicationRuntimeMBean"/>
      </Condition>
     </And>
   </Where>
  </Select>

  <Select Name="application_result">
   <TableFrom Name="application_result_1"/>

   <Column Name="appName" Type="String"/>
   <Column Name="serverName" Type="String"/>
   <Column Name="Status" Type="Integer"/>
 
   <Where>
    <And>
     <Or>
      <Condition Type="String" Operator="EQ">
       <ColumnFrom Name="appName"/>
       <Value Name="appName.parameter"/>
      </Condition>
      <Condition Type="String" Operator="EQ">
       <Value Name="appName.parameter"
              xsi:nil="true"/>
       <Null/>
      </Condition>
     </Or>
     <Or>
      <Condition Type="String" Operator="EQ">
       <ColumnFrom Name="serverName"/>
       <Value Name="serverName.parameter"/>
      </Condition>
      <Condition Type="String" Operator="EQ">
       <Value Name="serverName.parameter"
              xsi:nil="true"/>
       <Null/>
      </Condition>
     </Or>
    </And>
   </Where>
  </Select>

 </Table> 

 <!-- app_session (internal) -->
 <Table Name="app_session">
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="session.active" Type="Long"/>
  <Select Name="app_session_result">
   <TableFrom Name="weblogic.management.runtime.WebAppComponentRuntimeMBean"/>
   <TableFrom Name="weblogic_j2eeserver:application_names"/>
    <Column Name="appName" Type="String">
      <ColumnFrom Name="displayAppName"
                  Table="weblogic_j2eeserver:application_names"/>
    </Column>
    <Column Name="serverName" Type="String">
      <ColumnFrom Name="ServerRuntime"
                  Table="weblogic.management.runtime.WebAppComponentRuntimeMBean"/>
    </Column>
   <Column Name="session.active" Type="Long">
    <Aggregation Operator="Sum" Name="OpenSessionsCurrentCount" 
                 Table="weblogic.management.runtime.WebAppComponentRuntimeMBean"/>
    <Default>0</Default>
   </Column>

   <GroupBy Name="appName"/>
   <GroupBy Name="serverName"/>

   <Where>
    <Condition Operator="EQ" Type="String">
     <ColumnFrom Name="runtimeAppName"
                 Table="weblogic_j2eeserver:application_names"/>
     <ColumnFrom Name="ApplicationRuntime"
                 Table="weblogic.management.runtime.WebAppComponentRuntimeMBean"/>
    </Condition>
   </Where>

  </Select>
 </Table> 

 <!-- app_servlet_jsp_no_rate (internal) -->
 <Table Name="app_servlet_jsp_no_rate">
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="service.totalTime" Type="Long"/>
  <ColumnDef Name="service.completed" Type="Long"/>
  <Select Name="app_servlet_jsp_no_rate_result">
   <TableFrom Name="weblogic.management.runtime.ServletRuntimeMBean"/>
   <TableFrom Name="weblogic_j2eeserver:application_names"/>

    <Column Name="appName" Type="String">
      <ColumnFrom Name="displayAppName"
                  Table="weblogic_j2eeserver:application_names"/>
    </Column>
    <Column Name="serverName" Type="String">
      <ColumnFrom Name="ServerRuntime"
                  Table="weblogic.management.runtime.ServletRuntimeMBean"/>
    </Column>
    <Column Name="service.totalTime" Type="Long">
     <Aggregation Operator="Sum" Name="ExecutionTimeTotal"
                  Table="weblogic.management.runtime.ServletRuntimeMBean"/>
     <Default>0</Default>
    </Column>
    <Column Name="service.completed" Type="Long">
     <Aggregation Operator="Sum" Name="InvocationTotalCount"
                  Table="weblogic.management.runtime.ServletRuntimeMBean"/>
     <Default>0</Default>
    </Column>

   <GroupBy Name="appName"/>
   <GroupBy Name="serverName"/>

   <Where>
    <Condition Operator="EQ" Type="String">
     <ColumnFrom Name="runtimeAppName"
                 Table="weblogic_j2eeserver:application_names"/>
     <ColumnFrom Name="ApplicationRuntime"
                 Table="weblogic.management.runtime.ServletRuntimeMBean"/>
    </Condition>
   </Where>
 
  </Select>
 </Table> 

 <!-- app_mdb_no_rate (internal) -->
 <Table Name="app_mdb_no_rate">
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="mdbMessage.completed" Type="Long"/>
  <Select Name="app_mdb_no_rate_with_nulls">
   <TableFrom Name="weblogic.management.runtime.MessageDrivenEJBRuntimeMBean"/>
   <TableFrom Name="weblogic_j2eeserver:application_names"/>
    <Column Name="appName" Type="String">
      <ColumnFrom Name="displayAppName"
                  Table="weblogic_j2eeserver:application_names"/>
    </Column>
    <Column Name="serverName" Type="String">
      <ColumnFrom Name="ServerRuntime"
                  Table="weblogic.management.runtime.MessageDrivenEJBRuntimeMBean"/>
    </Column>
    <Column Name="mdbMessage.completed" Type="Long">
     <Aggregation Operator="Sum" Name="ProcessedMessageCount" 
                  Table="weblogic.management.runtime.MessageDrivenEJBRuntimeMBean"/>
     <Default>0</Default>
    </Column>

    <GroupBy Name="appName"/>
    <GroupBy Name="serverName"/>

   <Where>
    <Condition Operator="EQ" Type="String">
     <ColumnFrom Name="runtimeAppName"
                 Table="weblogic_j2eeserver:application_names"/>
     <ColumnFrom Name="ApplicationRuntime"
                 Table="weblogic.management.runtime.MessageDrivenEJBRuntimeMBean"/>
    </Condition>
   </Where>
  </Select>

  <Select Name="app_mdb_no_rate_result">
   <TableFrom Name="app_mdb_no_rate_with_nulls"/>

    <Column Name="appName" Type="String"/>
    <Column Name="serverName" Type="String"/>
    <Column Name="mdbMessage.completed" Type="Long"/>

   <Where>
    <Condition Operator="NE" Type="String">
     <ColumnFrom Name="appName"/>
     <Null/>
    </Condition>
   </Where>
  </Select>

 </Table> 

 <!-- app_ejb_no_rate  (internal) -->
 <Table Name="app_ejb_no_rate">
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="ejbCacheActivation.completed" Type="Long"/>
  <ColumnDef Name="ejbCacheAccess.completed" Type="Long"/>
  <ColumnDef Name="ejbCache.active" Type="Long"/>
  <ColumnDef Name="ejbCacheMiss.completed" Type="Long"/>
  <ColumnDef Name="ejbCachePassivation.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolAccess.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolUsed.active" Type="Long"/>
  <ColumnDef Name="ejbPoolDestroy.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolFailed.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolAvailable.active" Type="Long"/>
  <ColumnDef Name="ejbTransactionCommit.completed" Type="Long"/>
  <ColumnDef Name="ejbTransactionRollback.completed" Type="Long"/>
  <ColumnDef Name="ejbTransactionTimeout.completed" Type="Long"/>
  <Select Name="pool">
   <TableFrom Name="weblogic.management.runtime.EJBPoolRuntimeMBean"/>
    <Column Name="appName" Type="String">
      <ColumnFrom Name="ApplicationRuntime"/>
    </Column>
    <Column Name="serverName" Type="String">
       <ColumnFrom Name="ServerRuntime"/>
    </Column>
    <Column Name="ejbPoolAccess.completed" Type="Long">
     <Aggregation Operator="Sum" Name="AccessTotalCount"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbPoolUsed.active" Type="Long">
     <Aggregation Operator="Sum" Name="BeansInUseCurrentCount"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbPoolDestroy.completed" Type="Long">
     <Aggregation Operator="Sum" Name="DestroyedTotalCount"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbPoolFailed.completed" Type="Long">
     <Aggregation Operator="Sum" Name="MissTotalCount"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbPoolAvailable.active" Type="Long">
     <Aggregation Operator="Sum" Name="PooledBeansCurrentCount"/>
     <Default>0</Default>
    </Column>
   <GroupBy Name="appName"/>
   <GroupBy Name="serverName"/>
  </Select>
  <Select Name="txn">
   <TableFrom Name="weblogic.management.runtime.EJBTransactionRuntimeMBean" />
    <Column Name="appName" Type="String">
      <ColumnFrom Name="ApplicationRuntime"/>
    </Column>
    <Column Name="serverName" Type="String">
      <ColumnFrom Name="ServerRuntime"/>
    </Column>
    <Column Name="ejbTransactionCommit.completed" Type="Long">
     <Aggregation Operator="Sum" Name="TransactionsCommittedTotalCount"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbTransactionRollback.completed" Type="Long">
     <Aggregation Operator="Sum" Name="TransactionsRolledBackTotalCount"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbTransactionTimeout.completed" Type="Long">
     <Aggregation Operator="Sum" Name="TransactionsTimedOutTotalCount"/>
     <Default>0</Default>
    </Column>
   <GroupBy Name="appName"/>
   <GroupBy Name="serverName"/>
  </Select>
  <Select Name="cache">
   <TableFrom Name="weblogic.management.runtime.EJBCacheRuntimeMBean"/>
    <Column Name="appName" Type="String">
      <ColumnFrom Name="ApplicationRuntime"/>
    </Column>
    <Column Name="serverName" Type="String">
       <ColumnFrom Name="ServerRuntime"/>
    </Column>
    <Column Name="ejbCacheActivation.completed" Type="Long">
     <Aggregation Operator="Sum" Name="ActivationCount"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbCacheAccess.completed" Type="Long">
     <Aggregation Operator="Sum" Name="CacheAccessCount"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbCache.active" Type="Long">
     <Aggregation Operator="Sum" Name="CachedBeansCurrentCount" />
     <Default>0</Default>
    </Column>
    <Column Name="ejbCacheMiss.completed" Type="Long">
     <Aggregation Operator="Sum" Name="CacheMissCount"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbCachePassivation.completed" Type="Long">
     <Aggregation Operator="Sum" Name="PassivationCount" />
     <Default>0</Default>
    </Column>
   <GroupBy Name="appName"/>
   <GroupBy Name="serverName"/>
  </Select>
  <Select Name="pool_txn">
   <TableFrom Name="pool" OuterJoined="true"/>
   <TableFrom Name="txn" OuterJoined="true"/>
    <Column Name="appName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="appName" Table="pool"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="appName" Table="pool"/>
     </Then>
     <Else>
      <ColumnFrom Name="appName" Table="txn"/>
     </Else>
     </If>
    </Column>
    <Column Name="serverName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="serverName" Table="pool"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="serverName" Table="pool"/>
     </Then>
     <Else>
      <ColumnFrom Name="serverName" Table="txn"/>
     </Else>
     </If>
    </Column>
    <Column Name="ejbPoolAccess.completed" Type="Long" Table="pool"/>
    <Column Name="ejbPoolUsed.active" Type="Long" Table="pool"/>
    <Column Name="ejbPoolDestroy.completed" Type="Long" Table="pool"/>
    <Column Name="ejbPoolFailed.completed" Type="Long" Table="pool"/>
    <Column Name="ejbPoolAvailable.active" Type="Long" Table="pool"/>
    <Column Name="ejbTransactionCommit.completed" Type="Long" Table="txn"/>
    <Column Name="ejbTransactionRollback.completed" Type="Long" Table="txn"/>
    <Column Name="ejbTransactionTimeout.completed" Type="Long" Table="txn"/>
   <Where>
     <And>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="appName"
                   Table="pool"/>
       <ColumnFrom Name="appName"
                   Table="txn"/>
      </Condition>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName"
                   Table="pool"/>
       <ColumnFrom Name="serverName"
                   Table="txn"/>
      </Condition>
     </And>
    </Where>
  </Select>
  <Select Name="app_ejb_no_rate_by_app">
   <TableFrom Name="pool_txn" OuterJoined="true"/>
   <TableFrom Name="cache" OuterJoined="true"/>
    <Column Name="appName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="appName" Table="pool_txn"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="appName" Table="pool_txn"/>
     </Then>
     <Else>
      <ColumnFrom Name="appName" Table="cache"/>
     </Else>
     </If>
    </Column>
    <Column Name="serverName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="serverName" Table="pool_txn"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="serverName" Table="pool_txn"/>
     </Then>
     <Else>
      <ColumnFrom Name="serverName" Table="cache"/>
     </Else>
     </If>
    </Column>
    <Column Name="ejbCacheActivation.completed" Type="Long" Table="cache"/>
    <Column Name="ejbCacheAccess.completed" Type="Long" Table="cache"/>
    <Column Name="ejbCache.active" Type="Long" Table="cache"/>
    <Column Name="ejbCacheMiss.completed" Type="Long" Table="cache"/>
    <Column Name="ejbCachePassivation.completed" Type="Long" Table="cache"/>
    <Column Name="ejbPoolAccess.completed" Type="Long" Table="pool_txn"/>
    <Column Name="ejbPoolUsed.active" Type="Long" Table="pool_txn"/>
    <Column Name="ejbPoolDestroy.completed" Type="Long" Table="pool_txn"/>
    <Column Name="ejbPoolFailed.completed" Type="Long" Table="pool_txn"/>
    <Column Name="ejbPoolAvailable.active" Type="Long" Table="pool_txn"/>
    <Column Name="ejbTransactionCommit.completed" Type="Long" Table="pool_txn"/>
    <Column Name="ejbTransactionRollback.completed" Type="Long" Table="pool_txn"/>
    <Column Name="ejbTransactionTimeout.completed" Type="Long" Table="pool_txn"/>
   <Where>
     <And>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="appName"
                   Table="pool_txn"/>
       <ColumnFrom Name="appName"
                   Table="cache"/>
      </Condition>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName"
                   Table="pool_txn"/>
       <ColumnFrom Name="serverName"
                   Table="cache"/>
      </Condition>
     </And>
    </Where>
  </Select>

  <Select Name="app_ejb_no_rate_result">
   <TableFrom Name="app_ejb_no_rate_by_app"/>
   <TableFrom Name="weblogic_j2eeserver:application_names"/>

    <Column Name="appName" Type="String">
      <ColumnFrom Name="displayAppName"
                  Table="weblogic_j2eeserver:application_names"/>
    </Column>
    <Column Name="serverName" Type="String">
      <ColumnFrom  Name="serverName" Table="app_ejb_no_rate_by_app"/>
    </Column>
    <Column Name="ejbCacheActivation.completed" Type="Long">
      <ColumnFrom  Name="ejbCacheActivation.completed" Table="app_ejb_no_rate_by_app"/>
    </Column>
    <Column Name="ejbCacheAccess.completed" Type="Long">
      <ColumnFrom  Name="ejbCacheAccess.completed" Table="app_ejb_no_rate_by_app"/>
    </Column>
    <Column Name="ejbCache.active" Type="Long">
      <ColumnFrom  Name="ejbCache.active" Table="app_ejb_no_rate_by_app"/>
    </Column>
    <Column Name="ejbCacheMiss.completed" Type="Long">
      <ColumnFrom  Name="ejbCacheMiss.completed" Table="app_ejb_no_rate_by_app"/>
    </Column>
    <Column Name="ejbCachePassivation.completed" Type="Long">
      <ColumnFrom  Name="ejbCachePassivation.completed" Table="app_ejb_no_rate_by_app"/>
    </Column>
    <Column Name="ejbPoolAccess.completed" Type="Long">
      <ColumnFrom  Name="ejbPoolAccess.completed" Table="app_ejb_no_rate_by_app"/>
    </Column>
    <Column Name="ejbPoolUsed.active" Type="Long">
      <ColumnFrom  Name="ejbPoolUsed.active" Table="app_ejb_no_rate_by_app"/>
    </Column>
    <Column Name="ejbPoolDestroy.completed" Type="Long">
      <ColumnFrom  Name="ejbPoolDestroy.completed" Table="app_ejb_no_rate_by_app"/>
    </Column>
    <Column Name="ejbPoolFailed.completed" Type="Long">
      <ColumnFrom  Name="ejbPoolFailed.completed" Table="app_ejb_no_rate_by_app"/>
    </Column>
    <Column Name="ejbPoolAvailable.active" Type="Long">
      <ColumnFrom  Name="ejbPoolAvailable.active" Table="app_ejb_no_rate_by_app"/>
    </Column>
    <Column Name="ejbTransactionCommit.completed" Type="Long">
      <ColumnFrom  Name="ejbTransactionCommit.completed" Table="app_ejb_no_rate_by_app"/>
    </Column>
    <Column Name="ejbTransactionRollback.completed" Type="Long">
      <ColumnFrom  Name="ejbTransactionRollback.completed" Table="app_ejb_no_rate_by_app"/>
    </Column>
    <Column Name="ejbTransactionTimeout.completed" Type="Long">
      <ColumnFrom  Name="ejbTransactionTimeout.completed" Table="app_ejb_no_rate_by_app"/>
    </Column>
 
   <Where>
    <Condition Operator="EQ" Type="String">
     <ColumnFrom Name="runtimeAppName"
                 Table="weblogic_j2eeserver:application_names"/>
     <ColumnFrom Name="appName" Table="app_ejb_no_rate_by_app"/>
    </Condition>
   </Where>

  </Select>
 </Table> 

 <!-- app_overview (published) -->
 <Table Name="app_overview">
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="session.active" Type="Long"/>
  <ColumnDef Name="service.totalTime" Type="Long"/>
  <ColumnDef Name="service.completed" Type="Long"/>
  <ColumnDef Name="service.time" Type="Double"/>
  <ColumnDef Name="service.throughput" Type="Double"/>
  <ColumnDef Name="ejbCacheActivation.completed" Type="Long"/>
  <ColumnDef Name="ejbCacheActivation.throughput" Type="Double"/>
  <ColumnDef Name="ejbCacheAccess.completed" Type="Long"/>
  <ColumnDef Name="ejbCacheAccess.throughput" Type="Double"/>
  <ColumnDef Name="ejbCache.active" Type="Long"/>
  <ColumnDef Name="ejbCacheMiss.completed" Type="Long"/>
  <ColumnDef Name="ejbCacheMiss.throughput" Type="Double"/>
  <ColumnDef Name="ejbCacheHit.percentage" Type="Double"/>
  <ColumnDef Name="ejbPoolAccess.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolAccess.throughput" Type="Double"/>
  <ColumnDef Name="ejbPoolAccessSuccess.percentage" Type="Double"/>
  <ColumnDef Name="ejbPoolUsed.active" Type="Long"/>
  <ColumnDef Name="ejbPoolDestroy.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolDestroy.throughput" Type="Double"/>
  <ColumnDef Name="ejbPoolAvailable.active" Type="Long"/>
  <ColumnDef Name="ejbPoolFailed.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolFailed.throughput" Type="Double"/>
  <ColumnDef Name="ejbTransactionCommit.completed" Type="Long"/>
  <ColumnDef Name="ejbTransactionCommit.throughput" Type="Double"/>
  <ColumnDef Name="ejbTransactionRollback.completed" Type="Long"/>
  <ColumnDef Name="ejbTransactionRollback.throughput" Type="Double"/>
  <ColumnDef Name="ejbTransactionTimeout.completed" Type="Long"/>
  <ColumnDef Name="ejbTransactionTimeout.throughput" Type="Double"/>
  <ColumnDef Name="ejbTransactionCommit.percentage" Type="Double"/>
  <ColumnDef Name="wmProcessed.throughput" Type="Double"/>
  <ColumnDef Name="wmPending.active" Type="Long"/>
  <ColumnDef Name="mdbMessage.completed" Type="Long"/>
  <ColumnDef Name="mdbMessage.throughput" Type="Double"/>
  <Select Name="app_overview_result_1">
   <TableFrom Name="weblogic_j2eeserver:app_session" OuterJoined="true" />
   <TableFrom Name="weblogic_j2eeserver:app_servlet_jsp_no_rate" OuterJoined="true"/>
   <Column Name="appName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="appName" Table="weblogic_j2eeserver:app_session"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="appName" Table="weblogic_j2eeserver:app_session"/>
     </Then>
     <Else>
      <ColumnFrom Name="appName" Table="weblogic_j2eeserver:app_servlet_jsp_no_rate"/>
     </Else>
     </If>
   </Column>
   <Column Name="serverName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="serverName" Table="weblogic_j2eeserver:app_session"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="serverName" Table="weblogic_j2eeserver:app_session"/>
     </Then>
     <Else>
      <ColumnFrom Name="serverName" Table="weblogic_j2eeserver:app_servlet_jsp_no_rate"/>
     </Else>
     </If>
   </Column>
   <Column Name="session.active" Type="Long" Table="weblogic_j2eeserver:app_session"/>
   <Column Name="service.totalTime" Type="Long" Table="weblogic_j2eeserver:app_servlet_jsp_no_rate"/>
   <Column Name="service.completed" Type="Long" Table="weblogic_j2eeserver:app_servlet_jsp_no_rate"/>
   <Column Name="service.time" Type="Double">
    <Rate Interval="300000">
      <ColumnFrom Name="service.totalTime" Table="weblogic_j2eeserver:app_servlet_jsp_no_rate"/>
      <ColumnFrom Name="service.completed" Table="weblogic_j2eeserver:app_servlet_jsp_no_rate"/>
      <Default>0</Default>
    </Rate>
   </Column>
   <Column Name="service.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="service.completed" Table="weblogic_j2eeserver:app_servlet_jsp_no_rate"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
   </Column>
   <Where>
     <And>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="appName"
                   Table="weblogic_j2eeserver:app_session"/>
       <ColumnFrom Name="appName"
                   Table="weblogic_j2eeserver:app_servlet_jsp_no_rate"/>
      </Condition>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName"
                   Table="weblogic_j2eeserver:app_session"/>
       <ColumnFrom Name="serverName"
                   Table="weblogic_j2eeserver:app_servlet_jsp_no_rate"/>
      </Condition>
     </And>
    </Where>
  </Select>

  <!--  Create internal table app_overview_ejb_result_1 which will contain values from
        app_ejb_no_rate, including throughput and "previous" values that app_overview_ejb_result
        will use to compute delta and percentage values -->
  <Select Name="app_overview_ejb_result_1">
    <TableFrom Name="weblogic_j2eeserver:app_ejb_no_rate" />  
      <Column Name="appName" Type="String"/>
      <Column Name="serverName" Type="String"/>
      <Column Name="ejbCacheActivation.completed" Type="Long"/>
      <Column Name="ejbCacheActivation.throughput" Type="Double">
       <Expression Operator="Mult">
         <Rate Interval="300000">
           <ColumnFrom Name="ejbCacheActivation.completed" />
           <Default>0</Default>
         </Rate>
         <Value>60.0</Value>
       </Expression>
      </Column>
      <Column Name="ejbCacheAccess.completed" Type="Long"/>
      <Column Name="ejbCacheAccess.throughput" Type="Double">
       <Expression Operator="Mult">
         <Rate Interval="300000">
           <ColumnFrom Name="ejbCacheAccess.completed" />
           <Default>0</Default>
         </Rate>
         <Value>60.0</Value>
       </Expression>
      </Column>
      <Column Name="ejbCacheAccess.completed.previous" Type="Long">
        <Previous Interval="300000" Index="0">
          <ColumnFrom Name="ejbCacheAccess.completed"/> 
          <Default>0</Default>
        </Previous>
      </Column>
      <Column Name="ejbCache.active" Type="Long"/>
      <Column Name="ejbCacheMiss.completed" Type="Long"/>
      <Column Name="ejbCacheMiss.throughput" Type="Double">
       <Expression Operator="Mult">
         <Rate Interval="300000">
           <ColumnFrom Name="ejbCacheMiss.completed" />
           <Default>0</Default>
         </Rate>
         <Value>60.0</Value>
       </Expression>
      </Column>
      <Column Name="ejbCacheMiss.completed.previous" Type="Long">
        <Previous Interval="300000" Index="0">
          <ColumnFrom Name="ejbCacheMiss.completed"/> 
          <Default>0</Default>
        </Previous>
      </Column>
      <Column Name="ejbPoolUsed.active" Type="Long"/>
      <Column Name="ejbPoolDestroy.completed" Type="Long"/>
      <Column Name="ejbPoolDestroy.throughput" Type="Double">
       <Expression Operator="Mult">
         <Rate Interval="300000">
           <ColumnFrom Name="ejbPoolDestroy.completed" />
           <Default>0</Default>
         </Rate>
         <Value>60.0</Value>
       </Expression>
      </Column>
      <Column Name="ejbPoolAvailable.active" Type="Long"/>
      <Column Name="ejbTransactionCommit.completed" Type="Long" />
      <Column Name="ejbTransactionCommit.completed.previous" Type="Long">
        <Previous Interval="300000" Index="0">
          <ColumnFrom Name="ejbTransactionCommit.completed"/> 
          <Default>0</Default>
        </Previous>
      </Column>
      <Column Name="ejbTransactionCommit.throughput" Type="Double">
       <Expression Operator="Mult">
         <Rate Interval="300000">
           <ColumnFrom Name="ejbTransactionCommit.completed" />
           <Default>0</Default>
         </Rate>
         <Value>60.0</Value>
       </Expression>
      </Column>
      <Column Name="ejbTransactionRollback.completed" Type="Long" />
      <Column Name="ejbTransactionRollback.completed.previous" Type="Long">
        <Previous Interval="300000" Index="0">
          <ColumnFrom Name="ejbTransactionRollback.completed"/> 
          <Default>0</Default>
        </Previous>
      </Column>
      <Column Name="ejbTransactionRollback.throughput" Type="Double">
       <Expression Operator="Mult">
         <Rate Interval="300000">
           <ColumnFrom Name="ejbTransactionRollback.completed" />
           <Default>0</Default>
         </Rate>
         <Value>60.0</Value>
       </Expression>
      </Column>
      <Column Name="ejbTransactionTimeout.completed" Type="Long" />
      <Column Name="ejbTransactionTimeout.completed.previous" Type="Long">
        <Previous Interval="300000" Index="0">
          <ColumnFrom Name="ejbTransactionTimeout.completed"/> 
          <Default>0</Default>
        </Previous>
      </Column>
      <Column Name="ejbTransactionTimeout.throughput" Type="Double">
       <Expression Operator="Mult">
         <Rate Interval="300000">
           <ColumnFrom Name="ejbTransactionTimeout.completed" />
           <Default>0</Default>
         </Rate>
         <Value>60.0</Value>
       </Expression>
      </Column>
      <Column Name="ejbPoolAccess.completed" Type="Long" />
      <Column Name="ejbPoolAccess.completed.previous" Type="Long">
        <Previous Interval="300000" Index="0">
          <ColumnFrom Name="ejbPoolAccess.completed"/> 
          <Default>0</Default>
        </Previous>
      </Column>
      <Column Name="ejbPoolAccess.throughput" Type="Double">
        <Expression Operator="Mult">
         <Rate Interval="300000">
          <ColumnFrom Name="ejbPoolAccess.completed"/>
          <Default>0</Default>
         </Rate>
         <Value>60.0</Value>
        </Expression>
      </Column>
      <Column Name="ejbPoolFailed.completed" Type="Long"/>
      <Column Name="ejbPoolFailed.completed.previous" Type="Long">
       <Previous Interval="300000" Index="0">
        <ColumnFrom Name="ejbPoolFailed.completed"/>
        <Default>0</Default>
       </Previous>
      </Column>
      <Column Name="ejbPoolFailed.throughput" Type="Double">
        <Expression Operator="Mult">
         <Rate Interval="300000">
          <ColumnFrom Name="ejbPoolFailed.completed"/>
          <Default>0</Default>
         </Rate>
         <Value>60.0</Value>
        </Expression>
      </Column>
  </Select>
  
  <!-- Create internal table app_overview_ejb_result containing values from app_overview_ejb_result_1, including
       delta and percentage values -->
  <Select Name="app_overview_ejb_result">
    <TableFrom Name="app_overview_ejb_result_1" />
    <Column Name="appName" Type="String"/>
    <Column Name="serverName" Type="String"/>
    <Column Name="ejbCacheActivation.completed" Type="Long"/>
    <Column Name="ejbCacheActivation.throughput" Type="Double"/>
    <Column Name="ejbCacheAccess.completed" Type="Long"/>
    <Column Name="ejbCacheAccess.throughput" Type="Double"/>
    <Column Name="cacheAccess.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="ejbCacheAccess.completed.previous" />
       <ColumnFrom Name="ejbCacheAccess.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="ejbCacheAccess.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="ejbCacheAccess.completed" />
        <ColumnFrom Name="ejbCacheAccess.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="ejbCacheMiss.completed" Type="Long"/>
    <Column Name="ejbCacheMiss.throughput" Type="Double"/>
    <Column Name="cacheMiss.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="ejbCacheMiss.completed.previous" />
       <ColumnFrom Name="ejbCacheMiss.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="ejbCacheMiss.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="ejbCacheMiss.completed" />
        <ColumnFrom Name="ejbCacheMiss.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="ejbCacheHit.percentage" Type="Double">
     <Expression Operator="Div">
      <Expression Operator="Mult">
       <Expression Operator="Minus">
        <ColumnFrom Name="cacheAccess.deltaCompleted"/>
        <ColumnFrom Name="cacheMiss.deltaCompleted"/>
       </Expression>
       <Value>100.0</Value>
      </Expression>
      <ColumnFrom Name="cacheAccess.deltaCompleted"/>
     </Expression>
     <Default>0</Default>
    </Column>
    <Column Name="ejbPoolUsed.active" Type="Long"/>
    <Column Name="ejbPoolDestroy.completed" Type="Long" />
    <Column Name="ejbPoolDestroy.throughput" Type="Double" />
    <Column Name="ejbPoolAvailable.active" Type="Long" />
    <Column Name="ejbTransactionCommit.completed" Type="Long" />
    <Column Name="ejbTransactionCommit.throughput" Type="Double" />
    <Column Name="transactionCommit.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="ejbTransactionCommit.completed.previous" />
       <ColumnFrom Name="ejbTransactionCommit.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="ejbTransactionCommit.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="ejbTransactionCommit.completed" />
        <ColumnFrom Name="ejbTransactionCommit.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="ejbTransactionRollback.completed" Type="Long" />
    <Column Name="ejbTransactionRollback.throughput" Type="Double" />
    <Column Name="transactionRollback.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="ejbTransactionRollback.completed.previous" />
       <ColumnFrom Name="ejbTransactionRollback.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="ejbTransactionRollback.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="ejbTransactionRollback.completed" />
        <ColumnFrom Name="ejbTransactionRollback.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="ejbTransactionTimeout.completed" Type="Long" />
    <Column Name="ejbTransactionTimeout.throughput" Type="Double" />
    <Column Name="transactionTimeout.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="ejbTransactionTimeout.completed.previous" />
       <ColumnFrom Name="ejbTransactionTimeout.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="ejbTransactionTimeout.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="ejbTransactionTimeout.completed" />
        <ColumnFrom Name="ejbTransactionTimeout.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="ejbTransactionCommit.percentage" Type="Double">
     <Expression Operator="Div">
      <Expression Operator="Mult">
       <ColumnFrom Name="transactionCommit.deltaCompleted"/>
       <Value>100.0</Value>
      </Expression>
      <Expression Operator="Plus">
       <Expression Operator="Plus">
        <ColumnFrom Name="transactionCommit.deltaCompleted"/>
        <ColumnFrom Name="transactionRollback.deltaCompleted"/>
       </Expression>
       <ColumnFrom Name="transactionTimeout.deltaCompleted"/>
      </Expression>
     </Expression>
     <Default>0</Default>
    </Column>
    <Column Name="ejbPoolAccess.completed" Type="Long" />
    <Column Name="ejbPoolAccess.throughput" Type="Double" />
    <Column Name="ejbPoolFailed.completed" Type="Long" />
    <Column Name="ejbPoolFailed.throughput" Type="Double" />
    <Column Name="poolAccess.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="ejbPoolAccess.completed.previous" />
       <ColumnFrom Name="ejbPoolAccess.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="ejbPoolAccess.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="ejbPoolAccess.completed" />
        <ColumnFrom Name="ejbPoolAccess.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="poolFailed.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="ejbPoolFailed.completed.previous" />
       <ColumnFrom Name="ejbPoolFailed.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="ejbPoolFailed.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="ejbPoolFailed.completed" />
        <ColumnFrom Name="ejbPoolFailed.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="ejbPoolAccessSuccess.percentage" Type="Double">
     <Expression Operator="Div">
      <Expression Operator="Mult">
       <Expression Operator="Minus">
        <ColumnFrom Name="poolAccess.deltaCompleted"/>
        <ColumnFrom Name="poolFailed.deltaCompleted"/>
       </Expression>
       <Value>100.0</Value>
      </Expression>
      <ColumnFrom Name="poolAccess.deltaCompleted"/>
     </Expression>
     <Default>0</Default>
    </Column>
  </Select>
  <Select Name="wm_mdb">
   <TableFrom Name="weblogic_j2eeserver:app_work_manager" OuterJoined="true"/>
   <TableFrom Name="weblogic_j2eeserver:app_mdb_no_rate" OuterJoined="true"/>
    <Column Name="appName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="appName" Table="weblogic_j2eeserver:app_work_manager"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="appName" Table="weblogic_j2eeserver:app_work_manager"/>
     </Then>
     <Else>
      <ColumnFrom Name="appName" Table="weblogic_j2eeserver:app_mdb_no_rate"/>
     </Else>
     </If>
    </Column>
    <Column Name="serverName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="serverName" Table="weblogic_j2eeserver:app_work_manager"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="serverName" Table="weblogic_j2eeserver:app_work_manager"/>
     </Then>
     <Else>
      <ColumnFrom Name="serverName" Table="weblogic_j2eeserver:app_mdb_no_rate"/>
     </Else>
     </If>
    </Column>
    <Column Name="wmProcessed.throughput" Type="Double" Table="weblogic_j2eeserver:app_work_manager"/>
    <Column Name="wmPending.active" Type="Long" Table="weblogic_j2eeserver:app_work_manager"/>
    <Column Name="mdbMessage.completed" Type="Long" Table="weblogic_j2eeserver:app_mdb_no_rate"/>
    <Column Name="mdbMessage.throughput" Type="Double" Table="weblogic_j2eeserver:app_mdb_no_rate">
       <Expression Operator="Mult">
         <Rate Interval="300000">
           <ColumnFrom Name="mdbMessage.completed" />
           <Default>0</Default>
         </Rate>
         <Value>60.0</Value>
       </Expression>
    </Column>
   <Where>
     <And>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="appName"
                   Table="weblogic_j2eeserver:app_work_manager"/>
       <ColumnFrom Name="appName"
                   Table="weblogic_j2eeserver:app_mdb_no_rate"/>
      </Condition>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName"
                   Table="weblogic_j2eeserver:app_work_manager"/>
       <ColumnFrom Name="serverName"
                   Table="weblogic_j2eeserver:app_mdb_no_rate"/>
      </Condition>
     </And>
    </Where>
  </Select>
  <Select Name="app_overview_result_2">
   <TableFrom Name="app_overview_ejb_result" OuterJoined="true" />
   <TableFrom Name="wm_mdb" OuterJoined="true"/>
   <Column Name="appName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="appName" Table="app_overview_ejb_result"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="appName" Table="app_overview_ejb_result"/>
     </Then>
     <Else>
      <ColumnFrom Name="appName" Table="wm_mdb"/>
     </Else>
     </If>
   </Column>
   <Column Name="serverName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="serverName" Table="app_overview_ejb_result"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="serverName" Table="app_overview_ejb_result"/>
     </Then>
     <Else>
      <ColumnFrom Name="serverName" Table="wm_mdb"/>
     </Else>
     </If>
   </Column>
   <Column Name="ejbCacheActivation.completed" Type="Long" Table="app_overview_ejb_result"/>
   <Column Name="ejbCacheActivation.throughput" Type="Double" Table="app_overview_ejb_result"/>
   <Column Name="ejbCacheAccess.completed" Type="Long" Table="app_overview_ejb_result"/>
   <Column Name="ejbCacheAccess.throughput" Type="Double" Table="app_overview_ejb_result"/>
   <Column Name="ejbCache.active" Type="Long" Table="app_overview_ejb_result"/>
   <Column Name="ejbCacheMiss.completed" Type="Long" Table="app_overview_ejb_result"/>
   <Column Name="ejbCacheMiss.throughput" Type="Double" Table="app_overview_ejb_result"/>
   <Column Name="ejbCacheHit.percentage" Type="Double" Table="app_overview_ejb_result"/>
   <Column Name="ejbPoolAccess.completed" Type="Long" Table="app_overview_ejb_result"/>
   <Column Name="ejbPoolAccess.throughput" Type="Double" Table="app_overview_ejb_result"/>
   <Column Name="ejbPoolUsed.active" Type="Long" Table="app_overview_ejb_result"/>
   <Column Name="ejbPoolAccessSuccess.percentage" Type="Double" Table="app_overview_ejb_result"/>
   <Column Name="ejbPoolDestroy.completed" Type="Long" Table="app_overview_ejb_result"/>
   <Column Name="ejbPoolDestroy.throughput" Type="Double" Table="app_overview_ejb_result"/>
   <Column Name="ejbPoolAvailable.active" Type="Long" Table="app_overview_ejb_result"/>
   <Column Name="ejbPoolFailed.completed" Type="Long" Table="app_overview_ejb_result"/>
   <Column Name="ejbPoolFailed.throughput" Type="Double" Table="app_overview_ejb_result"/>
   <Column Name="ejbTransactionCommit.completed" Type="Long" Table="app_overview_ejb_result"/>
   <Column Name="ejbTransactionCommit.throughput" Type="Double" Table="app_overview_ejb_result"/>
   <Column Name="ejbTransactionRollback.completed" Type="Long" Table="app_overview_ejb_result"/>
   <Column Name="ejbTransactionRollback.throughput" Type="Double" Table="app_overview_ejb_result"/>
   <Column Name="ejbTransactionTimeout.completed" Type="Long" Table="app_overview_ejb_result"/>
   <Column Name="ejbTransactionTimeout.throughput" Type="Double" Table="app_overview_ejb_result"/>
   <Column Name="ejbTransactionCommit.percentage" Type="Double" Table="app_overview_ejb_result"/>
   <Column Name="wmProcessed.throughput" Type="Double" Table="wm_mdb"/>
   <Column Name="wmPending.active" Type="Long" Table="wm_mdb"/>
   <Column Name="mdbMessage.throughput" Type="Double" Table="wm_mdb"/>
   <Column Name="mdbMessage.completed" Type="Long" Table="wm_mdb"/>
   <Where>
     <And>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="appName"
                   Table="app_overview_ejb_result"/>
       <ColumnFrom Name="appName"
                   Table="wm_mdb"/>
      </Condition>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName"
                   Table="app_overview_ejb_result"/>
       <ColumnFrom Name="serverName"
                   Table="wm_mdb"/>
      </Condition>
     </And>
    </Where>
  </Select>
  <Select Name="app_overview_result_unfiltered">
   <TableFrom Name="app_overview_result_1" OuterJoined="true" />
   <TableFrom Name="app_overview_result_2" OuterJoined="true"/>
   <Column Name="appName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="appName" Table="app_overview_result_1"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="appName" Table="app_overview_result_1"/>
     </Then>
     <Else>
      <ColumnFrom Name="appName" Table="app_overview_result_2"/>
     </Else>
     </If>
   </Column>
   <Column Name="serverName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="serverName" Table="app_overview_result_1"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="serverName" Table="app_overview_result_1"/>
     </Then>
     <Else>
      <ColumnFrom Name="serverName" Table="app_overview_result_2"/>
     </Else>
     </If>
   </Column>
   <Column Name="session.active" Type="Long" Table="app_overview_result_1"/>
   <Column Name="service.totalTime" Type="Long" Table="app_overview_result_1"/>
   <Column Name="service.completed" Type="Long" Table="app_overview_result_1"/>
   <Column Name="service.time" Type="Double" Table="app_overview_result_1"/>
   <Column Name="service.throughput" Type="Double" Table="app_overview_result_1"/>
   <Column Name="ejbCacheActivation.completed" Type="Long" Table="app_overview_result_2"/>
   <Column Name="ejbCacheActivation.throughput" Type="Double" Table="app_overview_result_2"/>
   <Column Name="ejbCacheAccess.completed" Type="Long" Table="app_overview_result_2"/>
   <Column Name="ejbCacheAccess.throughput" Type="Double" Table="app_overview_result_2"/>
   <Column Name="ejbCache.active" Type="Long" Table="app_overview_result_2"/>
   <Column Name="ejbCacheMiss.completed" Type="Long" Table="app_overview_result_2"/>
   <Column Name="ejbCacheMiss.throughput" Type="Double" Table="app_overview_result_2"/>
   <Column Name="ejbCacheHit.percentage" Type="Double" Table="app_overview_result_2"/>
   <Column Name="ejbPoolAccess.completed" Type="Long" Table="app_overview_result_2"/>
   <Column Name="ejbPoolAccess.throughput" Type="Double" Table="app_overview_result_2"/>
   <Column Name="ejbPoolAccessSuccess.percentage" Type="Double" Table="app_overview_result_2"/>
   <Column Name="ejbPoolDestroy.completed" Type="Long" Table="app_overview_result_2"/>
   <Column Name="ejbPoolDestroy.throughput" Type="Double" Table="app_overview_result_2"/>
   <Column Name="ejbPoolAvailable.active" Type="Long" Table="app_overview_result_2"/>
   <Column Name="ejbPoolFailed.completed" Type="Long" Table="app_overview_result_2"/>
   <Column Name="ejbPoolFailed.throughput" Type="Double" Table="app_overview_result_2"/>
   <Column Name="ejbPoolUsed.active" Type="Long" Table="app_overview_result_2"/>
   <Column Name="ejbTransactionCommit.completed" Type="Long" Table="app_overview_result_2"/>
   <Column Name="ejbTransactionCommit.throughput" Type="Double" Table="app_overview_result_2"/>
   <Column Name="ejbTransactionRollback.completed" Type="Long" Table="app_overview_result_2"/>
   <Column Name="ejbTransactionRollback.throughput" Type="Double" Table="app_overview_result_2"/>
   <Column Name="ejbTransactionTimeout.completed" Type="Long" Table="app_overview_result_2"/>
   <Column Name="ejbTransactionTimeout.throughput" Type="Double" Table="app_overview_result_2"/>
   <Column Name="ejbTransactionCommit.percentage" Type="Double" Table="app_overview_result_2"/>
   <Column Name="mdbMessage.throughput" Type="Double" Table="app_overview_result_2"/>
   <Column Name="mdbMessage.completed" Type="Long" Table="app_overview_result_2"/>
   <Column Name="wmProcessed.throughput" Type="Double" Table="app_overview_result_2"/>
   <Column Name="wmPending.active" Type="Long" Table="app_overview_result_2"/>
   <Where>
     <And>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="appName"
                   Table="app_overview_result_1"/>
       <ColumnFrom Name="appName"
                   Table="app_overview_result_2"/>
      </Condition>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName"
                   Table="app_overview_result_1"/>
       <ColumnFrom Name="serverName"
                   Table="app_overview_result_2"/>
      </Condition>
     </And>
    </Where>
  </Select>

  <Select Name="app_overview_result">
   <TableFrom Name="app_overview_result_unfiltered"/>
   <Column Name="appName" Type="String"/>
   <Column Name="serverName" Type="String"/>
   <Column Name="session.active" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="session.active" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="session.active" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="service.totalTime" Type="Double">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="service.totalTime" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="service.totalTime" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="service.completed" Type="Double">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="service.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="service.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="service.time" Type="Double">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="service.time" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="service.time" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="service.throughput" Type="Double">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="service.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="service.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="ejbCacheActivation.completed" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbCacheActivation.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbCacheActivation.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="ejbCacheActivation.throughput" Type="Double">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbCacheActivation.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbCacheActivation.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="ejbCacheAccess.completed" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbCacheAccess.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbCacheAccess.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="ejbCacheAccess.throughput" Type="Double">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbCacheAccess.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbCacheAccess.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="ejbCache.active" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbCache.active" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbCache.active" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="ejbCacheMiss.completed" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbCacheMiss.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbCacheMiss.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="ejbCacheMiss.throughput" Type="Double">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbCacheMiss.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbCacheMiss.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="ejbCacheHit.percentage" Type="Double">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbCacheHit.percentage" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbCacheHit.percentage" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="ejbPoolAccess.completed" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbPoolAccess.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbPoolAccess.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="ejbPoolAccess.throughput" Type="Double">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbPoolAccess.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbPoolAccess.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="ejbPoolUsed.active" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbPoolUsed.active" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbPoolUsed.active" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="ejbPoolAccessSuccess.percentage" Type="Double">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbPoolAccessSuccess.percentage" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbPoolAccessSuccess.percentage" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
    <Column Name="ejbPoolDestroy.completed" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbPoolDestroy.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbPoolDestroy.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbPoolDestroy.throughput" Type="Double">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbPoolDestroy.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbPoolDestroy.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbPoolAvailable.active" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbPoolAvailable.active" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbPoolAvailable.active" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
   <Column Name="ejbPoolFailed.completed" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbPoolFailed.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbPoolFailed.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="ejbPoolFailed.throughput" Type="Double">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbPoolFailed.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbPoolFailed.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="ejbTransactionCommit.completed" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbTransactionCommit.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbTransactionCommit.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="ejbTransactionCommit.throughput" Type="Double">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbTransactionCommit.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbTransactionCommit.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="ejbTransactionRollback.completed" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbTransactionRollback.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbTransactionRollback.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="ejbTransactionRollback.throughput" Type="Double">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbTransactionRollback.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbTransactionRollback.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="ejbTransactionTimeout.completed" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbTransactionTimeout.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbTransactionTimeout.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="ejbTransactionTimeout.throughput" Type="Double">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbTransactionTimeout.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbTransactionTimeout.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="ejbTransactionCommit.percentage" Type="Double">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbTransactionCommit.percentage" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbTransactionCommit.percentage" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="mdbMessage.completed" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="mdbMessage.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="mdbMessage.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="mdbMessage.throughput" Type="Double">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="mdbMessage.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="mdbMessage.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="wmProcessed.throughput" Type="Double" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="wmProcessed.throughput" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="wmProcessed.throughput" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Column Name="wmPending.active" Type="Long" >
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="wmPending.active" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="wmPending.active" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
   </Column>
   <Where>
    <And>
     <Or>
      <Condition Type="String" Operator="EQ">
       <ColumnFrom Name="appName"/>
       <Value Name="appName.parameter"/>
      </Condition>
      <Condition Type="String" Operator="EQ">
       <Value Name="appName.parameter"
              xsi:nil="true"/>
       <Null/>
      </Condition>
     </Or>
     <Or>
      <Condition Type="String" Operator="EQ">
       <ColumnFrom Name="serverName"/>
       <Value Name="serverName.parameter"/>
      </Condition>
      <Condition Type="String" Operator="EQ">
       <Value Name="serverName.parameter"
              xsi:nil="true"/>
       <Null/>
      </Condition>
     </Or>
    </And>
   </Where>
   </Select>

   <!-- dont return rows for down apps bug 9596557-->
   <Select Name="app_overview_result_up_apps">
     <TableFrom Name="app_overview_result"/>
     <TableFrom Name="weblogic_j2eeserver:application"/>
     <Where>
       <And>
         <And>
           <Condition Type="String" Operator="EQ">
             <ColumnFrom Name="appName" Table="app_overview_result"/>
             <ColumnFrom Name="appName" Table="weblogic_j2eeserver:application"/>
           </Condition>
           <Condition Type="String" Operator="EQ">
             <ColumnFrom Name="serverName" Table="app_overview_result"/>
             <ColumnFrom Name="serverName" Table="weblogic_j2eeserver:application"/>
           </Condition>
         </And>
         <Condition Type="Integer" Operator="EQ">
           <ColumnFrom Name="Status" Table="weblogic_j2eeserver:application"/>
           <Value>1</Value>
         </Condition>
       </And>
     </Where>
   </Select>
 </Table> 

 <!-- web_module_info (internal) 
      This metric lists the web module name, internal name and session information -->
 <Table Name="web_module_info">

  <ColumnDef Name="name" Type="String" Key="true"/>
  <ColumnDef Name="internal_name" Type="String"/>
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="session.active" Type="Long"/>

  <Select Name="web_module_info_result">
   <TableFrom Name="weblogic.management.runtime.WebAppComponentRuntimeMBean"/>
   <TableFrom Name="weblogic_j2eeserver:application_names"/>

   <Column Name="name" Type="String">
    <ColumnFrom Name="ComponentName" 
                Table="weblogic.management.runtime.WebAppComponentRuntimeMBean"/>
   </Column>

   <Column Name="internal_name" Type="String">
    <ColumnFrom Name="Name" 
                Table="weblogic.management.runtime.WebAppComponentRuntimeMBean"/>
   </Column>

   <Column Name="appName" Type="String">
     <ColumnFrom Name="displayAppName"
                 Table="weblogic_j2eeserver:application_names"/>
   </Column>

   <Column Name="serverName" Type="String">
    <ColumnFrom Name="ServerRuntime"
                Table="weblogic.management.runtime.WebAppComponentRuntimeMBean"/>
   </Column>

   <Column Name="session.active" Type="Long">
    <ColumnFrom Name="OpenSessionsCurrentCount"
                Table="weblogic.management.runtime.WebAppComponentRuntimeMBean"/>
   </Column>

    <Where>
     <And>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="runtimeAppName"
                   Table="weblogic_j2eeserver:application_names"/>
       <ColumnFrom Name="ApplicationRuntime"
                   Table="weblogic.management.runtime.WebAppComponentRuntimeMBean"/>
      </Condition>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName"
                   Table="weblogic_j2eeserver:application_names"/>
       <ColumnFrom Name="ServerRuntime"
                   Table="weblogic.management.runtime.WebAppComponentRuntimeMBean"/>
      </Condition>
     </And>
    </Where>
  </Select>

 </Table> <!-- web_module_info -->

 <!-- servlet_jsp_no_rate (internal) 
      This metric contains execution time statistics for servlets and JSPs -->
 <Table Name="servlet_jsp_no_rate">

  <ColumnDef Name="name" Type="String" Key="true"/>
  <ColumnDef Name="webModuleName" Type="String" Key="true"/>
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="service.totalTime" Type="Long"/>
  <ColumnDef Name="service.completed" Type="Long"/>
  <ColumnDef Name="reload.completed" Type="Long"/>

  <Select Name="servlet_jsp_no_rate_with_internal_name">
   <TableFrom Name="weblogic.management.runtime.ServletRuntimeMBean"/>
   <TableFrom Name="weblogic_j2eeserver:application_names"/>

   <Column Name="name" Type="String">
    <ColumnFrom Name="Name" 
                Table="weblogic.management.runtime.ServletRuntimeMBean"/>
   </Column>

   <Column Name="internal_web_module_name" Type="String">
    <ColumnFrom Name="WebAppComponentRuntime"
                Table="weblogic.management.runtime.ServletRuntimeMBean"/>
   </Column>

   <Column Name="appName" Type="String">
     <ColumnFrom Name="displayAppName"
                 Table="weblogic_j2eeserver:application_names"/>
   </Column>

   <Column Name="serverName" Type="String">
    <ColumnFrom Name="ServerRuntime"
                Table="weblogic.management.runtime.ServletRuntimeMBean"/>
   </Column>

   <Column Name="service.totalTime" Type="Long">
    <ColumnFrom Name="ExecutionTimeTotal"
                Table="weblogic.management.runtime.ServletRuntimeMBean"/>
   </Column>
 
   <Column Name="service.completed" Type="Long">
    <ColumnFrom Name="InvocationTotalCount"
                Table="weblogic.management.runtime.ServletRuntimeMBean"/>
   </Column>
 
   <Column Name="reload.completed" Type="Long">
    <ColumnFrom Name="ReloadTotalCount"
                Table="weblogic.management.runtime.ServletRuntimeMBean"/>
   </Column>

   <Where>
     <And>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="runtimeAppName"
                   Table="weblogic_j2eeserver:application_names"/>
       <ColumnFrom Name="ApplicationRuntime"
                   Table="weblogic.management.runtime.ServletRuntimeMBean"/>
      </Condition>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName"
                   Table="weblogic_j2eeserver:application_names"/>
       <ColumnFrom Name="ServerRuntime"
                   Table="weblogic.management.runtime.ServletRuntimeMBean"/>
      </Condition>
     </And>
   </Where>
 
  </Select>

  <Select Name="servlet_jsp_no_rate_result">
   <TableFrom Name="servlet_jsp_no_rate_with_internal_name"/>
   <TableFrom Name="weblogic_j2eeserver:web_module_info"/>
  
   <Column Name="name" Type="String">
    <ColumnFrom Name="name" Table="servlet_jsp_no_rate_with_internal_name"/>
   </Column>

   <Column Name="webModuleName" Type="String">
    <ColumnFrom Name="name" Table="weblogic_j2eeserver:web_module_info"/>
   </Column>

   <Column Name="appName" Type="String">
    <ColumnFrom Name="appName" Table="servlet_jsp_no_rate_with_internal_name"/>
   </Column>

   <Column Name="serverName" Type="String">
    <ColumnFrom Name="serverName" Table="servlet_jsp_no_rate_with_internal_name"/>
   </Column>

   <Column Name="service.totalTime" Type="Long">
    <ColumnFrom Name="service.totalTime" Table="servlet_jsp_no_rate_with_internal_name"/>
   </Column>
 
   <Column Name="service.completed" Type="Long">
    <ColumnFrom Name="service.completed" Table="servlet_jsp_no_rate_with_internal_name"/>
   </Column>
 
   <Column Name="reload.completed" Type="Long">
    <ColumnFrom Name="reload.completed" Table="servlet_jsp_no_rate_with_internal_name"/>
   </Column>

   <Where>
    <And>
     <Condition Operator="EQ" Type="String">
      <ColumnFrom Name="internal_web_module_name"
                  Table="servlet_jsp_no_rate_with_internal_name"/>
      <ColumnFrom Name="internal_name"
                  Table="weblogic_j2eeserver:web_module_info"/>
     </Condition>
     <And>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="appName"
                   Table="servlet_jsp_no_rate_with_internal_name"/>
       <ColumnFrom Name="appName"
                   Table="weblogic_j2eeserver:web_module_info"/>
      </Condition>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName"
                   Table="servlet_jsp_no_rate_with_internal_name"/>
       <ColumnFrom Name="serverName"
                   Table="weblogic_j2eeserver:web_module_info"/>
      </Condition>
     </And>
    </And>
   </Where>

  </Select>
 
 </Table> <!-- servlet_jsp_no_rate -->

 <!-- servlet_jsp (published) 
      This metric contains execution time statistics for servlets and JSPs -->
 <Table Name="servlet_jsp">

  <ColumnDef Name="name" Type="String" Key="true"/>
  <ColumnDef Name="webModuleName" Type="String" Key="true"/>
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="service.throughput" Type="Double"/>
  <ColumnDef Name="service.time" Type="Double"/>
  <ColumnDef Name="service.totalTime" Type="Double"/>
  <ColumnDef Name="service.avg" Type="Double"/>
  <ColumnDef Name="service.completed" Type="Long"/>
  <ColumnDef Name="reload.completed" Type="Long"/>
  <ColumnDef Name="reload.throughput" Type="Double"/>
   
  <Select Name="servlet_jsp_result">
   <TableFrom Name="weblogic_j2eeserver:servlet_jsp_no_rate"/>
   
   <Column Name="name" Type="String"/>
   <Column Name="webModuleName" Type="String"/>
   <Column Name="appName" Type="String"/>
   <Column Name="serverName" Type="String"/>
   <Column Name="service.completed" Type="Long"/>
   <Column Name="service.totalTime" Type="Long"/>

   <Column Name="service.throughput" Type="Double">
    <Expression Operator="Mult">
     <Rate Interval="300000">
      <ColumnFrom Name="service.completed"/>
      <Default>0</Default>
     </Rate>
     <Value>60.0</Value>
    </Expression>
   </Column>

   <Column Name="service.time" Type="Double">
    <Rate Interval="300000">
     <ColumnFrom Name="service.totalTime"/>
     <ColumnFrom Name="service.completed"/>
     <Default>0</Default>
    </Rate>
   </Column>

   <Column Name="service.avg" Type="Double">
     <Expression Operator="Div">
       <ColumnFrom Name="service.totalTime"/>
       <ColumnFrom Name="service.completed"/>
     </Expression>
     <Default>0</Default>
   </Column>

   <Column Name="reload.completed" Type="Long"/>
   <Column Name="reload.throughput" Type="Double">
    <Expression Operator="Mult">
     <Rate Interval="300000">
      <ColumnFrom Name="reload.completed"/>
      <Default>0</Default>
     </Rate>
     <Value>60.0</Value>
    </Expression>
   </Column>

   <Where>
    <And>
     <Or>
      <Condition Type="String" Operator="EQ">
       <ColumnFrom Name="name"/>
       <Value Name="name.parameter"/>
      </Condition>
      <Condition Type="String" Operator="EQ">
       <Value Name="name.parameter"
              xsi:nil="true"/>
       <Null/>
      </Condition>
     </Or>
     <Or>
      <Condition Type="String" Operator="EQ">
       <ColumnFrom Name="webModuleName"/>
       <Value Name="webModuleName.parameter"/>
      </Condition>
      <Condition Type="String" Operator="EQ">
       <Value Name="webModuleName.parameter"
              xsi:nil="true"/>
       <Null/>
      </Condition>
     </Or>
     <Or>
      <Condition Type="String" Operator="EQ">
       <ColumnFrom Name="appName"/>
       <Value Name="appName.parameter"/>
      </Condition>
      <Condition Type="String" Operator="EQ">
       <Value Name="appName.parameter"
              xsi:nil="true"/>
       <Null/>
      </Condition>
     </Or>
     <Or>
      <Condition Type="String" Operator="EQ">
       <ColumnFrom Name="serverName"/>
       <Value Name="serverName.parameter"/>
      </Condition>
      <Condition Type="String" Operator="EQ">
       <Value Name="serverName.parameter"
              xsi:nil="true"/>
       <Null/>
      </Condition>
     </Or>
    </And>
   </Where>

  </Select>

 </Table> <!-- servlet_jsp -->

 <!-- web_module_no_rate (internal) 
      This metric contains session and execution time statistics for Web Modules -->
 <Table Name="web_module_no_rate">

  <ColumnDef Name="name" Type="String" Key="true"/>
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="service.totalTime" Type="Long"/>
  <ColumnDef Name="service.completed" Type="Long"/>
  <ColumnDef Name="session.active" Type="Long"/>

   <Select Name="web_module_no_rate_result">
    <TableFrom Name="weblogic_j2eeserver:servlet_jsp_no_rate"/>
    <TableFrom Name="weblogic_j2eeserver:web_module_info" OuterJoined="true"/>
 
   <Column Name="name" Type="String">
    <ColumnFrom Name="name" Table="weblogic_j2eeserver:web_module_info"/>
   </Column>

   <Column Name="appName" Type="String">
    <ColumnFrom Name="appName" Table="weblogic_j2eeserver:web_module_info"/>
   </Column>

   <Column Name="serverName" Type="String">
    <ColumnFrom Name="serverName" Table="weblogic_j2eeserver:web_module_info"/>
   </Column>

   <Column Name="service.totalTime" Type="Long">
    <Aggregation Operator="Sum" Name="service.totalTime" 
                 Table="weblogic_j2eeserver:servlet_jsp_no_rate"/>
    <Default>0</Default>
   </Column>
 
   <Column Name="service.completed" Type="Long">
    <Aggregation Operator="Sum" Name="service.completed" 
                 Table="weblogic_j2eeserver:servlet_jsp_no_rate"/>
    <Default>0</Default>
   </Column>
 
   <Column Name="session.active" Type="Long">
    <Aggregation Operator="Sum" Name="session.active" 
                 Table="weblogic_j2eeserver:web_module_info"/>
   </Column>

   <GroupBy Name="name"/>
   <GroupBy Name="appName"/>
   <GroupBy Name="serverName"/>

   <Where>
    <And>
     <Condition Operator="EQ" Type="String">
      <ColumnFrom Name="webModuleName"
                  Table="weblogic_j2eeserver:servlet_jsp_no_rate"/>
      <ColumnFrom Name="name"
                  Table="weblogic_j2eeserver:web_module_info"/>
     </Condition>
     <And>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="appName"
                   Table="weblogic_j2eeserver:servlet_jsp_no_rate"/>
       <ColumnFrom Name="appName"
                   Table="weblogic_j2eeserver:web_module_info"/>
      </Condition>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName"
                   Table="weblogic_j2eeserver:servlet_jsp_no_rate"/>
       <ColumnFrom Name="serverName"
                   Table="weblogic_j2eeserver:web_module_info"/>
      </Condition>
     </And>
    </And>
   </Where>

  </Select>
 </Table> <!-- web_module_no_rate -->

 <!-- web_module (published)
      This metric contains session and execution time statistics for Web Modules -->
 <Table Name="web_module">

  <ColumnDef Name="name" Type="String" Key="true"/>
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="service.throughput" Type="Double"/>
  <ColumnDef Name="service.time" Type="Double"/>
  <ColumnDef Name="service.totalTime" Type="Double"/>
  <ColumnDef Name="service.completed" Type="Long"/>
  <ColumnDef Name="session.active" Type="Long"/>

  <Select Name="web_module_result">
    <TableFrom Name="weblogic_j2eeserver:web_module_no_rate"/>

   <Column Name="name" Type="String"/>
   <Column Name="appName" Type="String"/>
   <Column Name="serverName" Type="String"/>
   <Column Name="service.completed" Type="Long"/>
   <Column Name="service.totalTime" Type="Long"/>

   <Column Name="service.throughput" Type="Double">
    <Expression Operator="Mult">
     <Rate Interval="300000">
      <ColumnFrom Name="service.completed"/>
      <Default>0</Default>
     </Rate>
     <Value>60.0</Value>
    </Expression>
   </Column>

   <Column Name="service.time" Type="Double">
    <Rate Interval="300000">
     <ColumnFrom Name="service.totalTime"/>
     <ColumnFrom Name="service.completed"/>
     <Default>0</Default>
    </Rate>
   </Column>

   <Column Name="session.active" Type="Long"/>

   <Where>
    <And>
     <Or>
      <Condition Type="String" Operator="EQ">
       <ColumnFrom Name="name"/>
       <Value Name="name.parameter"/>
      </Condition>
      <Condition Type="String" Operator="EQ">
       <Value Name="name.parameter"
              xsi:nil="true"/>
       <Null/>
      </Condition>
     </Or>
     <Or>
      <Condition Type="String" Operator="EQ">
       <ColumnFrom Name="appName"/>
       <Value Name="appName.parameter"/>
      </Condition>
      <Condition Type="String" Operator="EQ">
       <Value Name="appName.parameter"
              xsi:nil="true"/>
       <Null/>
      </Condition>
     </Or>
     <Or>
      <Condition Type="String" Operator="EQ">
       <ColumnFrom Name="serverName"/>
       <Value Name="serverName.parameter"/>
      </Condition>
      <Condition Type="String" Operator="EQ">
       <Value Name="serverName.parameter"
              xsi:nil="true"/>
       <Null/>
      </Condition>
     </Or>
    </And>
   </Where>

  </Select>
 </Table> <!-- web_module -->

 <!-- Metrics for the EJB Pool (internal) -->
 <Table Name="ejb_pool_no_rate">

  <ColumnDef Name="name" Type="String" Key="true"/>
  <ColumnDef Name="ejbModuleName" Type="String" Key="true"/>
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="ejbPoolAccess.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolUsed.active" Type="Long"/>
  <ColumnDef Name="ejbPoolDestroy.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolFailed.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolAvailable.active" Type="Long"/>

  <Select Name="ejb_pool_no_rate_result">
   <TableFrom Name="weblogic.management.runtime.EJBPoolRuntimeMBean"/>
   <TableFrom Name="weblogic_j2eeserver:application_names"/>

   <Column Name="name" Type="String">
    <ColumnFrom Name="Name"
                Table="weblogic.management.runtime.EJBPoolRuntimeMBean"/>
   </Column>

   <Column Name="ejbModuleName" Type="String">
    <ColumnFrom Name="EJBComponentRuntime"
                Table="weblogic.management.runtime.EJBPoolRuntimeMBean"/>
   </Column>

   <Column Name="appName" Type="String">
     <ColumnFrom Name="displayAppName"
                 Table="weblogic_j2eeserver:application_names"/>
   </Column>
 
   <Column Name="serverName" Type="String">
    <ColumnFrom Name="ServerRuntime"
                Table="weblogic.management.runtime.EJBPoolRuntimeMBean"/>
   </Column>

   <Column Name="ejbPoolAccess.completed" Type="Long">
    <ColumnFrom Name="AccessTotalCount"
                Table="weblogic.management.runtime.EJBPoolRuntimeMBean"/>
   </Column>

   <Column Name="ejbPoolUsed.active" Type="Long">
    <ColumnFrom Name="BeansInUseCurrentCount"
                Table="weblogic.management.runtime.EJBPoolRuntimeMBean"/>
   </Column>

   <Column Name="ejbPoolDestroy.completed" Type="Long">
    <ColumnFrom Name="DestroyedTotalCount"
                Table="weblogic.management.runtime.EJBPoolRuntimeMBean"/>
   </Column>

   <Column Name="ejbPoolFailed.completed" Type="Long">
    <ColumnFrom Name="MissTotalCount"
                Table="weblogic.management.runtime.EJBPoolRuntimeMBean"/>
   </Column>

   <Column Name="ejbPoolAvailable.active" Type="Long">
    <ColumnFrom Name="PooledBeansCurrentCount"
                Table="weblogic.management.runtime.EJBPoolRuntimeMBean"/>
   </Column>

   <Where>
     <And>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="runtimeAppName"
                   Table="weblogic_j2eeserver:application_names"/>
       <ColumnFrom Name="ApplicationRuntime"
                   Table="weblogic.management.runtime.EJBPoolRuntimeMBean"/>
      </Condition>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName"
                   Table="weblogic_j2eeserver:application_names"/>
       <ColumnFrom Name="ServerRuntime"
                   Table="weblogic.management.runtime.EJBPoolRuntimeMBean"/>
      </Condition>
     </And>
   </Where>
 
  </Select>
 </Table> <!-- ejb_pool_no_rate -->

 <!-- ejb_pool (published) -->
 <Table Name="ejb_pool">
  <ColumnDef Name="name" Type="String" Key="true"/>
  <ColumnDef Name="ejbModuleName" Type="String" Key="true"/>
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="ejbPoolAccess.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolAccess.throughput" Type="Double"/>
  <ColumnDef Name="ejbPoolUsed.active" Type="Long"/>
  <ColumnDef Name="ejbPoolDestroy.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolDestroy.throughput" Type="Double"/>
  <ColumnDef Name="ejbPoolFailed.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolAccessSuccess.percentage" Type="Double"/>
  <ColumnDef Name="ejbPoolFailed.throughput" Type="Double"/>
  <ColumnDef Name="ejbPoolAvailable.active" Type="Long"/>

  <Select Name="ejb_pool_result1">
   <TableFrom Name="weblogic_j2eeserver:ejb_pool_no_rate"/>

   <Column Name="name" Type="String"/>
   <Column Name="ejbModuleName" Type="String"/>
   <Column Name="appName" Type="String"/>
   <Column Name="serverName" Type="String"/>
   <Column Name="ejbPoolAccess.completed" Type="Long"/>
   <Column Name="ejbPoolAccess.throughput" Type="Double">
    <Expression Operator="Mult">
     <Rate Interval="300000">
      <ColumnFrom Name="ejbPoolAccess.completed"/>
      <Default>0</Default>
     </Rate>
     <Value>60.0</Value>
    </Expression>
   </Column>
   <Column Name="ejbPoolAccess.completed.previous" Type="Long">
    <Previous Interval="300000" Index="0">
      <ColumnFrom Name="ejbPoolAccess.completed"/>
     <Default>0</Default>
    </Previous>
   </Column>
   <Column Name="ejbPoolUsed.active" Type="Long"/>
   <Column Name="ejbPoolDestroy.completed" Type="Long"/>
   <Column Name="ejbPoolDestroy.throughput" Type="Double">
    <Expression Operator="Mult">
     <Rate Interval="300000">
      <ColumnFrom Name="ejbPoolDestroy.completed"/>
      <Default>0</Default>
     </Rate>
     <Value>60.0</Value>
    </Expression>
   </Column>
   <Column Name="ejbPoolFailed.completed" Type="Long"/>
   <Column Name="ejbPoolFailed.throughput" Type="Double">
    <Expression Operator="Mult">
     <Rate Interval="300000">
      <ColumnFrom Name="ejbPoolFailed.completed"/>
      <Default>0</Default>
     </Rate>
     <Value>60.0</Value>
    </Expression>
   </Column>
   <Column Name="ejbPoolFailed.completed.previous" Type="Long">
    <Previous Interval="300000" Index="0">
      <ColumnFrom Name="ejbPoolFailed.completed"/>
     <Default>0</Default>
    </Previous>
   </Column>
   <Column Name="ejbPoolAvailable.active" Type="Long"/>

 </Select>

 <Select Name="ejb_pool_result">
   <TableFrom Name="ejb_pool_result1"/>

   <Column Name="name" Type="String" Key="true"/>
   <Column Name="ejbModuleName" Type="String" Key="true"/>
   <Column Name="appName" Type="String" Key="true"/>
   <Column Name="serverName" Type="String" Key="true"/>
   <Column Name="ejbPoolAccess.completed" Type="Long"/>
   <Column Name="ejbPoolAccess.throughput" Type="Double"/>
   <Column Name="ejbPoolUsed.active" Type="Long"/>
   <Column Name="ejbPoolDestroy.completed" Type="Long"/>
   <Column Name="ejbPoolDestroy.throughput" Type="Double"/>
   <Column Name="ejbPoolFailed.completed" Type="Long"/>
   <Column Name="ejbPoolFailed.throughput" Type="Double"/>
   <Column Name="ejbPoolAvailable.active" Type="Long"/>
   <Column Name="poolAccess.deltaCompleted" Type="Long">
    <If>
     <Condition Operator="GT">
      <ColumnFrom Name="ejbPoolAccess.completed.previous"/>
      <ColumnFrom Name="ejbPoolAccess.completed"/>
     </Condition>
    <Then>
      <!-- Server was restarted, just use completed -->
      <ColumnFrom Name="ejbPoolAccess.completed"/>
    </Then>
    <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="ejbPoolAccess.completed"/>
        <ColumnFrom Name="ejbPoolAccess.completed.previous"/>
      </Expression>
    </Else>
    </If>
    <Default>0</Default>
   </Column>

   <Column Name="poolFailed.deltaCompleted" Type="Long">
    <If>
     <Condition Operator="GT">
      <ColumnFrom Name="ejbPoolFailed.completed.previous"/>
      <ColumnFrom Name="ejbPoolFailed.completed"/>
     </Condition>
    <Then>
      <!-- Server was restarted, just use completed -->
      <ColumnFrom Name="ejbPoolFailed.completed"/>
    </Then>
    <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="ejbPoolFailed.completed"/>
        <ColumnFrom Name="ejbPoolFailed.completed.previous"/>
      </Expression>
    </Else>
    </If>
    <Default>0</Default>
   </Column>

   <Column Name="ejbPoolAccessSuccess.percentage" Type="Double">
    <Expression Operator="Div">
     <Expression Operator="Mult">
      <Expression Operator="Minus">
        <ColumnFrom Name="poolAccess.deltaCompleted"/>
        <ColumnFrom Name="poolFailed.deltaCompleted"/>
      </Expression>
      <Value>100.0</Value>
     </Expression>
     <ColumnFrom Name="poolAccess.deltaCompleted"/>
    </Expression>
    <Default>0</Default>
   </Column>

   <Where>
    <And>
     <Or>
      <Condition Type="String" Operator="EQ">
       <ColumnFrom Name="name"/>
       <Value Name="name.parameter"/>
      </Condition>
      <Condition Type="String" Operator="EQ">
       <Value Name="name.parameter"
              xsi:nil="true"/>
       <Null/>
      </Condition>
     </Or>
     <Or>
      <Condition Type="String" Operator="EQ">
       <ColumnFrom Name="ejbModuleName"/>
       <Value Name="ejbModuleName.parameter"/>
      </Condition>
      <Condition Type="String" Operator="EQ">
       <Value Name="ejbModuleName.parameter"
              xsi:nil="true"/>
       <Null/>
      </Condition>
     </Or>
     <Or>
      <Condition Type="String" Operator="EQ">
       <ColumnFrom Name="appName"/>
       <Value Name="appName.parameter"/>
      </Condition>
      <Condition Type="String" Operator="EQ">
       <Value Name="appName.parameter"
              xsi:nil="true"/>
       <Null/>
      </Condition>
     </Or>
     <Or>
      <Condition Type="String" Operator="EQ">
       <ColumnFrom Name="serverName"/>
       <Value Name="serverName.parameter"/>
      </Condition>
      <Condition Type="String" Operator="EQ">
       <Value Name="serverName.parameter"
              xsi:nil="true"/>
       <Null/>
      </Condition>
     </Or>
    </And>
   </Where>
 
 </Select>

 </Table> <!-- ejb_pool -->

 <!-- ejb_module_no_rate (internal) -->
 <Table Name="ejb_module_no_rate">
  <ColumnDef Name="ejbModuleName" Type="String" Key="true"/>
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="ejbCacheActivation.completed" Type="Long"/>
  <ColumnDef Name="ejbCacheAccess.completed" Type="Long"/>
  <ColumnDef Name="ejbCache.active" Type="Long"/>
  <ColumnDef Name="ejbCacheMiss.completed" Type="Long"/>
  <ColumnDef Name="ejbCachePassivation.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolAccess.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolUsed.active" Type="Long"/>
  <ColumnDef Name="ejbPoolDestroy.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolFailed.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolAvailable.active" Type="Long"/>
  <ColumnDef Name="ejbTransactionCommit.completed" Type="Long"/>
  <ColumnDef Name="ejbTransactionRollback.completed" Type="Long"/>
  <ColumnDef Name="ejbTransactionTimeout.completed" Type="Long"/>
  <ColumnDef Name="mdbMessage.completed" Type="Long"/>

  <Select Name="pool">
   <TableFrom Name="weblogic.management.runtime.EJBPoolRuntimeMBean"/>
    <Column Name="ejbModuleName" Type="String">
      <ColumnFrom Name="EJBComponentRuntime"/>
    </Column>
    <Column Name="appName" Type="String">
      <ColumnFrom Name="ApplicationRuntime"/>
    </Column>
    <Column Name="serverName" Type="String">
       <ColumnFrom Name="ServerRuntime"/>
    </Column>
    <Column Name="ejbPoolAccess.completed" Type="Long">
     <Aggregation Operator="Sum" Name="AccessTotalCount"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbPoolUsed.active" Type="Long">
     <Aggregation Operator="Sum" Name="BeansInUseCurrentCount"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbPoolDestroy.completed" Type="Long">
     <Aggregation Operator="Sum" Name="DestroyedTotalCount"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbPoolFailed.completed" Type="Long">
     <Aggregation Operator="Sum" Name="MissTotalCount"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbPoolAvailable.active" Type="Long">
     <Aggregation Operator="Sum" Name="PooledBeansCurrentCount"/>
     <Default>0</Default>
    </Column>
   <GroupBy Name="ejbModuleName"/>
   <GroupBy Name="appName"/>
   <GroupBy Name="serverName"/>
  </Select>

  <Select Name="cache">
   <TableFrom Name="weblogic.management.runtime.EJBCacheRuntimeMBean"/>
    <Column Name="ejbModuleName" Type="String">
      <ColumnFrom Name="EJBComponentRuntime"/>
    </Column>
    <Column Name="appName" Type="String">
      <ColumnFrom Name="ApplicationRuntime"/>
    </Column>
    <Column Name="serverName" Type="String">
       <ColumnFrom Name="ServerRuntime"/>
    </Column>
    <Column Name="ejbCacheActivation.completed" Type="Long">
     <Aggregation Operator="Sum" Name="ActivationCount"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbCacheAccess.completed" Type="Long">
     <Aggregation Operator="Sum" Name="CacheAccessCount"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbCache.active" Type="Long">
     <Aggregation Operator="Sum" Name="CachedBeansCurrentCount" />
     <Default>0</Default>
    </Column>
    <Column Name="ejbCacheMiss.completed" Type="Long">
     <Aggregation Operator="Sum" Name="CacheMissCount"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbCachePassivation.completed" Type="Long">
     <Aggregation Operator="Sum" Name="PassivationCount" />
     <Default>0</Default>
    </Column>
   <GroupBy Name="ejbModuleName"/>
   <GroupBy Name="appName"/>
   <GroupBy Name="serverName"/>
  </Select>

  <Select Name="pool_cache">
   <TableFrom Name="pool" OuterJoined="true"/>
   <TableFrom Name="cache" OuterJoined="true"/>
    <Column Name="ejbModuleName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbModuleName" Table="pool"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="ejbModuleName" Table="pool"/>
     </Then>
     <Else>
      <ColumnFrom Name="ejbModuleName" Table="cache"/>
     </Else>
     </If>
    </Column>
    <Column Name="appName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="appName" Table="pool"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="appName" Table="pool"/>
     </Then>
     <Else>
      <ColumnFrom Name="appName" Table="cache"/>
     </Else>
     </If>
    </Column>
    <Column Name="serverName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="serverName" Table="pool"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="serverName" Table="pool"/>
     </Then>
     <Else>
      <ColumnFrom Name="serverName" Table="cache"/>
     </Else>
     </If>
    </Column>
    <Column Name="ejbPoolAccess.completed" Type="Long" Table="pool"/>
    <Column Name="ejbPoolUsed.active" Type="Long" Table="pool"/>
    <Column Name="ejbPoolDestroy.completed" Type="Long" Table="pool"/>
    <Column Name="ejbPoolFailed.completed" Type="Long" Table="pool"/>
    <Column Name="ejbPoolAvailable.active" Type="Long" Table="pool"/>
    <Column Name="ejbCacheActivation.completed" Type="Long" Table="cache"/>
    <Column Name="ejbCacheAccess.completed" Type="Long" Table="cache"/>
    <Column Name="ejbCache.active" Type="Long" Table="cache"/>
    <Column Name="ejbCacheMiss.completed" Type="Long" Table="cache"/>
    <Column Name="ejbCachePassivation.completed" Type="Long" Table="cache"/>
   <Where>
     <And>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="ejbModuleName" Table="pool"/>
       <ColumnFrom Name="ejbModuleName" Table="cache"/>
      </Condition>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="appName" Table="pool"/>
       <ColumnFrom Name="appName" Table="cache"/>
      </Condition>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName" Table="pool"/>
       <ColumnFrom Name="serverName" Table="cache"/>
      </Condition>
     </And>
    </Where>
  </Select>

  <Select Name="txn">
   <TableFrom Name="weblogic.management.runtime.EJBTransactionRuntimeMBean" />
    <Column Name="ejbModuleName" Type="String">
      <ColumnFrom Name="EJBComponentRuntime"/>
    </Column>
    <Column Name="appName" Type="String">
      <ColumnFrom Name="ApplicationRuntime"/>
    </Column>
    <Column Name="serverName" Type="String">
      <ColumnFrom Name="ServerRuntime"/>
    </Column>
    <Column Name="ejbTransactionCommit.completed" Type="Long">
     <Aggregation Operator="Sum" Name="TransactionsCommittedTotalCount"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbTransactionRollback.completed" Type="Long">
     <Aggregation Operator="Sum" Name="TransactionsRolledBackTotalCount"/>
     <Default>0</Default>
    </Column>
    <Column Name="ejbTransactionTimeout.completed" Type="Long">
     <Aggregation Operator="Sum" Name="TransactionsTimedOutTotalCount"/>
     <Default>0</Default>
    </Column>
   <GroupBy Name="ejbModuleName"/>
   <GroupBy Name="appName"/>
   <GroupBy Name="serverName"/>
  </Select>

  <Select Name="mdb">
   <TableFrom Name="weblogic.management.runtime.MessageDrivenEJBRuntimeMBean"/>
    <Column Name="ejbModuleName" Type="String">
      <ColumnFrom Name="EJBComponentRuntime"/>
    </Column>
    <Column Name="appName" Type="String">
      <ColumnFrom Name="ApplicationRuntime"/>
    </Column>
    <Column Name="serverName" Type="String">
      <ColumnFrom Name="ServerRuntime"/>
    </Column>
   <Column Name="mdbMessage.completed" Type="Long">
    <Aggregation Operator="Sum" Name="ProcessedMessageCount" />
    <Default>0</Default>
   </Column>
   <GroupBy Name="ejbModuleName"/>
   <GroupBy Name="appName"/>
   <GroupBy Name="serverName"/>
  </Select>

  <Select Name="txn_mdb">
   <TableFrom Name="txn" OuterJoined="true"/>
   <TableFrom Name="mdb" OuterJoined="true"/>
    <Column Name="ejbModuleName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbModuleName" Table="txn"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="ejbModuleName" Table="txn"/>
     </Then>
     <Else>
      <ColumnFrom Name="ejbModuleName" Table="mdb"/>
     </Else>
     </If>
    </Column>
    <Column Name="appName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="appName" Table="txn"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="appName" Table="txn"/>
     </Then>
     <Else>
      <ColumnFrom Name="appName" Table="mdb"/>
     </Else>
     </If>
    </Column>
    <Column Name="serverName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="serverName" Table="txn"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="serverName" Table="txn"/>
     </Then>
     <Else>
      <ColumnFrom Name="serverName" Table="mdb"/>
     </Else>
     </If>
    </Column>
    <Column Name="ejbTransactionCommit.completed" Type="Long" Table="txn"/>
    <Column Name="ejbTransactionRollback.completed" Type="Long" Table="txn"/>
    <Column Name="ejbTransactionTimeout.completed" Type="Long" Table="txn"/>
    <Column Name="mdbMessage.completed" Type="Long" Table="mdb"/>
   <Where>
     <And>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="ejbModuleName" Table="txn"/>
       <ColumnFrom Name="ejbModuleName" Table="mdb"/>
      </Condition>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="appName" Table="txn"/>
       <ColumnFrom Name="appName" Table="mdb"/>
      </Condition>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName" Table="txn"/>
       <ColumnFrom Name="serverName" Table="mdb"/>
      </Condition>
     </And>
    </Where>
  </Select>

  <Select Name="ejb_module_no_rate_result_old">
   <TableFrom Name="pool_cache" OuterJoined="true"/>
   <TableFrom Name="txn_mdb" OuterJoined="true"/>
    <Column Name="ejbModuleName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbModuleName" Table="pool_cache"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="ejbModuleName" Table="pool_cache"/>
     </Then>
     <Else>
      <ColumnFrom Name="ejbModuleName" Table="txn_mdb"/>
     </Else>
     </If>
    </Column>
    <Column Name="appName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="appName" Table="pool_cache"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="appName" Table="pool_cache"/>
     </Then>
     <Else>
      <ColumnFrom Name="appName" Table="txn_mdb"/>
     </Else>
     </If>
    </Column>
    <Column Name="serverName" Type="String">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="serverName" Table="pool_cache"/>
       <Null/>
      </Condition>
     <Then>
      <ColumnFrom Name="serverName" Table="pool_cache"/>
     </Then>
     <Else>
      <ColumnFrom Name="serverName" Table="txn_mdb"/>
     </Else>
     </If>
    </Column>
    <Column Name="ejbPoolAccess.completed" Type="Long" Table="pool_cache"/>
    <Column Name="ejbPoolUsed.active" Type="Long" Table="pool_cache"/>
    <Column Name="ejbPoolDestroy.completed" Type="Long" Table="pool_cache"/>
    <Column Name="ejbPoolFailed.completed" Type="Long" Table="pool_cache"/>
    <Column Name="ejbPoolAvailable.active" Type="Long" Table="pool_cache"/>
    <Column Name="ejbCacheActivation.completed" Type="Long" Table="pool_cache"/>
    <Column Name="ejbCacheAccess.completed" Type="Long" Table="pool_cache"/>
    <Column Name="ejbCache.active" Type="Long" Table="pool_cache"/>
    <Column Name="ejbCacheMiss.completed" Type="Long" Table="pool_cache"/>
    <Column Name="ejbCachePassivation.completed" Type="Long" Table="pool_cache"/>
    <Column Name="ejbTransactionCommit.completed" Type="Long" Table="txn_mdb"/>
    <Column Name="ejbTransactionRollback.completed" Type="Long" Table="txn_mdb"/>
    <Column Name="ejbTransactionTimeout.completed" Type="Long" Table="txn_mdb"/>
    <Column Name="mdbMessage.completed" Type="Long" Table="txn_mdb"/>
   <Where>
     <And>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="ejbModuleName" Table="pool_cache"/>
       <ColumnFrom Name="ejbModuleName" Table="txn_mdb"/>
      </Condition>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="appName" Table="pool_cache"/>
       <ColumnFrom Name="appName" Table="txn_mdb"/>
      </Condition>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName" Table="pool_cache"/>
       <ColumnFrom Name="serverName" Table="txn_mdb"/>
      </Condition>
     </And>
    </Where>
  </Select>

  <Select Name="ejb_module_no_rate_result">
   <TableFrom Name="ejb_module_no_rate_result_old"/>
   <Column Name="ejbModuleName" Type="String" Key="true"/>
   <Column Name="appName" Type="String" Key="true"/>
   <Column Name="serverName" Type="String" Key="true"/>
   <Column Name="ejbCacheActivation.completed" Type="Long">
    <Default>0</Default>
   </Column>
   <Column Name="ejbCacheAccess.completed" Type="Long">
    <Default>0</Default>
   </Column>
   <Column Name="ejbCache.active" Type="Long">
    <Default>0</Default>
   </Column>
   <Column Name="ejbCacheMiss.completed" Type="Long">
    <Default>0</Default>
   </Column>
   <Column Name="ejbCachePassivation.completed" Type="Long">
    <Default>0</Default>
   </Column>
   <Column Name="ejbPoolAccess.completed" Type="Long">
    <Default>0</Default>
   </Column>
   <Column Name="ejbPoolUsed.active" Type="Long">
    <Default>0</Default>
   </Column>
   <Column Name="ejbPoolDestroy.completed" Type="Long">
    <Default>0</Default>
   </Column>
   <Column Name="ejbPoolFailed.completed" Type="Long">
    <Default>0</Default>
   </Column>
   <Column Name="ejbPoolAvailable.active" Type="Long">
    <Default>0</Default>
   </Column>
   <Column Name="ejbTransactionCommit.completed" Type="Long">
    <Default>0</Default>
   </Column>
   <Column Name="ejbTransactionRollback.completed" Type="Long">
    <Default>0</Default>
   </Column>
   <Column Name="ejbTransactionTimeout.completed" Type="Long">
    <Default>0</Default>
   </Column>
   <Column Name="mdbMessage.completed" Type="Long">
    <Default>0</Default>
   </Column>
   <Where>
    <Or>
      <Condition Operator="NE" Type="String">
       <ColumnFrom Name="appName"/>
       <Null/>
      </Condition>
      <Condition Operator="NE" Type="String">
       <ColumnFrom Name="serverName"/>
       <Null/>
      </Condition>
      <Condition Operator="NE" Type="String">
       <ColumnFrom Name="ejbModuleName"/>
       <Null/>
      </Condition>
    </Or>
   </Where>
  </Select>

 </Table> <!-- ejb_module_no_rate -->

 <!-- ejb_module (published) -->
 <Table Name="ejb_module">
  <ColumnDef Name="ejbModuleName" Type="String" Key="true"/>
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="ejbCacheActivation.completed" Type="Long"/>
  <ColumnDef Name="ejbCacheActivation.throughput" Type="Double"/>
  <ColumnDef Name="ejbCacheAccess.completed" Type="Long"/>
  <ColumnDef Name="ejbCacheAccess.throughput" Type="Double"/>
  <ColumnDef Name="ejbCache.active" Type="Long"/>
  <ColumnDef Name="ejbCacheMiss.completed" Type="Long"/>
  <ColumnDef Name="ejbCacheMiss.throughput" Type="Double"/>
  <ColumnDef Name="ejbCacheHit.percentage" Type="Double"/>
  <ColumnDef Name="ejbCachePassivation.completed" Type="Long"/>
  <ColumnDef Name="ejbCachePassivation.throughput" Type="Double"/>
  <ColumnDef Name="ejbPoolAccess.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolAccess.throughput" Type="Double"/>
  <ColumnDef Name="ejbPoolAccessSuccess.percentage" Type="Double"/>
  <ColumnDef Name="ejbPoolUsed.active" Type="Long"/>
  <ColumnDef Name="ejbPoolDestroy.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolDestroy.throughput" Type="Double"/>
  <ColumnDef Name="ejbPoolFailed.completed" Type="Long"/>
  <ColumnDef Name="ejbPoolFailed.throughput" Type="Double"/>
  <ColumnDef Name="ejbPoolAvailable.active" Type="Long"/>
  <ColumnDef Name="ejbTransactionCommit.completed" Type="Long"/>
  <ColumnDef Name="ejbTransactionCommit.throughput" Type="Double"/>
  <ColumnDef Name="ejbTransactionRollback.completed" Type="Long"/>
  <ColumnDef Name="ejbTransactionRollback.throughput" Type="Double"/>
  <ColumnDef Name="ejbTransactionTimeout.completed" Type="Long"/>
  <ColumnDef Name="ejbTransactionTimeout.throughput" Type="Double"/>
  <ColumnDef Name="mdbMessage.completed" Type="Long"/>
  <ColumnDef Name="mdbMessage.throughput" Type="Double"/>

  <!--  Create internal table ejb_module_result_1 which will contain values from
        ejb_module_no_rate, including throughput values and "previous" values that will
        be used in ejb_module_result to compute delta and percentage values.
        It will also get appName from application_names table so the app 
        version will be correctly represented -->
  <Select Name="ejb_module_result_1">
    <TableFrom Name="weblogic_j2eeserver:ejb_module_no_rate" />
    <TableFrom Name="weblogic_j2eeserver:application_names"/>
    
    <Column Name="ejbModuleName" Type="String" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
    <Column Name="appName" Type="String">
      <ColumnFrom Name="displayAppName"
                  Table="weblogic_j2eeserver:application_names"/>
    </Column>
    <Column Name="serverName" Type="String" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
    <Column Name="ejbCacheActivation.completed" Type="Long" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
    <Column Name="ejbCacheActivation.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="ejbCacheActivation.completed" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="ejbCacheAccess.completed" Type="Long" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
    <Column Name="ejbCacheAccess.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="ejbCacheAccess.completed" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="ejbCacheAccess.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
      <ColumnFrom Name="ejbCacheAccess.completed" Table="weblogic_j2eeserver:ejb_module_no_rate"/> 
      <Default>0</Default>
     </Previous>
    </Column>
    <Column Name="ejbCache.active" Type="Long" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
    <Column Name="ejbCacheMiss.completed" Type="Long" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
    <Column Name="ejbCacheMiss.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="ejbCacheMiss.completed" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="ejbCacheMiss.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
      <ColumnFrom Name="ejbCacheMiss.completed" Table="weblogic_j2eeserver:ejb_module_no_rate"/> 
      <Default>0</Default>
     </Previous>
    </Column>
    <Column Name="ejbCachePassivation.completed" Type="Long" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
    <Column Name="ejbCachePassivation.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="ejbCachePassivation.completed" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="ejbPoolAccess.completed" Type="Long" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
    <Column Name="ejbPoolAccess.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
      <ColumnFrom Name="ejbPoolAccess.completed" Table="weblogic_j2eeserver:ejb_module_no_rate"/> 
      <Default>0</Default>
     </Previous>
    </Column>
    <Column Name="ejbPoolAccess.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="ejbPoolAccess.completed" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="ejbPoolUsed.active" Type="Long" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
    <Column Name="ejbPoolDestroy.completed" Type="Long" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
    <Column Name="ejbPoolDestroy.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="ejbPoolDestroy.completed" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="ejbPoolFailed.completed" Type="Long" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
    <Column Name="ejbPoolFailed.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
        <ColumnFrom Name="ejbPoolFailed.completed" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
      <Default>0</Default>
     </Previous>
    </Column>
    <Column Name="ejbPoolFailed.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="ejbPoolFailed.completed" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="ejbPoolAvailable.active" Type="Long" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
    <Column Name="ejbTransactionCommit.completed" Type="Long" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
    <Column Name="ejbTransactionCommit.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="ejbTransactionCommit.completed" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="ejbTransactionRollback.completed" Type="Long" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
    <Column Name="ejbTransactionRollback.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="ejbTransactionRollback.completed" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="ejbTransactionTimeout.completed" Type="Long" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
    <Column Name="ejbTransactionTimeout.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="ejbTransactionTimeout.completed" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="mdbMessage.completed" Type="Long" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
    <Column Name="mdbMessage.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="mdbMessage.completed" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
   <Where>
     <And>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="runtimeAppName" Table="weblogic_j2eeserver:application_names"/>
       <ColumnFrom Name="appName" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
      </Condition>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName" Table="weblogic_j2eeserver:application_names"/>
       <ColumnFrom Name="serverName" Table="weblogic_j2eeserver:ejb_module_no_rate"/>
      </Condition>
     </And>
   </Where>
  </Select>
  
   <!-- Create internal table ejb_module_result containing values from ejb_module_result_1, including
        delta and percentage values. Also change null values to 0. -->
  <Select Name="ejb_module_result">
    <TableFrom Name="ejb_module_result_1" />
    <Column Name="ejbModuleName" Type="String"/>
    <Column Name="appName" Type="String"/>
    <Column Name="serverName" Type="String"/>
    <Column Name="ejbCacheActivation.completed" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbCacheActivation.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbCacheActivation.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbCacheActivation.throughput" Type="Double"/>
    <Column Name="ejbCacheAccess.completed" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbCacheAccess.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbCacheAccess.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbCacheAccess.throughput" Type="Double"/>
    <Column Name="cacheAccess.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="ejbCacheAccess.completed.previous" />
       <ColumnFrom Name="ejbCacheAccess.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="ejbCacheAccess.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="ejbCacheAccess.completed" />
        <ColumnFrom Name="ejbCacheAccess.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="ejbCache.active" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbCache.active" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbCache.active" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbCacheMiss.completed" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbCacheMiss.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbCacheMiss.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbCacheMiss.throughput" Type="Double"/>
    <Column Name="cacheMiss.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="ejbCacheMiss.completed.previous" />
       <ColumnFrom Name="ejbCacheMiss.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="ejbCacheMiss.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="ejbCacheMiss.completed" />
        <ColumnFrom Name="ejbCacheMiss.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="ejbCacheHit.percentage" Type="Double">
     <Expression Operator="Div">
      <Expression Operator="Mult">
       <Expression Operator="Minus">
        <ColumnFrom Name="cacheAccess.deltaCompleted"/>
        <ColumnFrom Name="cacheMiss.deltaCompleted"/>
       </Expression>
       <Value>100.0</Value>
      </Expression>
      <ColumnFrom Name="cacheAccess.deltaCompleted"/>
     </Expression>
     <Default>0</Default>
    </Column>
    <Column Name="ejbCachePassivation.completed" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbCachePassivation.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbCachePassivation.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbCachePassivation.throughput" Type="Double"/>
    <Column Name="ejbPoolAccess.completed" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbPoolAccess.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbPoolAccess.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbPoolAccess.throughput" Type="Double"/>
    <Column Name="poolAccess.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="ejbPoolAccess.completed.previous" />
       <ColumnFrom Name="ejbPoolAccess.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="ejbPoolAccess.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="ejbPoolAccess.completed" />
        <ColumnFrom Name="ejbPoolAccess.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="ejbPoolFailed.completed" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbPoolFailed.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbPoolFailed.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbPoolFailed.throughput" Type="Double"/>
    <Column Name="poolFailed.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="ejbPoolFailed.completed.previous" />
       <ColumnFrom Name="ejbPoolFailed.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="ejbPoolFailed.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="ejbPoolFailed.completed" />
        <ColumnFrom Name="ejbPoolFailed.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="ejbPoolAccessSuccess.percentage" Type="Double">
     <Expression Operator="Div">
      <Expression Operator="Mult">
       <Expression Operator="Minus">
        <ColumnFrom Name="poolAccess.deltaCompleted"/>
        <ColumnFrom Name="poolFailed.deltaCompleted"/>
       </Expression>
       <Value>100.0</Value>
      </Expression>
      <ColumnFrom Name="poolAccess.deltaCompleted"/>
     </Expression>
     <Default>0</Default>
    </Column>
    <Column Name="ejbPoolUsed.active" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbPoolUsed.active" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbPoolUsed.active" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbPoolDestroy.completed" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbPoolDestroy.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbPoolDestroy.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbPoolDestroy.throughput" Type="Double"/>
    <Column Name="ejbPoolAvailable.active" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbPoolAvailable.active" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbPoolAvailable.active" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbTransactionCommit.completed" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbTransactionCommit.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbTransactionCommit.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbTransactionCommit.throughput" Type="Double"/>
    <Column Name="ejbTransactionRollback.completed" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbTransactionRollback.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbTransactionRollback.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbTransactionRollback.throughput" Type="Double"/>
    <Column Name="ejbTransactionTimeout.completed" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="ejbTransactionTimeout.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="ejbTransactionTimeout.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="ejbTransactionTimeout.throughput" Type="Double"/>
    <Column Name="mdbMessage.completed" Type="Long">
     <If>
      <Condition Operator="NE">
       <ColumnFrom Name="mdbMessage.completed" />
       <Null/>
      </Condition>
     <Then>
       <ColumnFrom Name="mdbMessage.completed" />
     </Then>
     <Else>
      <Value>0</Value>
     </Else>
     </If>
    </Column>
    <Column Name="mdbMessage.throughput" Type="Double"/>

   <Where>
    <And>
     <Condition Operator="NE" Type="String">
       <ColumnFrom Name="ejbModuleName"/>
       <Null/>
     </Condition>
     <Condition Operator="NE" Type="String">
       <ColumnFrom Name="appName"/>
       <Null/>
     </Condition>
     <Condition Operator="NE" Type="String">
       <ColumnFrom Name="serverName"/>
       <Null/>
     </Condition>
     <Or>
      <Condition Type="String" Operator="EQ">
       <ColumnFrom Name="ejbModuleName"/>
       <Value Name="ejbModuleName.parameter"/>
      </Condition>
      <Condition Type="String" Operator="EQ">
       <Value Name="ejbModuleName.parameter"
              xsi:nil="true"/>
       <Null/>
      </Condition>
     </Or>
     <Or>
      <Condition Type="String" Operator="EQ">
       <ColumnFrom Name="appName"/>
       <Value Name="appName.parameter"/>
      </Condition>
      <Condition Type="String" Operator="EQ">
       <Value Name="appName.parameter"
              xsi:nil="true"/>
       <Null/>
      </Condition>
     </Or>
     <Or>
      <Condition Type="String" Operator="EQ">
       <ColumnFrom Name="serverName"/>
       <Value Name="serverName.parameter"/>
      </Condition>
      <Condition Type="String" Operator="EQ">
       <Value Name="serverName.parameter"
              xsi:nil="true"/>
       <Null/>
      </Condition>
     </Or>
    </And>
   </Where>

  </Select>

</Table>

 <!-- Platform metrics (internal) -->

 <Table Name="jvm_runtime">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="uptime.value" Type="Long" />
  <ColumnDef Name="vmName.value" Type="String"/>
  <ColumnDef Name="vmVersion.value" Type="String"/>
  <Select Name="wl_jvm_runtime_result">
   <TableFrom Name="JVM_Runtime"/>
   <Column Name="serverName">
    <ColumnFrom Name="ServerName" Table="JVM_Runtime"/>
   </Column>
   <Column Name="uptime.value">
    <ColumnFrom Name="uptime.value" Table="JVM_Runtime"/>
   </Column>
   <Column Name="vmName.value">
    <ColumnFrom Name="vmName.value" Table="JVM_Runtime"/>
   </Column>
   <Column Name="vmVersion.value">
    <ColumnFrom Name="vmVersion.value" Table="JVM_Runtime"/>
   </Column>
  </Select>
 </Table>

 <Table Name="jvm_compilation_time">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="totalTime.value" Type="Long" />
  <Select Name="wl_jvm_compilationTime_result">
   <TableFrom Name="JVM_Compiler"/>
   <Column Name="serverName">
    <ColumnFrom Name="ServerName" Table="JVM_Compiler"/>
   </Column>
   <Column Name="totalTime.value">
    <ColumnFrom Name="totalTime.value" Table="JVM_Compiler"/>
   </Column>
  </Select>
 </Table>

<Table Name="jvm_memory_usage">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="heapMemoryUsed.value" Type="Long"/>
  <ColumnDef Name="nonHeapMemoryUsed.value" Type="Long"/>
  <ColumnDef Name="objectsPendingFinalization.value" Type="Long"/>
  <Select Name="jvm_pick_instance_memorySet_result">
   <TableFrom Name="JVM_MemorySet"/>
   <Column Name="used.value">
    <ColumnFrom Name="used.value" Table="JVM_MemorySet"/>
   </Column>
   <Column Name="Name">
    <ColumnFrom Name="Name" Table="JVM_MemorySet"/>
   </Column>
  </Select>
  <Select Name="jvm_pick_instance_Memory_result">
   <TableFrom Name="JVM_Memory"/>
   <Column Name="serverName">
    <ColumnFrom Name="ServerName" Table="JVM_Memory"/>
   </Column>
   <Column Name="pendingFinalization.value">
    <ColumnFrom Name="pendingFinalization.value" Table="JVM_Memory"/>
   </Column>
  </Select>
  <Select Name="jvm_selectHeap_result">
   <TableFrom Name="jvm_pick_instance_memorySet_result"/>
   <Column Name="HeapMemoryUsage">
     <ColumnFrom Name="used.value"/>
   </Column>
   <Where>
    <Condition Type="String" Operator="EQ">
     <ColumnFrom Name="Name"/>
     <Value>Heap memory</Value>
    </Condition>
   </Where>
  </Select>
 <Select Name="jvm_selectNonHeap_result">
   <TableFrom Name="jvm_pick_instance_memorySet_result"/>
   <Column Name="NonHeapMemoryUsage">
     <ColumnFrom Name="used.value"/>
   </Column>
   <Where>
    <Condition Type="String" Operator="EQ">
     <ColumnFrom Name="Name"/>
     <Value>Non-heap memory</Value>
    </Condition>
   </Where>
  </Select>
  <Select Name="jvm_combine_memorySet_result">
   <TableFrom Name="jvm_selectNonHeap_result"/>
   <TableFrom Name="jvm_selectHeap_result" OuterJoined="true"/>
   <Column Name="NonHeapMemoryUsage">
    <ColumnFrom Name="NonHeapMemoryUsage" Table="jvm_selectNonHeap_result"/>
   </Column>
   <Column Name="HeapMemoryUsage">
    <ColumnFrom Name="HeapMemoryUsage" Table="jvm_selectHeap_result"/>
   </Column>
  </Select>
  <Select Name="jvm_combine_Memory_result">
   <TableFrom Name="jvm_combine_memorySet_result"/>
   <TableFrom Name="jvm_pick_instance_Memory_result"/>
   <Column Name="serverName">
    <ColumnFrom Name="serverName" Table="jvm_pick_instance_Memory_result"/>
   </Column>
   <Column Name="nonHeapMemoryUsed.value">
    <ColumnFrom Name="NonHeapMemoryUsage" Table="jvm_combine_memorySet_result"/>
   </Column>
   <Column Name="heapMemoryUsed.value">
    <ColumnFrom Name="HeapMemoryUsage" Table="jvm_combine_memorySet_result"/>
   </Column>
   <Column Name="objectsPendingFinalization.value">
    <ColumnFrom Name="pendingFinalization.value" Table="jvm_pick_instance_Memory_result"/>
   </Column>
  </Select>
</Table>

<Table Name="jvm_memory_pools">
  <ColumnDef Name="Name" Type="String" Key="true"/>
  <ColumnDef Name="type.value" Type="String"/>
  <ColumnDef Name="usedNow.value" Type="Double"/>
  <ColumnDef Name="usedNowInMBytes" Type="Double"/>
  <ColumnDef Name="usedPeak.value" Type="Double"/>
  <ColumnDef Name="usedPeakInMBytes" Type="Double"/>
  <Select Name="jvm_pick_instance_result">
   <TableFrom Name="JVM_MemoryPool"/>
   <Column Name="Name" Type="String">
    <If>
     <Condition Operator="Contains">
       <ColumnFrom Name="Name" Table="JVM_MemoryPool"/>
       <Value>PS Eden Space</Value>
     </Condition>
    <Then>
       <Value>Eden Space</Value>
    </Then>
    <ElseIf>
     <Condition Operator="Contains">
       <ColumnFrom Name="Name" Table="JVM_MemoryPool"/>
       <Value>PS Survivor Space</Value>
     </Condition>
    <Then>
       <Value>Survivor Space</Value>
    </Then>
    </ElseIf>
    <ElseIf>
     <Condition Operator="Contains">
       <ColumnFrom Name="Name" Table="JVM_MemoryPool"/>
       <Value>PS Old Gen</Value>
     </Condition>
     <Then>
       <Value>Tenured Gen</Value>
    </Then>
    </ElseIf>
    <ElseIf>
     <Condition Operator="Contains">
       <ColumnFrom Name="Name" Table="JVM_MemoryPool"/>
       <Value>PS Perm Gen</Value>
     </Condition>
    <Then>
       <Value>Perm Gen</Value>
    </Then>
    </ElseIf>
    <Else>
       <ColumnFrom Name="Name" Table="JVM_MemoryPool"/>
    </Else>
    </If>
   </Column>
   <Column Name="type.value">
    <ColumnFrom Name="type.value" Table="JVM_MemoryPool"/>
   </Column>
   <Column Name="usedNow.value">
    <ColumnFrom Name="usedNow.value" Table="JVM_MemoryPool"/>
   </Column>
   <Column Name="usedNowInMBytes" Type="Double">
<!-- Convert the number from KB to MB -->
    <Expression Operator="Div">
      <ColumnFrom Name="usedNow.value" Table="JVM_MemoryPool"/>
     <Value>1024</Value>
    </Expression>
   </Column>
   <Column Name="usedPeak.value">
    <ColumnFrom Name="usedPeak.value" Table="JVM_MemoryPool"/>
   </Column>
   <Column Name="usedPeakInMBytes" Type="Double">
<!-- Convert the number from KB to MB -->
    <Expression Operator="Div">
      <ColumnFrom Name="usedPeak.value" Table="JVM_MemoryPool"/>
     <Value>1024</Value>
    </Expression>
   </Column>
    <Where>
    <Or>
     <Condition Type="String" Operator="EQ">
        <ColumnFrom Name="Name"/>
        <Value Name="Name.parameter"/>
    </Condition>
     <Condition Type="String" Operator="EQ">
        <Value Name="Name.parameter"
            xsi:nil="true"/>
        <Null/>
    </Condition>
   </Or>
   </Where>
  </Select>
 </Table>

<Table Name="jvm_class_loading">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="loaded.value" Type="Long" />
  <ColumnDef Name="totalLoaded.value" Type="Long"/>
  <ColumnDef Name="unloaded.value" Type="Long"/>
  <Select Name="jvm_ClassLoading_result">
   <TableFrom Name="JVM_ClassLoader"/>
   <Column Name="serverName">
    <ColumnFrom Name="ServerName" Table="JVM_ClassLoader"/>
   </Column>
   <Column Name="loaded.value">
    <ColumnFrom Name="loaded.value" Table="JVM_ClassLoader"/>
   </Column>
   <Column Name="totalLoaded.value">
    <ColumnFrom Name="totalLoaded.value" Table="JVM_ClassLoader"/>
   </Column>
   <Column Name="unloaded.value">
    <ColumnFrom Name="unloaded.value" Table="JVM_ClassLoader"/>
   </Column>
  </Select>
 </Table>

<Table Name="jvm_garbage_collectors_no_rate">
  <ColumnDef Name="Name" Type="String" Key="true"/>
  <ColumnDef Name="time.value" Type="Double"/>
  <ColumnDef Name="count.value" Type="Long"/>
  <Select Name="jvm_Garbage_Collection_NoRate_Result">
   <TableFrom Name="JVM_GC"/>
   <Column Name="Name">
    <ColumnFrom Name="Name" Table="JVM_GC"/>
   </Column>
   <Column Name="time.value">
    <ColumnFrom Name="time.value" Table="JVM_GC"/>
   </Column>
   <Column Name="count.value">
    <ColumnFrom Name="count.value" Table="JVM_GC"/>
   </Column>
  </Select>
 </Table>

 <Table Name="jvm_garbage_collectors">
  <ColumnDef Name="Name" Type="String" Key="true"/>
  <ColumnDef Name="time.value" Type="Double"/>
  <ColumnDef Name="count.value" Type="Long"/>
  <ColumnDef Name="invocationsPerMin" Type="Double"/>
  <ColumnDef Name="msecsPerInvocation" Type="Double"/>
  <Select Name="jvm_Garbage_Collection_Result">
   <TableFrom Name="weblogic_j2eeserver:jvm_garbage_collectors_no_rate"/>
   <Column Name="Name">
    <ColumnFrom Name="Name"/>
   </Column>
   <Column Name="time.value">
    <ColumnFrom Name="time.value"/>
   </Column>
   <Column Name="count.value">
    <ColumnFrom Name="count.value"/>
   </Column>
   <Column Name="invocationsPerMin" Type="Double">
    <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="count.value"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
   <Column Name="msecsPerInvocation" Type="Double">
       <Rate Interval="300000">
         <ColumnFrom Name="time.value" />
         <ColumnFrom Name="count.value"/>
         <Default>0</Default>
       </Rate>
    </Column>
  </Select>
 </Table>

<Table Name="jvm_threads">
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="threadCount.value" Type="Long"/>
  <ColumnDef Name="peakThreadCount.value" Type="Long"/>
  <ColumnDef Name="totalStartedThreadCount.value" Type="Long"/>
  <ColumnDef Name="deadlockedThreadCount.value" Type="Long"/>
  <ColumnDef Name="daemonThreadCount.value" Type="Long"/>
  <Select Name="jvm_Threads_Stats_Result">
   <TableFrom Name="JVM_ThreadStats"/>
   <Column Name="serverName">
    <ColumnFrom Name="ServerName" Table="JVM_ThreadStats"/>
   </Column>
   <Column Name="threadCount.value">
    <ColumnFrom Name="live.value" Table="JVM_ThreadStats"/>
   </Column>
   <Column Name="peakThreadCount.value">
    <ColumnFrom Name="peak.value" Table="JVM_ThreadStats"/>
   </Column>
   <Column Name="totalStartedThreadCount.value">
    <ColumnFrom Name="started.value" Table="JVM_ThreadStats"/>
   </Column>
   <Column Name="deadlockedThreadCount.value">
    <ColumnFrom Name="deadlock.value" Table="JVM_ThreadStats"/>
   </Column>
   <Column Name="daemonThreadCount.value">
    <ColumnFrom Name="daemon.value" Table="JVM_ThreadStats"/>
   </Column>
  </Select>
 </Table>

<Table Name="jvm_thread_contention">
  <ColumnDef Name="threadName" Type="String" Key="true"/>
  <ColumnDef Name="blockedTimeInSecs" Type="Double"/>
  <ColumnDef Name="blockedCount" Type="Long"/>
  <ColumnDef Name="lockName" Type="String"/>
  <ColumnDef Name="cpuUsageInSecs" Type="Double"/>
  <ColumnDef Name="state" Type="String"/>
  <ColumnDef Name="waitTimeInSecs" Type="Double"/>
  <ColumnDef Name="waitCount" Type="Long"/>
  <Select Name="jvm_Thread_Result">
   <TableFrom Name="JVM_Thread"/>
   <Column Name="threadName">
    <ColumnFrom Name="name.value" Table="JVM_Thread"/>
   </Column>
   <Column Name="blockedTimeInSecs" Type="Double">
<!-- Convert the numbers from msec to sec -->
    <Expression Operator="Div">
      <ColumnFrom Name="blocked.value" Table="JVM_Thread"/>
     <Value>1000</Value>
    </Expression>
   </Column>
   <Column Name="blockedCount">
    <ColumnFrom Name="blockedCount.value" Table="JVM_Thread"/>
   </Column>
   <Column Name="lockName">
    <ColumnFrom Name="lockName.value" Table="JVM_Thread"/>
   </Column>
   <Column Name="cpuUsageInSecs" Type="Double">
<!-- Convert the numbers from msec to sec -->
   <Expression Operator="Div">
      <ColumnFrom Name="cpu.value" Table="JVM_Thread"/>
     <Value>1000</Value>
    </Expression>
   </Column>
   <Column Name="state">
    <ColumnFrom Name="state.value" Table="JVM_Thread"/>
   </Column>
   <Column Name="waitTimeInSecs" Type="Double">
<!-- Convert the numbers from msec to sec -->
    <Expression Operator="Div">
      <ColumnFrom Name="waited.value" Table="JVM_Thread"/>
     <Value>1000</Value>
    </Expression>
   </Column>
   <Column Name="waitCount">
    <ColumnFrom Name="waitedCount.value" Table="JVM_Thread"/>
   </Column>
  </Select>
 </Table>

 <!-- ejb_transaction_no_rate (internal) -->
 <Table Name="ejb_transaction_no_rate">
  <ColumnDef Name="name" Type="String" Key="true"/>
  <ColumnDef Name="ejbModuleName" Type="String" Key="true"/>
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="ejbTransactionCommit.completed" Type="Long"/>
  <ColumnDef Name="ejbTransactionRollback.completed" Type="Long"/>
  <ColumnDef Name="ejbTransactionTimeout.completed" Type="Long"/>
  <Select Name="ejb_transaction_no_rate_result">
   <TableFrom Name="weblogic.management.runtime.EJBTransactionRuntimeMBean"/>
   <TableFrom Name="weblogic_j2eeserver:application_names"/>
    <Column Name="name" Type="String">
     <ColumnFrom Name="Name" Table="weblogic.management.runtime.EJBTransactionRuntimeMBean"/>
    </Column>
    <Column Name="ejbModuleName" Type="String">
     <ColumnFrom Name="EJBComponentRuntime" Table="weblogic.management.runtime.EJBTransactionRuntimeMBean"/>
    </Column>
    <Column Name="appName" Type="String">
      <ColumnFrom Name="displayAppName"
                  Table="weblogic_j2eeserver:application_names"/>
    </Column>
    <Column Name="serverName" Type="String">
     <ColumnFrom Name="ServerRuntime" Table="weblogic.management.runtime.EJBTransactionRuntimeMBean"/>
    </Column>
    <Column Name="ejbTransactionCommit.completed" Type="Long">
     <ColumnFrom Name="TransactionsCommittedTotalCount" Table="weblogic.management.runtime.EJBTransactionRuntimeMBean"/>
    </Column>
    <Column Name="ejbTransactionRollback.completed" Type="Long">
     <ColumnFrom Name="TransactionsRolledBackTotalCount" Table="weblogic.management.runtime.EJBTransactionRuntimeMBean"/>
    </Column>
    <Column Name="ejbTransactionTimeout.completed" Type="Long">
     <ColumnFrom Name="TransactionsTimedOutTotalCount" Table="weblogic.management.runtime.EJBTransactionRuntimeMBean"/>
   </Column>
   <Where>
     <And>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="runtimeAppName"
                   Table="weblogic_j2eeserver:application_names"/>
       <ColumnFrom Name="ApplicationRuntime"
                   Table="weblogic.management.runtime.EJBTransactionRuntimeMBean"/>
      </Condition>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="serverName"
                   Table="weblogic_j2eeserver:application_names"/>
       <ColumnFrom Name="ServerRuntime"
                   Table="weblogic.management.runtime.EJBTransactionRuntimeMBean"/>
      </Condition>
     </And>
   </Where>
  </Select>
 </Table>

 <!-- ejb_transaction (published) -->
 <Table Name="ejb_transaction">
  <ColumnDef Name="name" Type="String" Key="true"/>
  <ColumnDef Name="ejbModuleName" Type="String" Key="true"/>
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="ejbTransactionCommit.completed" Type="Long"/>
  <ColumnDef Name="ejbTransactionCommit.throughput" Type="Double"/>
  <ColumnDef Name="ejbTransactionRollback.completed" Type="Long"/>
  <ColumnDef Name="ejbTransactionRollback.throughput" Type="Double"/>
  <ColumnDef Name="ejbTransactionTimeout.completed" Type="Long"/>
  <ColumnDef Name="ejbTransactionTimeout.throughput" Type="Double"/>
  <ColumnDef Name="ejbTransactionCommit.percentage" Type="Double"/>
  <!--  Create internal table ejb_transaction_result_1 which will contain values from
        ejb_transaction_no_rate, including throughput and "previous" values that ejb_transaction_result
        will use to compute delta and percentage values  -->
  <Select Name="ejb_transaction_result_1">
   <TableFrom Name="weblogic_j2eeserver:ejb_transaction_no_rate"/>
    <Column Name="name" Type="String"/>
    <Column Name="ejbModuleName" Type="String"/>
    <Column Name="appName" Type="String"/>
    <Column Name="serverName" Type="String"/>
    <Column Name="ejbTransactionCommit.completed" Type="Long"/>
    <Column Name="ejbTransactionCommit.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="ejbTransactionCommit.completed" />
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
   </Column>
    <Column Name="ejbTransactionCommit.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
        <ColumnFrom Name="ejbTransactionCommit.completed"/>
      <Default>0</Default>
     </Previous>
   </Column>
    <Column Name="ejbTransactionRollback.completed" Type="Long"/>
    <Column Name="ejbTransactionRollback.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="ejbTransactionRollback.completed" />
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
   </Column>
    <Column Name="ejbTransactionRollback.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
        <ColumnFrom Name="ejbTransactionRollback.completed"/>
      <Default>0</Default>
     </Previous>
   </Column>
    <Column Name="ejbTransactionTimeout.completed" Type="Long"/>
    <Column Name="ejbTransactionTimeout.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="ejbTransactionTimeout.completed"/>
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
   </Column>
    <Column Name="ejbTransactionTimeout.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
        <ColumnFrom Name="ejbTransactionTimeout.completed"/>
      <Default>0</Default>
     </Previous>
   </Column>
  </Select>

  <Select Name="ejb_transaction_result">
   <TableFrom Name="ejb_transaction_result_1"/>
    <Column Name="name" Type="String"/>
    <Column Name="ejbModuleName" Type="String"/>
    <Column Name="appName" Type="String"/>
    <Column Name="serverName" Type="String"/>
    <Column Name="ejbTransactionCommit.completed" Type="Long"/>
    <Column Name="ejbTransactionCommit.throughput" Type="Double"/>
    <Column Name="transactionCommit.deltaCompleted" Type="Long">
    <If>
      <Condition Operator="GT">
       <ColumnFrom Name="ejbTransactionCommit.completed.previous" />
       <ColumnFrom Name="ejbTransactionCommit.completed" />
     </Condition>
    <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="ejbTransactionCommit.completed" />
    </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="ejbTransactionCommit.completed" />
        <ColumnFrom Name="ejbTransactionCommit.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="ejbTransactionRollback.completed" Type="Long"/>
    <Column Name="ejbTransactionRollback.throughput" Type="Double"/>
    <Column Name="transactionRollback.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="ejbTransactionRollback.completed.previous" />
       <ColumnFrom Name="ejbTransactionRollback.completed" />
     </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="ejbTransactionRollback.completed" />
    </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="ejbTransactionRollback.completed" />
        <ColumnFrom Name="ejbTransactionRollback.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="ejbTransactionTimeout.completed" Type="Long"/>
    <Column Name="ejbTransactionTimeout.throughput" Type="Double"/>
    <Column Name="transactionTimeout.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="ejbTransactionTimeout.completed.previous" />
       <ColumnFrom Name="ejbTransactionTimeout.completed" />
     </Condition>
    <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="ejbTransactionTimeout.completed" />
    </Then>
    <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="ejbTransactionTimeout.completed" />
        <ColumnFrom Name="ejbTransactionTimeout.completed.previous" />
      </Expression>
    </Else>
    </If>
     <Default>0</Default>
   </Column>
    <Column Name="ejbTransactionCommit.percentage" Type="Double">
     <Expression Operator="Div">
      <Expression Operator="Mult">
       <ColumnFrom Name="transactionCommit.deltaCompleted"/>
       <Value>100.0</Value>
      </Expression>
      <Expression Operator="Plus">
       <Expression Operator="Plus">
        <ColumnFrom Name="transactionCommit.deltaCompleted"/>
        <ColumnFrom Name="transactionRollback.deltaCompleted"/>
       </Expression>
       <ColumnFrom Name="transactionTimeout.deltaCompleted"/>
      </Expression>
     </Expression>
     <Default>0</Default>
   </Column>
   <Where>
     <And>
      <Or>
       <Condition Type="String" Operator="EQ">
        <ColumnFrom Name="name"/>
        <Value Name="name.parameter"/>
       </Condition>
       <Condition Type="String" Operator="EQ">
        <Value Name="name.parameter"
               xsi:nil="true"/>
        <Null/>
       </Condition>
      </Or>
      <Or>
       <Condition Type="String" Operator="EQ">
        <ColumnFrom Name="ejbModuleName"/>
        <Value Name="ejbModuleName.parameter"/>
       </Condition>
       <Condition Type="String" Operator="EQ">
        <Value Name="ejbModuleName.parameter"
               xsi:nil="true"/>
        <Null/>
       </Condition>
      </Or>
      <Or>
       <Condition Type="String" Operator="EQ">
        <ColumnFrom Name="appName"/>
        <Value Name="appName.parameter"/>
       </Condition>
       <Condition Type="String" Operator="EQ">
        <Value Name="appName.parameter"
               xsi:nil="true"/>
        <Null/>
       </Condition>
      </Or>
      <Or>
       <Condition Type="String" Operator="EQ">
        <ColumnFrom Name="serverName"/>
        <Value Name="serverName.parameter"/>
       </Condition>
       <Condition Type="String" Operator="EQ">
        <Value Name="serverName.parameter"
               xsi:nil="true"/>
        <Null/>
       </Condition>
      </Or>
     </And>
   </Where>
  </Select>
 </Table>

 <!-- datasource_no_rate (internal) -->
 <Table Name="datasource_no_rate">
  <ColumnDef Name="name" Type="String" Key="true"/>
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="connectionInUse.active" Type="Long" />
  <ColumnDef Name="connectionCreated.completed" Type="Long" />
  <ColumnDef Name="connectionPoolSize.active" Type="Long" />
  <ColumnDef Name="connectionRequestFailures.completed" Type="Long" />
  <ColumnDef Name="connectionRefreshFailures.completed" Type="Long" />
  <ColumnDef Name="connectionLeaks.completed" Type="Long" />
  <ColumnDef Name="connectionAvailable.active" Type="Long" />
  <ColumnDef Name="connectionUnavailable.active" Type="Long" />
  <ColumnDef Name="stmtCacheAdded.completed" Type="Long" />
  <ColumnDef Name="stmtCacheSize.active" Type="Long" />
  <ColumnDef Name="stmtCacheDiscarded.completed" Type="Long" />
  <ColumnDef Name="stmtCacheSatisfied.completed" Type="Long" />
  <ColumnDef Name="stmtCacheNotSatisfied.completed" Type="Long" />
  <ColumnDef Name="connectionRequests.completed" Type="Long" />
  <ColumnDef Name="state" Type="String" />
  <ColumnDef Name="connectionWaiters.active" Type="Long" />
  <ColumnDef Name="connectionWaitFailures.completed" Type="Long" />
  <ColumnDef Name="connectionWaitSuccesses.completed" Type="Long" />
  <ColumnDef Name="connectionWaits.completed" Type="Long" />
  <ColumnDef Name="connectionDelay.time.avg" Type="Long" />
  <Select Name="datasource_no_rate_result">
   <TableFrom Name="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
   <TableFrom Name="weblogic_j2eeserver:application_names"/>
    <Column Name="name" Type="String">
      <ColumnFrom Name="Name" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
    </Column>
    <!-- appName is null for Global datasources -->
    <Column Name="appName" Type="String">
     <If>
      <Condition Operator="EQ">
       <ColumnFrom Name="ApplicationRuntime" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
       <Null/>
      </Condition>
     <Then>
       <Value>domain-level</Value>
     </Then>
     <Else>
      <ColumnFrom Name="displayAppName"
                  Table="weblogic_j2eeserver:application_names"/>
     </Else>
     </If>
    </Column>
    <Column Name="serverName" Type="String">
      <ColumnFrom Name="ServerRuntime" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
   </Column>
   <Column Name="connectionInUse.active" Type="Long">
      <ColumnFrom Name="ActiveConnectionsCurrentCount" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
   </Column>
   <Column Name="connectionCreated.completed" Type="Long">
      <ColumnFrom Name="ConnectionsTotalCount" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
   </Column>
   <Column Name="connectionPoolSize.active" Type="Long">
      <ColumnFrom Name="CurrCapacity" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
   </Column>
   <Column Name="connectionRequestFailures.completed" Type="Long">
      <ColumnFrom Name="FailedReserveRequestCount" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
   </Column>
   <Column Name="connectionRefreshFailures.completed" Type="Long">
      <ColumnFrom Name="FailuresToReconnectCount" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
   </Column>
   <Column Name="connectionLeaks.completed" Type="Long">
      <ColumnFrom Name="LeakedConnectionCount" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
   </Column>
   <Column Name="connectionAvailable.active" Type="Long">
      <ColumnFrom Name="NumAvailable" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
   </Column>
   <Column Name="connectionUnavailable.active" Type="Long">
      <ColumnFrom Name="NumUnavailable" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
   </Column>
   <Column Name="stmtCacheAdded.completed" Type="Long">
      <ColumnFrom Name="PrepStmtCacheAccessCount" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
   </Column>
   <Column Name="stmtCacheSize.active" Type="Long">
      <ColumnFrom Name="PrepStmtCacheCurrentSize" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
   </Column>
   <Column Name="stmtCacheDiscarded.completed" Type="Long">
      <ColumnFrom Name="PrepStmtCacheDeleteCount" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
   </Column>
   <Column Name="stmtCacheSatisfied.completed" Type="Long">
      <ColumnFrom Name="PrepStmtCacheHitCount" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
   </Column>
   <Column Name="stmtCacheNotSatisfied.completed" Type="Long">
      <ColumnFrom Name="PrepStmtCacheMissCount" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
   </Column>
   <Column Name="connectionRequests.completed" Type="Long">
      <ColumnFrom Name="ReserveRequestCount" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
   </Column>
   <Column Name="state" Type="String">
      <ColumnFrom Name="State" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
   </Column>
   <Column Name="connectionWaiters.active" Type="Long">
      <ColumnFrom Name="WaitingForConnectionCurrentCount" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
   </Column>
   <Column Name="connectionWaitFailures.completed" Type="Long">
      <ColumnFrom Name="WaitingForConnectionFailureTotal" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
   </Column>
   <Column Name="connectionWaitSuccesses.completed" Type="Long">
      <ColumnFrom Name="WaitingForConnectionSuccessTotal" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
   </Column>
   <Column Name="connectionWaits.completed" Type="Long">
      <ColumnFrom Name="WaitingForConnectionTotal" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
   </Column>
   <Column Name="connectionDelay.time.avg" Type="Long">
      <ColumnFrom Name="ConnectionDelayTime" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
   </Column>
   <Where>
    <And>
     <Condition Operator="NE" Type="String">
      <ColumnFrom Name="name"/>
      <Null/>
     </Condition>
     <Or>
      <Condition Operator="EQ" Type="String">
       <ColumnFrom Name="ApplicationRuntime" Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
       <Null/>
      </Condition>
      <And>
       <Condition Operator="EQ" Type="String">
        <ColumnFrom Name="runtimeAppName"
                    Table="weblogic_j2eeserver:application_names"/>
        <ColumnFrom Name="ApplicationRuntime"
                    Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
       </Condition>
       <Condition Operator="EQ" Type="String">
        <ColumnFrom Name="serverName"
                    Table="weblogic_j2eeserver:application_names"/>
        <ColumnFrom Name="ServerRuntime"
                    Table="weblogic.management.runtime.JDBCDataSourceRuntimeMBean"/>
       </Condition>
      </And>
     </Or>
    </And>
   </Where>   
  </Select>
 </Table>

 <!-- datasource (published) -->
 <Table Name="datasource">
  <ColumnDef Name="name" Type="String" Key="true"/>
  <ColumnDef Name="appName" Type="String" Key="true"/>
  <ColumnDef Name="serverName" Type="String" Key="true"/>
  <ColumnDef Name="connectionInUse.active" Type="Long" />
  <ColumnDef Name="connectionCreated.completed" Type="Long" />
  <ColumnDef Name="connectionCreated.throughput" Type="Double" />
  <ColumnDef Name="connectionPoolSize.active" Type="Long" />
  <ColumnDef Name="connectionRequestFailures.completed" Type="Long" />
  <ColumnDef Name="connectionRequestFailures.throughput" Type="Double" />
  <ColumnDef Name="connectionRequests.completed" Type="Long" />
  <ColumnDef Name="connectionRequests.throughput" Type="Double" />
  <ColumnDef Name="connectionSuccess.percentage" Type="Double" />
  <ColumnDef Name="connectionRefreshFailures.completed" Type="Long" />
  <ColumnDef Name="connectionRefreshFailures.throughput" Type="Double" />
  <ColumnDef Name="connectionLeaks.completed" Type="Long" />
  <ColumnDef Name="connectionLeaks.throughput" Type="Double" />
  <ColumnDef Name="connectionAvailable.active" Type="Long" />
  <ColumnDef Name="connectionUnavailable.active" Type="Long" />
  <ColumnDef Name="stmtCacheAdded.completed" Type="Long" />
  <ColumnDef Name="stmtCacheAdded.throughput" Type="Double" />
  <ColumnDef Name="stmtCacheSize.active" Type="Long" />
  <ColumnDef Name="stmtCacheDiscarded.completed" Type="Long" />
  <ColumnDef Name="stmtCacheDiscarded.throughput" Type="Double" />
  <ColumnDef Name="stmtCacheSatisfied.completed" Type="Long" />
  <ColumnDef Name="stmtCacheSatisfied.throughput" Type="Double" />
  <ColumnDef Name="stmtCacheNotSatisfied.completed" Type="Long" />
  <ColumnDef Name="stmtCacheNotSatisfied.throughput" Type="Double" />
  <ColumnDef Name="stmtCacheSatisfied.percentage" Type="Double" />
  <ColumnDef Name="state" Type="String" />
  <ColumnDef Name="connectionWaiters.active" Type="Long" />
  <ColumnDef Name="connectionWaitFailures.completed" Type="Long" />
  <ColumnDef Name="connectionWaitFailures.throughput" Type="Double" />
  <ColumnDef Name="connectionWaitSuccesses.completed" Type="Long" />
  <ColumnDef Name="connectionWaitSuccesses.throughput" Type="Double" />
  <ColumnDef Name="connectionWaits.completed" Type="Long" />
  <ColumnDef Name="connectionWaits.throughput" Type="Double" />
  <ColumnDef Name="connectionWaitSuccesses.percentage" Type="Double" />
  <ColumnDef Name="connectionCreated.time" Type="Double" />

  <!--  Create internal table datasource_result_1 which will contain values from
        datasource_no_rate, including throughput and "previous" values that datasource_result
        will use to compute delta and percentage values  -->
  <Select Name="datasource_result_1">
   <TableFrom Name="weblogic_j2eeserver:datasource_no_rate"/>
    <Column Name="name" Type="String"/>
    <Column Name="appName" Type="String"/>
    <Column Name="serverName" Type="String"/>
    <Column Name="connectionInUse.active" Type="Long"/>
    <Column Name="connectionCreated.completed" Type="Long"/>
    <Column Name="connectionCreated.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
        <ColumnFrom Name="connectionCreated.completed"/>
      <Default>0</Default>
     </Previous>
    </Column>
    <Column Name="connectionCreated.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="connectionCreated.completed" />
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="connectionDelay.time.avg" Type="Double"/>
    <Column Name="connectionDelay.time.avg.previous" Type="Long">
     <Previous Interval="300000" Index="0">
        <ColumnFrom Name="connectionDelay.time.avg"/>
      <Default>0</Default>
     </Previous>
    </Column>
    <Column Name="connectionPoolSize.active" Type="Long"/>
    <Column Name="connectionRequestFailures.completed" Type="Long"/>
    <Column Name="connectionRequestFailures.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="connectionRequestFailures.completed" />
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="connectionRequestFailures.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
        <ColumnFrom Name="connectionRequestFailures.completed"/>
      <Default>0</Default>
     </Previous>
    </Column>
    <Column Name="connectionRequests.completed" Type="Long"/>
    <Column Name="connectionRequests.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="connectionRequests.completed" />
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="connectionRequests.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
        <ColumnFrom Name="connectionRequests.completed"/>
      <Default>0</Default>
     </Previous>
    </Column>
    <Column Name="connectionRefreshFailures.completed" Type="Long"/>
    <Column Name="connectionRefreshFailures.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="connectionRefreshFailures.completed" />
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="connectionLeaks.completed" Type="Long"/>
    <Column Name="connectionLeaks.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="connectionLeaks.completed" />
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="connectionAvailable.active" Type="Long"/>
    <Column Name="connectionUnavailable.active" Type="Long"/>
    <Column Name="stmtCacheAdded.completed" Type="Long"/>
    <Column Name="stmtCacheAdded.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="stmtCacheAdded.completed" />
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="stmtCacheSize.active" Type="Long"/>
    <Column Name="stmtCacheDiscarded.completed" Type="Long"/>
    <Column Name="stmtCacheDiscarded.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="stmtCacheDiscarded.completed" />
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="stmtCacheSatisfied.completed" Type="Long"/>
    <Column Name="stmtCacheSatisfied.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="stmtCacheSatisfied.completed" />
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="stmtCacheSatisfied.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
        <ColumnFrom Name="stmtCacheSatisfied.completed"/>
      <Default>0</Default>
     </Previous>
    </Column>
    <Column Name="stmtCacheNotSatisfied.completed" Type="Long"/>
    <Column Name="stmtCacheNotSatisfied.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="stmtCacheNotSatisfied.completed" />
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="stmtCacheNotSatisfied.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
        <ColumnFrom Name="stmtCacheNotSatisfied.completed"/>
      <Default>0</Default>
     </Previous>
    </Column>
    <Column Name="state" Type="String"/>
    <Column Name="connectionWaiters.active" Type="Long"/>
    <Column Name="connectionWaitFailures.completed" Type="Long"/>
    <Column Name="connectionWaitFailures.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="connectionWaitFailures.completed" />
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="connectionWaitFailures.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
        <ColumnFrom Name="connectionWaitFailures.completed"/>
      <Default>0</Default>
     </Previous>
    </Column>
    <Column Name="connectionWaitSuccesses.completed" Type="Long"/>
    <Column Name="connectionWaitSuccesses.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="connectionWaitSuccesses.completed" />
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
    <Column Name="connectionWaitSuccesses.completed.previous" Type="Long">
     <Previous Interval="300000" Index="0">
        <ColumnFrom Name="connectionWaitSuccesses.completed"/>
      <Default>0</Default>
     </Previous>
    </Column>
    <Column Name="connectionWaits.completed" Type="Long"/>
    <Column Name="connectionWaits.throughput" Type="Double">
     <Expression Operator="Mult">
      <Rate Interval="300000">
       <ColumnFrom Name="connectionWaits.completed" />
       <Default>0</Default>
      </Rate>
      <Value>60.0</Value>
     </Expression>
    </Column>
  </Select>

  <Select Name="datasource_result">
   <TableFrom Name="datasource_result_1"/>
    <Column Name="name" Type="String"/>
    <Column Name="appName" Type="String"/>
    <Column Name="serverName" Type="String"/>
    <Column Name="connectionInUse.active" Type="Long"/>
    <Column Name="connectionCreated.completed" Type="Long"/>
    <Column Name="connectionCreated.throughput" Type="Double"/>
    <Column Name="connectionPoolSize.active" Type="Long"/>
    <Column Name="connectionRequestFailures.completed" Type="Long"/>
    <Column Name="connectionRequestFailures.throughput" Type="Double"/>
    <Column Name="requestFailures.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="connectionRequestFailures.completed.previous" />
       <ColumnFrom Name="connectionRequestFailures.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="connectionRequestFailures.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="connectionRequestFailures.completed" />
        <ColumnFrom Name="connectionRequestFailures.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="connectionRequests.completed" Type="Long"/>
    <Column Name="connectionRequests.throughput" Type="Double"/>
    <Column Name="requests.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="connectionRequests.completed.previous" />
       <ColumnFrom Name="connectionRequests.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="connectionRequests.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="connectionRequests.completed" />
        <ColumnFrom Name="connectionRequests.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="connectionSuccess.percentage" Type="Double">
     <Expression Operator="Div">
      <Expression Operator="Mult">
       <Expression Operator="Minus">
        <ColumnFrom Name="requests.deltaCompleted"/>
        <ColumnFrom Name="requestFailures.deltaCompleted"/>
       </Expression>
       <Value>100.0</Value>
      </Expression>
      <ColumnFrom Name="requests.deltaCompleted"/>
     </Expression>
     <Default>0</Default>
    </Column>
    <Column Name="connectionCreated.deltaCompleted" Type="Long">
     <Expression Operator="Minus">
       <ColumnFrom Name="connectionCreated.completed" />
       <ColumnFrom Name="connectionCreated.completed.previous" />
     </Expression>
     <Default>0</Default>
    </Column>

    
    <!-- Average creation time is:
         0 - if nothing was completed during the time period
         average time - if server was restarted during the time period
         normal case:
         ((AverageTime*completed) - (AverageTime.prev*completed.prev) ) /
           (completed - completed.previous)
    -->
    <Column Name="connectionCreated.time" Type="Double">
     <If>
      <Condition Operator="EQ">
       <ColumnFrom Name="connectionCreated.deltaCompleted"/>
       <Value>0</Value>
      </Condition>
     <Then>
      <!-- no connections were created, so no time spent -->
      <Value>0</Value>
     </Then>
     <Else>
      <If>
       <Condition Operator="GT">
        <ColumnFrom Name="connectionCreated.deltaCompleted"/>
        <Value>0</Value>
       </Condition>
      <Then>
     
       <!-- Average creation time is:
        ((AverageTime*completed) - (AverageTime.prev*completed.prev) ) /
          (completed - completed.previous)
       -->
       <Expression Operator="Div">
        <Expression Operator="Minus">
         <Expression Operator="Mult">
          <ColumnFrom Name="connectionDelay.time.avg"/>
          <ColumnFrom Name="connectionCreated.completed"/>
         </Expression>
         <Expression Operator="Mult">
          <ColumnFrom Name="connectionDelay.time.avg.previous"/>
          <ColumnFrom Name="connectionCreated.completed.previous"/>
         </Expression>
        </Expression>
        <ColumnFrom Name="connectionCreated.deltaCompleted"/>
       </Expression>
      </Then>
      <Else>
       <!-- The server was restarted, so just use the current average time -->
       <ColumnFrom Name="connectionDelay.time.avg"/>
      </Else>
      </If>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="connectionRefreshFailures.completed" Type="Long"/>
    <Column Name="connectionRefreshFailures.throughput" Type="Double"/>
    <Column Name="connectionLeaks.completed" Type="Long"/>
    <Column Name="connectionLeaks.throughput" Type="Double"/>
    <Column Name="connectionAvailable.active" Type="Long"/>
    <Column Name="connectionUnavailable.active" Type="Long"/>
    <Column Name="stmtCacheAdded.completed" Type="Long"/>
    <Column Name="stmtCacheAdded.throughput" Type="Double"/>
    <Column Name="stmtCacheSize.active" Type="Long"/>
    <Column Name="stmtCacheDiscarded.completed" Type="Long"/>
    <Column Name="stmtCacheDiscarded.throughput" Type="Double"/>
    <Column Name="stmtCacheSatisfied.completed" Type="Long"/>
    <Column Name="stmtCacheSatisfied.throughput" Type="Double"/>
    <Column Name="cacheSatisfied.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="stmtCacheSatisfied.completed.previous" />
       <ColumnFrom Name="stmtCacheSatisfied.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="stmtCacheSatisfied.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="stmtCacheSatisfied.completed" />
        <ColumnFrom Name="stmtCacheSatisfied.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="stmtCacheNotSatisfied.completed" Type="Long"/>
    <Column Name="stmtCacheNotSatisfied.throughput" Type="Double"/>
    <Column Name="cacheNotSatisfied.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="stmtCacheNotSatisfied.completed.previous" />
       <ColumnFrom Name="stmtCacheNotSatisfied.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="stmtCacheNotSatisfied.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="stmtCacheNotSatisfied.completed" />
        <ColumnFrom Name="stmtCacheNotSatisfied.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="stmtCacheSatisfied.percentage" Type="Double">
     <Expression Operator="Div">
      <Expression Operator="Mult">
        <ColumnFrom Name="cacheSatisfied.deltaCompleted"/>
        <Value>100.0</Value>
      </Expression>
      <Expression Operator="Plus">
        <ColumnFrom Name="cacheSatisfied.deltaCompleted"/>
        <ColumnFrom Name="cacheNotSatisfied.deltaCompleted"/>
      </Expression>
     </Expression>
     <Default>0</Default>
    </Column>
    <Column Name="state" Type="String"/>
    <Column Name="connectionWaiters.active" Type="Long"/>
    <Column Name="connectionWaitFailures.completed" Type="Long"/>
    <Column Name="connectionWaitFailures.throughput" Type="Double"/>
    <Column Name="waitFailures.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="connectionWaitFailures.completed.previous" />
       <ColumnFrom Name="connectionWaitFailures.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="connectionWaitFailures.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="connectionWaitFailures.completed" />
        <ColumnFrom Name="connectionWaitFailures.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="connectionWaitSuccesses.completed" Type="Long"/>
    <Column Name="connectionWaitSuccesses.throughput" Type="Double"/>
    <Column Name="waitSuccesses.deltaCompleted" Type="Long">
     <If>
      <Condition Operator="GT">
       <ColumnFrom Name="connectionWaitSuccesses.completed.previous" />
       <ColumnFrom Name="connectionWaitSuccesses.completed" />
      </Condition>
     <Then>
       <!-- Server was restarted, just use completed -->
       <ColumnFrom Name="connectionWaitSuccesses.completed" />
     </Then>
     <Else>
      <Expression Operator="Minus">
        <ColumnFrom Name="connectionWaitSuccesses.completed" />
        <ColumnFrom Name="connectionWaitSuccesses.completed.previous" />
      </Expression>
     </Else>
     </If>
     <Default>0</Default>
    </Column>
    <Column Name="connectionWaits.completed" Type="Long"/>
    <Column Name="connectionWaits.throughput" Type="Double"/>
    <Column Name="connectionWaitSuccesses.percentage" Type="Double">
     <Expression Operator="Div">
      <Expression Operator="Mult">
        <ColumnFrom Name="waitSuccesses.deltaCompleted"/>
        <Value>100.0</Value>
      </Expression>
      <Expression Operator="Plus">
        <ColumnFrom Name="waitSuccesses.deltaCompleted"/>
        <ColumnFrom Name="waitFailures.deltaCompleted"/>
      </Expression>
     </Expression>
     <Default>0</Default>
   </Column>
  <Where>
     <And>
      <Or>
       <Condition Type="String" Operator="EQ">
        <ColumnFrom Name="name"/>
        <Value Name="name.parameter"/>
       </Condition>
       <Condition Type="String" Operator="EQ">
        <Value Name="name.parameter"
               xsi:nil="true"/>
        <Null/>
       </Condition>
      </Or>
      <Or>
       <Condition Type="String" Operator="EQ">
        <ColumnFrom Name="appName"/>
        <Value Name="appName.parameter"/>
       </Condition>
       <Condition Type="String" Operator="EQ">
        <Value Name="appName.parameter"
               xsi:nil="true"/>
        <Null/>
       </Condition>
      </Or>
      <Or>
       <Condition Type="String" Operator="EQ">
        <ColumnFrom Name="serverName"/>
        <Value Name="serverName.parameter"/>
       </Condition>
       <Condition Type="String" Operator="EQ">
        <Value Name="serverName.parameter"
               xsi:nil="true"/>
        <Null/>
       </Condition>
      </Or>
     </And>
   </Where>
  </Select>
 </Table>

</Adml>
