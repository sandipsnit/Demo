<?xml version="1.0"?>
   <Adml xmlns="http://www.oracle.com/iAS/aggregator" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" TableSpace="weblogic_j2eeserver">
      <Table Name="soainfra_composite_label_rollup_no_rate">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="Integer" Name="RequestEvents.count"/>
         <ColumnDef Type="Integer" Name="PostEvents.count"/>
         <ColumnDef Type="Integer" Name="Requests.completed"/>
         <ColumnDef Type="Double" Name="Requests.totalTime"/>
         <ColumnDef Type="Double" Name="Requests.averageTime"/>
         <ColumnDef Type="Integer" Name="Posts.completed"/>
         <ColumnDef Type="Double" Name="Posts.totalTime"/>
         <ColumnDef Type="Double" Name="Posts.averageTime"/>
         <Select Name="soainfra_composite_label_result_1">
            <TableFrom Name="soainfra_composite_label"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="Integer" Name="RequestEvents.count">
               <Aggregation Operator="Sum" Name="RequestEvents.count"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="PostEvents.count">
               <Aggregation Operator="Sum" Name="PostEvents.count"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="Requests.completed">
               <Aggregation Operator="Sum" Name="Requests.completed"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="Posts.completed">
               <Aggregation Operator="Sum" Name="Posts.completed"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Double" Name="Requests.time">
               <Aggregation Operator="Sum" Name="Requests.time"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Double" Name="Posts.time">
               <Aggregation Operator="Sum" Name="Posts.time"/>
               <Default>
                  0
               </Default>
            </Column>
            <GroupBy Name="soainfra_composite_revision"/>
            <GroupBy Name="soainfra_domain"/>
            <GroupBy Name="soainfra_composite"/>
            <GroupBy Name="ServerName"/>
         </Select>
         <Select Name="soainfra_composite_label_result">
            <TableFrom Name="soainfra_composite_label_result_1"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="Integer" Name="RequestEvents.count"/>
            <Column Type="Integer" Name="PostEvents.count"/>
            <Column Type="Integer" Name="Requests.completed"/>
            <Column Type="Integer" Name="Posts.completed"/>
<!-- the amount of time spent processing requests since startup (seconds) -->
            <Column Type="Double" Name="Requests.totalTime">
               <Expression Operator="Div">
                  <ColumnFrom Name="Requests.time"/>
                  <Value>
                     1000
                  </Value>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <!-- the amount of time spent processing posts since startup (seconds) -->
            <Column Type="Double" Name="Posts.totalTime">
               <Expression Operator="Div">
                  <ColumnFrom Name="Posts.time"/>
                  <Value>
                     1000
                  </Value>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <!-- Average Requests Processing time since startup -->
            <Column Type="Double" Name="Requests.averageTime">
               <Expression Operator="Div">
                  <Expression Operator="Div">
                     <ColumnFrom Name="Requests.time"/>
                     <Value>
                        1000
                     </Value>
                  </Expression>
                  <ColumnFrom Name="Requests.completed"/>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <!-- Average Post Processing time since startup -->
            <Column Type="Double" Name="Posts.averageTime">
               <Expression Operator="Div">
                  <Expression Operator="Div">
                     <ColumnFrom Name="Posts.time"/>
                     <Value>
                        1000
                     </Value>
                  </Expression>
                  <ColumnFrom Name="Posts.completed"/>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <!-- Only includes rows with data.  If there is no soainfra_composite name, don't return
                the row -->
            <Where>
               <Condition Operator="NE" Type="String">
                  <ColumnFrom Name="soainfra_composite"/>
                  <Null/>
               </Condition>
            </Where>
         </Select>
      </Table>
      <!-- Rate table for the weblogic target type -->
      <Table Name="soainfra_composite_label_rollup">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="Double" Name="RequestEvents.throughput"/>
         <ColumnDef Type="Double" Name="PostEvents.throughput"/>
         <ColumnDef Type="Double" Name="compositeInstances.throughput"/>
         <ColumnDef Type="Double" Name="Requests.throughput"/>
         <ColumnDef Type="Integer" Name="Requests.completed"/>
         <ColumnDef Type="Double" Name="Requests.totalTime"/>
         <ColumnDef Type="Double" Name="Requests.averageTime"/>
         <ColumnDef Type="Double" Name="Posts.throughput"/>
         <ColumnDef Type="Integer" Name="Posts.completed"/>
         <ColumnDef Type="Double" Name="Posts.totalTime"/>
         <ColumnDef Type="Double" Name="Posts.averageTime"/>
         <ColumnDef Type="Double" Name="Requests.time"/>
         <ColumnDef Type="Double" Name="Posts.time"/>
         <Select Name="soainfra_composite_label_result_1">
            <TableFrom Name="weblogic_j2eeserver:soainfra_composite_label_rollup_no_rate"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="Double" Name="Requests.totalTime"/>
            <Column Type="Double" Name="Requests.averageTime"/>
            <Column Type="Integer" Name="Requests.completed"/>
            <Column Type="Double" Name="Posts.totalTime"/>
            <Column Type="Double" Name="Posts.averageTime"/>
            <Column Type="Integer" Name="Posts.completed"/>
            <Column Type="Double" Name="RequestEvents.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="RequestEvents.count"/>
                  <Default>
                     0
                  </Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="PostEvents.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="PostEvents.count"/>
                  <Default>
                     0
                  </Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="Requests.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="Requests.completed"/>
                  <Default>
                     0
                  </Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="Posts.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="Posts.completed"/>
                  <Default>
                     0
                  </Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="Requests.time">
               <Rate Interval="300000">
                  <ColumnFrom Name="Requests.totalTime"/>
                  <ColumnFrom Name="Requests.completed"/>
                  <Default>
                     0
                  </Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="Posts.time">
               <Rate Interval="300000">
                  <ColumnFrom Name="Posts.totalTime"/>
                  <ColumnFrom Name="Posts.completed"/>
                  <Default>
                     0
                  </Default>
               </Rate>
            </Column>
         </Select>
         <Select Name="soainfra_composite_label_result">
            <TableFrom Name="soainfra_composite_label_result_1"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="Double" Name="Requests.totalTime"/>
            <Column Type="Double" Name="Requests.averageTime"/>
            <Column Type="Integer" Name="Requests.completed"/>
            <Column Type="Double" Name="Posts.totalTime"/>
            <Column Type="Double" Name="Posts.averageTime"/>
            <Column Type="Integer" Name="Posts.completed"/>
            <Column Type="Double" Name="RequestEvents.throughput"/>
            <Column Type="Double" Name="PostEvents.throughput"/>
            <Column Type="Double" Name="Requests.throughput"/>
            <Column Type="Double" Name="Posts.throughput"/>
            <Column Type="Double" Name="Requests.time"/>
            <Column Type="Double" Name="Posts.time"/>
            <Column Type="Double" Name="compositeInstances.throughput">
               <Expression Operator="Plus">
                  <ColumnFrom Name="RequestEvents.throughput"/>
                  <ColumnFrom Name="PostEvents.throughput"/>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <Where>
               <And>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_revision.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_domain.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
         </Select>
      </Table>
      <!-- Delta table for the weblogic target type -->
      <Table Name="soainfra_composite_label_delta_rollup">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="Integer" Name="RequestEvents.deltaCount"/>
         <ColumnDef Type="Integer" Name="PostEvents.deltaCount"/>
         <ColumnDef Type="Integer" Name="Requests.deltaCompleted"/>
         <ColumnDef Type="Double" Name="Requests.deltaTime"/>
         <ColumnDef Type="Double" Name="Requests.totalTime"/>
         <ColumnDef Type="Double" Name="Requests.averageTime"/>
         <ColumnDef Type="Integer" Name="Posts.deltaCompleted"/>
         <ColumnDef Type="Double" Name="Posts.deltaTime"/>
         <ColumnDef Type="Double" Name="Posts.totalTime"/>
         <ColumnDef Type="Double" Name="Posts.averageTime"/>
         <ColumnDef Type="Double" Name="Requests.deltaAverageTime"/>
         <ColumnDef Type="Double" Name="Posts.deltaAverageTime"/>
         <Select Name="soainfra_composite_label_delta_rollup_result_1">
            <TableFrom Name="weblogic_j2eeserver:soainfra_composite_label_rollup_no_rate"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="Integer" Name="RequestEvents.count"/>
            <Column Type="Integer" Name="PostEvents.count"/>
            <Column Type="Integer" Name="Requests.completed"/>
            <Column Type="Double" Name="Requests.totalTime"/>
            <Column Type="Double" Name="Requests.averageTime"/>
            <Column Type="Integer" Name="Posts.completed"/>
            <Column Type="Double" Name="Posts.totalTime"/>
            <Column Type="Double" Name="Posts.averageTime"/>
<!-- Get the previous values of completed and time.  We will use them to
                        determine the number of instances and the amount of time spent
                        during the last period.  Note that the time period is 5 minutes
                        (300 seconds = 300,000 milliseconds) -->
            <Column Type="Integer" Name="RequestEvents.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="RequestEvents.count"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="PostEvents.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="PostEvents.count"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="Requests.completed.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="Requests.completed"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="Posts.completed.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="Posts.completed"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Type="Double" Name="Requests.time.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="Requests.totalTime"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Type="Double" Name="Posts.time.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="Posts.totalTime"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
         </Select>
         <Select Name="soainfra_composite_label_delta_rollup_result_2">
            <TableFrom Name="soainfra_composite_label_delta_rollup_result_1"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="Double" Name="Requests.totalTime"/>
            <Column Type="Double" Name="Requests.averageTime"/>
            <Column Type="Double" Name="Posts.totalTime"/>
            <Column Type="Double" Name="Posts.averageTime"/>
            <Column Type="Integer" Name="RequestEvents.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="RequestEvents.count.previous"/>
                     <ColumnFrom Name="RequestEvents.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="RequestEvents.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="RequestEvents.count"/>
                        <ColumnFrom Name="RequestEvents.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="PostEvents.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="PostEvents.count.previous"/>
                     <ColumnFrom Name="PostEvents.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="PostEvents.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="PostEvents.count"/>
                        <ColumnFrom Name="PostEvents.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="Requests.deltaCompleted">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="Requests.completed.previous"/>
                     <ColumnFrom Name="Requests.completed"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="Requests.completed"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="Requests.completed"/>
                        <ColumnFrom Name="Requests.completed.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Double" Name="Requests.deltaTime">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="Requests.time.previous"/>
                     <ColumnFrom Name="Requests.totalTime"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use time -->
                     <ColumnFrom Name="Requests.totalTime"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="Requests.totalTime"/>
                        <ColumnFrom Name="Requests.time.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="Posts.deltaCompleted">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="Posts.completed.previous"/>
                     <ColumnFrom Name="Posts.completed"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="Posts.completed"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="Posts.completed"/>
                        <ColumnFrom Name="Posts.completed.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Double" Name="Posts.deltaTime">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="Posts.time.previous"/>
                     <ColumnFrom Name="Posts.totalTime"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use time -->
                     <ColumnFrom Name="Posts.totalTime"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="Posts.totalTime"/>
                        <ColumnFrom Name="Posts.time.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
         </Select>
         <Select Name="soainfra_composite_label_delta_rollup_result">
            <TableFrom Name="soainfra_composite_label_delta_rollup_result_2"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="Double" Name="Requests.totalTime"/>
            <Column Type="Double" Name="Requests.averageTime"/>
            <Column Type="Double" Name="Posts.totalTime"/>
            <Column Type="Double" Name="Posts.averageTime"/>
            <Column Type="Integer" Name="RequestEvents.deltaCount"/>
            <Column Type="Integer" Name="PostEvents.deltaCount"/>
            <Column Type="Integer" Name="Requests.deltaCompleted"/>
            <Column Type="Double" Name="Requests.deltaTime"/>
            <Column Type="Integer" Name="Posts.deltaCompleted"/>
            <Column Type="Double" Name="Posts.deltaTime"/>
<!-- Average successful Message Processing time for last 5 mins -->
            <Column Type="Double" Name="Requests.deltaAverageTime">
               <Expression Operator="Div">
                  <ColumnFrom Name="Requests.deltaTime"/>
                  <ColumnFrom Name="Requests.deltaCompleted"/>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <!-- Average successful Message Processing time for last 5 mins -->
            <Column Type="Double" Name="Posts.deltaAverageTime">
               <Expression Operator="Div">
                  <ColumnFrom Name="Posts.deltaTime"/>
                  <ColumnFrom Name="Posts.deltaCompleted"/>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <Where>
               <And>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_revision.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_domain.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
         </Select>
      </Table>
      <!-- end delta table -->

      <Table Name="soainfra_composite_faults_with_rate">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="Double" Name="faulted.throughput"/>
         <ColumnDef Type="Double" Name="faulted.time"/>
         <Select Name="soainfra_composite_faults_result">
            <TableFrom Name="weblogic_j2eeserver:soainfra_component_rollup"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Name="faulted.throughput" Type="Double">
               <Aggregation Operator="Sum" Name="faulted.throughput"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Name="faulted.time" Type="Double">
               <Aggregation Operator="Sum" Name="faulted.time"/>
               <Default>
                  0
               </Default>
            </Column>
            <GroupBy Name="soainfra_composite_revision"/>
            <GroupBy Name="soainfra_domain"/>
            <GroupBy Name="soainfra_composite"/>
            <GroupBy Name="ServerName"/>
            <Where>
               <And>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_revision.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_domain.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
         </Select>
      </Table>
      <!-- JVM rollup table for the weblogic target type -->
      <Table Name="soainfra_binding_rollup_no_rate">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_assembly_member_type"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_assembly_member"/>
         <ColumnDef Type="Integer" Name="processIncomingMessagesEvents.count"/>
         <ColumnDef Type="Integer" Name="processOutboundMessagesEvents.count"/>
         <ColumnDef Type="Integer" Name="Errors.count"/>
         <ColumnDef Type="Integer" Name="processIncomingMessages.completed"/>
         <ColumnDef Type="Double" Name="processIncomingMessages.totalTime"/>
         <ColumnDef Type="Double" Name="processIncomingMessages.averageTime"/>
         <ColumnDef Type="Integer" Name="processOutboundMessages.completed"/>
         <ColumnDef Type="Double" Name="processOutboundMessages.totalTime"/>
         <ColumnDef Type="Double" Name="processOutboundMessages.averageTime"/>
         <Select Name="soainfra_binding_label_result_1">
            <TableFrom Name="soainfra_Binding"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_assembly_member_type"/>
            <Column Type="String" Name="soainfra_composite_assembly_member"/>
            <Column Type="Integer" Name="processIncomingMessagesEvents.count">
               <Aggregation Operator="Sum" Name="processIncomingMessagesEvents.count"/>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="processOutboundMessagesEvents.count">
               <Aggregation Operator="Sum" Name="processOutboundMessagesEvents.count"/>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="Errors.count">
               <Aggregation Operator="Sum" Name="Errors.count"/>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="processIncomingMessages.completed">
               <Aggregation Operator="Sum" Name="processIncomingMessages.completed"/>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="processOutboundMessages.completed">
               <Aggregation Operator="Sum" Name="processOutboundMessages.completed"/>
               <Default>0</Default>
            </Column>
            <Column Type="Double" Name="processOutboundMessages.time">
               <Aggregation Operator="Sum" Name="processOutboundMessages.time"/>
               <Default>0</Default>
            </Column>
            <Column Type="Double" Name="processIncomingMessages.time">
               <Aggregation Operator="Sum" Name="processIncomingMessages.time"/>
               <Default>0</Default>
            </Column>
            <GroupBy Name="soainfra_composite_assembly_member_type"/>
            <GroupBy Name="soainfra_composite_assembly_member"/>
            <GroupBy Name="soainfra_composite_revision"/>
            <GroupBy Name="soainfra_composite"/>
            <GroupBy Name="soainfra_domain"/>
            <GroupBy Name="ServerName"/>
         </Select>
         <Select Name="soainfra_binding_label_result">
            <TableFrom Name="soainfra_binding_label_result_1"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_assembly_member_type"/>
            <Column Type="String" Name="soainfra_composite_assembly_member"/>
            <Column Type="Integer" Name="processIncomingMessagesEvents.count"/>
            <Column Type="Integer" Name="processOutboundMessagesEvents.count"/>
            <Column Type="Integer" Name="Errors.count"/>
            <Column Type="Integer" Name="processIncomingMessages.completed"/>
            <Column Type="Integer" Name="processOutboundMessages.completed"/>
<!-- the amount of time spent processing incoming messages since startup (seconds) -->
            <Column Type="Double" Name="processIncomingMessages.totalTime">
               <Expression Operator="Div">
                  <ColumnFrom Name="processIncomingMessages.time"/>
                  <Value>1000</Value>
               </Expression>
               <Default>0</Default>
            </Column>
            <!-- the amount of time spent processing outbound messages since startup (seconds) -->
            <Column Type="Double" Name="processOutboundMessages.totalTime">
               <Expression Operator="Div">
                  <ColumnFrom Name="processOutboundMessages.time"/>
                  <Value>1000</Value>
               </Expression>
               <Default>0</Default>
            </Column>
            <!-- Average incoming message processing time since startup -->
            <Column Type="Double" Name="processIncomingMessages.averageTime">
               <Expression Operator="Div">
                  <Expression Operator="Div">
                     <ColumnFrom Name="processIncomingMessages.time"/>
                     <Value>1000</Value>
                  </Expression>
                  <ColumnFrom Name="processIncomingMessages.completed"/>
               </Expression>
               <Default>0</Default>
            </Column>
            <!-- Average outbound message processing time since startup -->
            <Column Type="Double" Name="processOutboundMessages.averageTime">
               <Expression Operator="Div">
                  <Expression Operator="Div">
                     <ColumnFrom Name="processOutboundMessages.time"/>
                     <Value>1000</Value>
                  </Expression>
                  <ColumnFrom Name="processOutboundMessages.completed"/>
               </Expression>
               <Default>0</Default>
            </Column>
            <!-- Only includes rows with data.  If there is no soainfra_composite name, don't return
                the row -->
            <Where>
               <Condition Operator="NE" Type="String">
                  <ColumnFrom Name="soainfra_composite"/>
                  <Null/>
               </Condition>
            </Where>
         </Select>
      </Table>
      <!-- Rate table for the weblogic target type -->
      <Table Name="soainfra_binding_rollup">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_assembly_member_type"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_assembly_member"/>
         <ColumnDef Type="Double" Name="processIncomingMessagesEvents.throughput"/>
         <ColumnDef Type="Double" Name="processOutboundMessagesEvents.throughput"/>
         <ColumnDef Type="Double" Name="Errors.throughput"/>
         <ColumnDef Type="Double" Name="processIncomingMessages.throughput"/>
         <ColumnDef Type="Integer" Name="processIncomingMessages.completed"/>
         <ColumnDef Type="Double" Name="processIncomingMessages.totalTime"/>
         <ColumnDef Type="Double" Name="processIncomingMessages.averageTime"/>
         <ColumnDef Type="Double" Name="processIncomingMessages.time"/>
         <ColumnDef Type="Double" Name="processOutboundMessages.throughput"/>
         <ColumnDef Type="Integer" Name="processOutboundMessages.completed"/>
         <ColumnDef Type="Double" Name="processOutboundMessages.totalTime"/>
         <ColumnDef Type="Double" Name="processOutboundMessages.averageTime"/>
         <ColumnDef Type="Double" Name="processOutboundMessages.time"/>
         <ColumnDef Type="Integer" Name="processIncomingMessagesEvents.count"/>
         <ColumnDef Type="Integer" Name="processOutboundMessagesEvents.count"/>
         <ColumnDef Type="Integer" Name="Errors.count"/>
         <Select Name="soainfra_binding_result">
            <TableFrom Name="weblogic_j2eeserver:soainfra_binding_rollup_no_rate"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_assembly_member_type"/>
            <Column Type="String" Name="soainfra_composite_assembly_member"/>
            <Column Type="Double" Name="processIncomingMessages.totalTime"/>
            <Column Type="Double" Name="processIncomingMessages.averageTime"/>
            <Column Type="Integer" Name="processIncomingMessages.completed"/>
            <Column Type="Double" Name="processOutboundMessages.totalTime"/>
            <Column Type="Double" Name="processOutboundMessages.averageTime"/>
            <Column Type="Integer" Name="processOutboundMessages.completed"/>
            <Column Type="Integer" Name="processIncomingMessagesEvents.count"/>
            <Column Type="Integer" Name="processOutboundMessagesEvents.count"/>
            <Column Type="Integer" Name="Errors.count"/>
            <Column Type="Double" Name="processIncomingMessagesEvents.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="processIncomingMessagesEvents.count"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="processOutboundMessagesEvents.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="processOutboundMessagesEvents.count"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="Errors.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="Errors.count"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="processIncomingMessages.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="processIncomingMessages.completed"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="processOutboundMessages.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="processOutboundMessages.completed"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="processIncomingMessages.time">
               <Rate Interval="300000">
                  <ColumnFrom Name="processIncomingMessages.totalTime"/>
                  <ColumnFrom Name="processIncomingMessages.completed"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="processOutboundMessages.time">
               <Rate Interval="300000">
                  <ColumnFrom Name="processOutboundMessages.totalTime"/>
                  <ColumnFrom Name="processOutboundMessages.completed"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Where>
               <And>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_assembly_member_type"/>
                        <Value Name="soainfra_composite_assembly_member_type.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_assembly_member_type.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_assembly_member"/>
                        <Value Name="soainfra_composite_assembly_member.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_assembly_member.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_revision.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_domain.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
         </Select>
      </Table>
      <!-- Delta table for the weblogic target type -->
      <Table Name="soainfra_binding_delta_rollup">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_assembly_member_type"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_assembly_member"/>
         <ColumnDef Type="Integer" Name="processIncomingMessagesEvents.deltaCount"/>
         <ColumnDef Type="Integer" Name="processOutboundMessagesEvents.deltaCount"/>
         <ColumnDef Type="Integer" Name="Errors.deltaCount"/>
         <ColumnDef Type="Integer" Name="processIncomingMessages.deltaCompleted"/>
         <ColumnDef Type="Double" Name="processIncomingMessages.deltaTime"/>
         <ColumnDef Type="Double" Name="processIncomingMessages.totalTime"/>
         <ColumnDef Type="Double" Name="processIncomingMessages.averageTime"/>
         <ColumnDef Type="Integer" Name="processOutboundMessages.deltaCompleted"/>
         <ColumnDef Type="Double" Name="processOutboundMessages.deltaTime"/>
         <ColumnDef Type="Double" Name="processOutboundMessages.totalTime"/>
         <ColumnDef Type="Double" Name="processOutboundMessages.averageTime"/>
         <ColumnDef Type="Double" Name="processIncomingMessages.deltaAverageTime"/>
         <ColumnDef Type="Double" Name="processOutboundMessages.deltaAverageTime"/>
         <Select Name="soainfra_binding_delta_rollup_result_1">
            <TableFrom Name="weblogic_j2eeserver:soainfra_binding_rollup_no_rate"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_assembly_member_type"/>
            <Column Type="String" Name="soainfra_composite_assembly_member"/>
            <Column Type="Integer" Name="processIncomingMessagesEvents.count"/>
            <Column Type="Integer" Name="processOutboundMessagesEvents.count"/>
            <Column Type="Integer" Name="Errors.count"/>
            <Column Type="Integer" Name="processIncomingMessages.completed"/>
            <Column Type="Double" Name="processIncomingMessages.totalTime"/>
            <Column Type="Double" Name="processIncomingMessages.averageTime"/>
            <Column Type="Integer" Name="processOutboundMessages.completed"/>
            <Column Type="Double" Name="processOutboundMessages.totalTime"/>
            <Column Type="Double" Name="processOutboundMessages.averageTime"/>
<!-- Get the previous values of completed and time.  We will use them to
                        determine the number of instances and the amount of time spent
                        during the last period.  Note that the time period is 5 minutes
                        (300 seconds = 300,000 milliseconds) -->
            <Column Type="Integer" Name="processIncomingMessagesEvents.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="processIncomingMessagesEvents.count"/>
                  <Default>0</Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="processOutboundMessagesEvents.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="processOutboundMessagesEvents.count"/>
                  <Default>0</Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="Errors.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="Errors.count"/>
                  <Default>0</Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="processIncomingMessages.completed.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="processIncomingMessages.completed"/>
                  <Default>0</Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="processOutboundMessages.completed.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="processOutboundMessages.completed"/>
                  <Default>0</Default>
               </Previous>
            </Column>
            <Column Type="Double" Name="processIncomingMessages.time.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="processIncomingMessages.totalTime"/>
                  <Default>0</Default>
               </Previous>
            </Column>
            <Column Type="Double" Name="processOutboundMessages.time.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="processOutboundMessages.totalTime"/>
                  <Default>0</Default>
               </Previous>
            </Column>
         </Select>
         <Select Name="soainfra_binding_delta_rollup_result_2">
            <TableFrom Name="soainfra_binding_delta_rollup_result_1"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_assembly_member_type"/>
            <Column Type="String" Name="soainfra_composite_assembly_member"/>
            <Column Type="Double" Name="processIncomingMessages.totalTime"/>
            <Column Type="Double" Name="processIncomingMessages.averageTime"/>
            <Column Type="Double" Name="processOutboundMessages.totalTime"/>
            <Column Type="Double" Name="processOutboundMessages.averageTime"/>
            <Column Type="Integer" Name="processIncomingMessagesEvents.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="processIncomingMessagesEvents.count.previous"/>
                     <ColumnFrom Name="processIncomingMessagesEvents.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="processIncomingMessagesEvents.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="processIncomingMessagesEvents.count"/>
                        <ColumnFrom Name="processIncomingMessagesEvents.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="processOutboundMessagesEvents.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="processOutboundMessagesEvents.count.previous"/>
                     <ColumnFrom Name="processOutboundMessagesEvents.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="processOutboundMessagesEvents.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="processOutboundMessagesEvents.count"/>
                        <ColumnFrom Name="processOutboundMessagesEvents.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="Errors.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="Errors.count.previous"/>
                     <ColumnFrom Name="Errors.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="Errors.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="Errors.count"/>
                        <ColumnFrom Name="Errors.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="processIncomingMessages.deltaCompleted">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="processIncomingMessages.completed.previous"/>
                     <ColumnFrom Name="processIncomingMessages.completed"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="processIncomingMessages.completed"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="processIncomingMessages.completed"/>
                        <ColumnFrom Name="processIncomingMessages.completed.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>0</Default>
            </Column>
            <Column Type="Double" Name="processIncomingMessages.deltaTime">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="processIncomingMessages.time.previous"/>
                     <ColumnFrom Name="processIncomingMessages.totalTime"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use time -->
                     <ColumnFrom Name="processIncomingMessages.totalTime"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="processIncomingMessages.totalTime"/>
                        <ColumnFrom Name="processIncomingMessages.time.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="processOutboundMessages.deltaCompleted">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="processOutboundMessages.completed.previous"/>
                     <ColumnFrom Name="processOutboundMessages.completed"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="processOutboundMessages.completed"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="processOutboundMessages.completed"/>
                        <ColumnFrom Name="processOutboundMessages.completed.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>0</Default>
            </Column>
            <Column Type="Double" Name="processOutboundMessages.deltaTime">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="processOutboundMessages.time.previous"/>
                     <ColumnFrom Name="processOutboundMessages.totalTime"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use time -->
                     <ColumnFrom Name="processOutboundMessages.totalTime"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="processOutboundMessages.totalTime"/>
                        <ColumnFrom Name="processOutboundMessages.time.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>0</Default>
            </Column>
         </Select>
         <Select Name="soainfra_binding_delta_rollup_result">
            <TableFrom Name="soainfra_binding_delta_rollup_result_2"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_assembly_member_type"/>
            <Column Type="String" Name="soainfra_composite_assembly_member"/>
            <Column Type="Double" Name="processIncomingMessages.totalTime"/>
            <Column Type="Double" Name="processIncomingMessages.averageTime"/>
            <Column Type="Double" Name="processOutboundMessages.totalTime"/>
            <Column Type="Double" Name="processOutboundMessages.averageTime"/>
            <Column Type="Integer" Name="processIncomingMessagesEvents.deltaCount"/>
            <Column Type="Integer" Name="processOutboundMessagesEvents.deltaCount"/>
            <Column Type="Integer" Name="Errors.deltaCount"/>
            <Column Type="Integer" Name="processIncomingMessages.deltaCompleted"/>
            <Column Type="Double" Name="processIncomingMessages.deltaTime"/>
            <Column Type="Integer" Name="processOutboundMessages.deltaCompleted"/>
            <Column Type="Double" Name="processOutboundMessages.deltaTime"/>
<!-- Average successful Message Processing time for last 5 mins -->
            <Column Type="Double" Name="processIncomingMessages.deltaAverageTime">
               <Expression Operator="Div">
                  <ColumnFrom Name="processIncomingMessages.deltaTime"/>
                  <ColumnFrom Name="processIncomingMessages.deltaCompleted"/>
               </Expression>
               <Default>0</Default>
            </Column>
            <!-- Average successful Message Processing time for last 5 mins -->
            <Column Type="Double" Name="processOutboundMessages.deltaAverageTime">
               <Expression Operator="Div">
                  <ColumnFrom Name="processOutboundMessages.deltaTime"/>
                  <ColumnFrom Name="processOutboundMessages.deltaCompleted"/>
               </Expression>
               <Default>0</Default>
            </Column>
            <Where>
               <And>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_assembly_member_type"/>
                        <Value Name="soainfra_composite_assembly_member_type.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_assembly_member_type.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_assembly_member"/>
                        <Value Name="soainfra_composite_assembly_member.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_assembly_member.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_revision.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_domain.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
         </Select>
      </Table>
      <!-- end delta table -->
      <!-- JVM rollup table for the weblogic target type -->
      <Table Name="interceptor_policy_version_rollup_no_rate">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_assembly_member"/>
         <ColumnDef Type="String" Key="true" Name="policy_name"/>
         <ColumnDef Type="String" Name="soainfra_composite_assembly_member_type"/>
         <ColumnDef Type="String" Name="policy_category"/>
         <ColumnDef Type="String" Name="policy_version"/>
         <ColumnDef Type="Integer" Name="AuthenticationFailures.count"/>
         <ColumnDef Type="Integer" Name="AuthenticationSuccesses.count"/>
         <ColumnDef Type="Integer" Name="AuthorizationFailures.count"/>
         <ColumnDef Type="Integer" Name="AuthorizationSuccesses.count"/>
         <ColumnDef Type="Integer" Name="ConfidentialityFailures.count"/>
         <ColumnDef Type="Integer" Name="ConfidentialitySuccesses.count"/>
         <ColumnDef Type="Integer" Name="IntegrityFailures.count"/>
         <ColumnDef Type="Integer" Name="IntegritySuccesses.count"/>
         <ColumnDef Type="Integer" Name="TotalViolations.count"/>
         <Select Name="interceptor_policy_version_result">
            <TableFrom Name="interceptor_policy_version"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="policy_category">
               <ColumnFrom Name="interceptor"/>
            </Column>
            <Column Type="String" Name="policy_name">
               <ColumnFrom Name="interceptor_policy"/>
            </Column>
            <Column Type="String" Name="policy_version">
               <ColumnFrom Name="Name"/>
            </Column>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_assembly_member_type"/>
            <Column Type="String" Name="soainfra_composite_assembly_member"/>
            <Column Type="Integer" Name="AuthenticationFailures.count">
               <Aggregation Operator="Sum" Name="AuthenticationFailures.count"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="AuthenticationSuccesses.count">
               <Aggregation Operator="Sum" Name="AuthenticationSuccesses.count"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="AuthorizationFailures.count">
               <Aggregation Operator="Sum" Name="AuthorizationFailures.count"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="AuthorizationSuccesses.count">
               <Aggregation Operator="Sum" Name="AuthorizationSuccesses.count"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="ConfidentialityFailures.count">
               <Aggregation Operator="Sum" Name="ConfidentialityFailures.count"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="ConfidentialitySuccesses.count">
               <Aggregation Operator="Sum" Name="ConfidentialitySuccesses.count"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="IntegrityFailures.count">
               <Aggregation Operator="Sum" Name="IntegrityFailures.count"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="IntegritySuccesses.count">
               <Aggregation Operator="Sum" Name="IntegritySuccesses.count"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="TotalViolations.count">
               <Aggregation Operator="Sum" Name="TotalViolations.count"/>
               <Default>
                  0
               </Default>
            </Column>
            <GroupBy Name="policy_category"/>
            <GroupBy Name="policy_version"/>
            <GroupBy Name="policy_name"/>
            <GroupBy Name="soainfra_composite_assembly_member_type"/>
            <GroupBy Name="soainfra_composite_assembly_member"/>
            <GroupBy Name="soainfra_composite_revision"/>
            <GroupBy Name="soainfra_composite"/>
            <GroupBy Name="soainfra_domain"/>
            <GroupBy Name="ServerName"/>
<!-- Only includes rows with data.  If there is no soainfra_composite name, don't return
                the row -->
<!--
            <Where>
               <Condition Operator="NE" Type="String">
                  <ColumnFrom Name="soainfra_composite"/>
                  <Null/>
               </Condition>
            </Where>
-->
         </Select>
      </Table>
      <!-- Rate table for the weblogic target type -->
      <Table Name="interceptor_policy_version_rollup">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="policy_category"/>
         <ColumnDef Type="String" Key="true" Name="policy_name"/>
         <ColumnDef Type="String" Key="true" Name="policy_version"/>
         <ColumnDef Type="String" Name="soainfra_domain"/>
         <ColumnDef Type="String" Name="soainfra_composite"/>
         <ColumnDef Type="String" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Name="soainfra_composite_assembly_member_type"/>
         <ColumnDef Type="String" Name="soainfra_composite_assembly_member"/>
         <ColumnDef Type="Double" Name="AuthenticationFailures.throughput"/>
         <ColumnDef Type="Double" Name="AuthenticationSuccesses.throughput"/>
         <ColumnDef Type="Double" Name="AuthorizationFailures.throughput"/>
         <ColumnDef Type="Double" Name="AuthorizationSuccesses.throughput"/>
         <ColumnDef Type="Double" Name="ConfidentialityFailures.throughput"/>
         <ColumnDef Type="Double" Name="ConfidentialitySuccesses.throughput"/>
         <ColumnDef Type="Double" Name="IntegrityFailures.throughput"/>
         <ColumnDef Type="Double" Name="IntegritySuccesses.throughput"/>
         <ColumnDef Type="Double" Name="TotalViolations.throughput"/>
         <ColumnDef Type="Integer" Name="AuthenticationFailures.count"/>
         <ColumnDef Type="Integer" Name="AuthenticationSuccesses.count"/>
         <ColumnDef Type="Integer" Name="AuthorizationFailures.count"/>
         <ColumnDef Type="Integer" Name="AuthorizationSuccesses.count"/>
         <ColumnDef Type="Integer" Name="ConfidentialityFailures.count"/>
         <ColumnDef Type="Integer" Name="ConfidentialitySuccesses.count"/>
         <ColumnDef Type="Integer" Name="IntegrityFailures.count"/>
         <ColumnDef Type="Integer" Name="IntegritySuccesses.count"/>
         <ColumnDef Type="Integer" Name="TotalViolations.count"/>

         <Select Name="interceptor_policy_version_result">
            <TableFrom Name="weblogic_j2eeserver:interceptor_policy_version_rollup_no_rate"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="policy_category"/>
            <Column Type="String" Name="policy_name"/>
            <Column Type="String" Name="policy_version"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_assembly_member_type"/>
            <Column Type="String" Name="soainfra_composite_assembly_member"/>
       <Column Type="Integer" Name="AuthenticationFailures.count"/>
     <Column Type="Integer" Name="AuthenticationSuccesses.count"/>
     <Column Type="Integer" Name="AuthorizationFailures.count"/>
     <Column Type="Integer" Name="AuthorizationSuccesses.count"/>
     <Column Type="Integer" Name="ConfidentialityFailures.count"/>
     <Column Type="Integer" Name="ConfidentialitySuccesses.count"/>
     <Column Type="Integer" Name="IntegrityFailures.count"/>
     <Column Type="Integer" Name="IntegritySuccesses.count"/>
     <Column Type="Integer" Name="TotalViolations.count"/>

            <Column Type="Double" Name="AuthenticationFailures.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="AuthenticationFailures.count"/>
                  <Default>
                     0
                  </Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="AuthenticationSuccesses.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="AuthenticationSuccesses.count"/>
                  <Default>
                     0
                  </Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="AuthorizationFailures.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="AuthorizationFailures.count"/>
                  <Default>
                     0
                  </Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="AuthorizationSuccesses.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="AuthorizationSuccesses.count"/>
                  <Default>
                     0
                  </Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="ConfidentialityFailures.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="ConfidentialityFailures.count"/>
                  <Default>
                     0
                  </Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="ConfidentialitySuccesses.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="ConfidentialitySuccesses.count"/>
                  <Default>
                     0
                  </Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="IntegrityFailures.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="IntegrityFailures.count"/>
                  <Default>
                     0
                  </Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="IntegritySuccesses.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="IntegritySuccesses.count"/>
                  <Default>
                     0
                  </Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="TotalViolations.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="TotalViolations.count"/>
                  <Default>
                     0
                  </Default>
               </Rate>
            </Column>
            <Where>
               <And>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="policy_version"/>
                        <Value Name="policy_version.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="policy_version.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="policy_name"/>
                        <Value Name="policy_name.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="policy_name.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="policy_category"/>
                        <Value Name="policy_category.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="policy_category.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_assembly_member"/>
                        <Value Name="soainfra_composite_assembly_member.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_assembly_member.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_assembly_member_type"/>
                        <Value Name="soainfra_composite_assembly_member_type.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_assembly_member_type.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_revision.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_domain.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
         </Select>
      </Table>
      <!-- Delta table for the weblogic target type -->
      <Table Name="interceptor_policy_version_delta_rollup">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="policy_category"/>
         <ColumnDef Type="String" Key="true" Name="policy_name"/>
         <ColumnDef Type="String" Key="true" Name="policy_version"/>
         <ColumnDef Type="String" Name="soainfra_domain"/>
         <ColumnDef Type="String" Name="soainfra_composite"/>
         <ColumnDef Type="String" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Name="soainfra_composite_assembly_member_type"/>
         <ColumnDef Type="String" Name="soainfra_composite_assembly_member"/>
         <ColumnDef Type="Integer" Name="AuthenticationFailures.deltaCount"/>
         <ColumnDef Type="Integer" Name="AuthenticationSuccesses.deltaCount"/>
         <ColumnDef Type="Integer" Name="AuthorizationFailures.deltaCount"/>
         <ColumnDef Type="Integer" Name="AuthorizationSuccesses.deltaCount"/>
         <ColumnDef Type="Integer" Name="ConfidentialityFailures.deltaCount"/>
         <ColumnDef Type="Integer" Name="ConfidentialitySuccesses.deltaCount"/>
         <ColumnDef Type="Integer" Name="IntegrityFailures.deltaCount"/>
         <ColumnDef Type="Integer" Name="IntegritySuccesses.deltaCount"/>
         <ColumnDef Type="Integer" Name="TotalViolations.deltaCount"/>
         <Select Name="interceptor_policy_version_delta_rollup_result_1">
            <TableFrom Name="weblogic_j2eeserver:interceptor_policy_version_rollup_no_rate"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="policy_category"/>
            <Column Type="String" Name="policy_name"/>
            <Column Type="String" Name="policy_version"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_assembly_member_type"/>
            <Column Type="String" Name="soainfra_composite_assembly_member"/>
            <Column Type="Integer" Name="AuthenticationFailures.count"/>
            <Column Type="Integer" Name="AuthenticationSuccesses.count"/>
            <Column Type="Integer" Name="AuthorizationFailures.count"/>
            <Column Type="Integer" Name="AuthorizationSuccesses.count"/>
            <Column Type="Integer" Name="ConfidentialityFailures.count"/>
            <Column Type="Integer" Name="ConfidentialitySuccesses.count"/>
            <Column Type="Integer" Name="IntegrityFailures.count"/>
            <Column Type="Integer" Name="IntegritySuccesses.count"/>
            <Column Type="Integer" Name="TotalViolations.count"/>
<!-- Get the previous values of completed and time.  We will use them to
                        determine the number of instances and the amount of time spent
                        during the last period.  Note that the time period is 5 minutes
                        (300 seconds = 300,000 milliseconds) -->
            <Column Type="Integer" Name="AuthenticationFailures.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="AuthenticationFailures.count"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="AuthenticationSuccesses.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="AuthenticationSuccesses.count"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="AuthorizationFailures.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="AuthorizationFailures.count"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="AuthorizationSuccesses.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="AuthorizationSuccesses.count"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="ConfidentialityFailures.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="ConfidentialityFailures.count"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="ConfidentialitySuccesses.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="ConfidentialitySuccesses.count"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="IntegrityFailures.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="IntegrityFailures.count"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="IntegritySuccesses.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="IntegritySuccesses.count"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="TotalViolations.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="TotalViolations.count"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
         </Select>
         <Select Name="interceptor_policy_version_delta_rollup_result_2">
            <TableFrom Name="interceptor_policy_version_delta_rollup_result_1"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="policy_category"/>
            <Column Type="String" Name="policy_name"/>
            <Column Type="String" Name="policy_version"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_assembly_member_type"/>
            <Column Type="String" Name="soainfra_composite_assembly_member"/>
            <Column Type="Integer" Name="AuthenticationFailures.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="AuthenticationFailures.count.previous"/>
                     <ColumnFrom Name="AuthenticationFailures.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="AuthenticationFailures.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="AuthenticationFailures.count"/>
                        <ColumnFrom Name="AuthenticationFailures.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="AuthenticationSuccesses.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="AuthenticationSuccesses.count.previous"/>
                     <ColumnFrom Name="AuthenticationSuccesses.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="AuthenticationSuccesses.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="AuthenticationSuccesses.count"/>
                        <ColumnFrom Name="AuthenticationSuccesses.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="AuthorizationFailures.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="AuthorizationFailures.count.previous"/>
                     <ColumnFrom Name="AuthorizationFailures.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="AuthorizationFailures.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="AuthorizationFailures.count"/>
                        <ColumnFrom Name="AuthorizationFailures.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="AuthorizationSuccesses.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="AuthorizationSuccesses.count.previous"/>
                     <ColumnFrom Name="AuthorizationSuccesses.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="AuthorizationSuccesses.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="AuthorizationSuccesses.count"/>
                        <ColumnFrom Name="AuthorizationSuccesses.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="ConfidentialityFailures.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="ConfidentialityFailures.count.previous"/>
                     <ColumnFrom Name="ConfidentialityFailures.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="ConfidentialityFailures.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="ConfidentialityFailures.count"/>
                        <ColumnFrom Name="ConfidentialityFailures.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="ConfidentialitySuccesses.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="ConfidentialitySuccesses.count.previous"/>
                     <ColumnFrom Name="ConfidentialitySuccesses.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="ConfidentialitySuccesses.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="ConfidentialitySuccesses.count"/>
                        <ColumnFrom Name="ConfidentialitySuccesses.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="IntegrityFailures.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="IntegrityFailures.count.previous"/>
                     <ColumnFrom Name="IntegrityFailures.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="IntegrityFailures.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="IntegrityFailures.count"/>
                        <ColumnFrom Name="IntegrityFailures.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="IntegritySuccesses.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="IntegritySuccesses.count.previous"/>
                     <ColumnFrom Name="IntegritySuccesses.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="IntegritySuccesses.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="IntegritySuccesses.count"/>
                        <ColumnFrom Name="IntegritySuccesses.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="TotalViolations.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="TotalViolations.count.previous"/>
                     <ColumnFrom Name="TotalViolations.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="TotalViolations.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="TotalViolations.count"/>
                        <ColumnFrom Name="TotalViolations.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Where>
               <And>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="policy_version"/>
                        <Value Name="policy_version.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="policy_version.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="policy_name"/>
                        <Value Name="policy_name.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="policy_name.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="policy_category"/>
                        <Value Name="policy_category.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="policy_category.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_assembly_member"/>
                        <Value Name="soainfra_composite_assembly_member.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_assembly_member.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_assembly_member_type"/>
                        <Value Name="soainfra_composite_assembly_member_type.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_assembly_member_type.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_revision.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_domain.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
         </Select>
      </Table>
      <Table Name="soainfra_component_rollup_no_rate">
         <ColumnDef Type="String" Key="true" Name="Name"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Name="soainfra_composite_label"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_component_type"/>
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="Integer" Name="instantiated.count"/>
         <ColumnDef Type="Integer" Name="successful.completed"/>
         <ColumnDef Type="Integer" Name="successful.active"/>
         <ColumnDef Type="Integer" Name="faulted.completed"/>
         <ColumnDef Type="Integer" Name="faulted.active"/>
         <ColumnDef Type="Double" Name="successful.totalTime"/>
         <ColumnDef Type="Double" Name="faulted.totalTime"/>
         <ColumnDef Type="Double" Name="successful.averageTime"/>
         <ColumnDef Type="Double" Name="faulted.averageTime"/>
         <ColumnDef Type="Integer" Name="businessFaults.count"/>
         <ColumnDef Type="Integer" Name="systemFaults.count"/>
         <ColumnDef Type="Integer" Name="totalFaults.count"/>
         <Select Name="soainfra_component_rollup_no_rate_result_1">
            <TableFrom Name="soainfra_component"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_label"/>
            <Column Type="String" Name="soainfra_component_type"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="Integer" Name="instantiated.count">
               <Aggregation Operator="Sum" Name="instantiated.count"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="successful.completed">
               <Aggregation Operator="Sum" Name="successfulInstanceProcessingTime.completed"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="successful.active">
               <Aggregation Operator="Sum" Name="successfulInstanceProcessingTime.active"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="faulted.completed">
               <Aggregation Operator="Sum" Name="faultedInstanceProcessingTime.completed"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="faulted.active">
               <Aggregation Operator="Sum" Name="faultedInstanceProcessingTime.active"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Double" Name="successfulInstanceProcessingTime.time">
               <Aggregation Operator="Sum" Name="successfulInstanceProcessingTime.time"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Double" Name="faultedInstanceProcessingTime.time">
               <Aggregation Operator="Sum" Name="faultedInstanceProcessingTime.time"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="businessFaults.count">
               <Aggregation Operator="Sum" Name="businessFaults.count"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="systemFaults.count">
               <Aggregation Operator="Sum" Name="systemFaults.count"/>
               <Default>
                  0
               </Default>
            </Column>
            <GroupBy Name="Name"/>
            <GroupBy Name="soainfra_component_type"/>
            <GroupBy Name="soainfra_composite_revision"/>
            <GroupBy Name="soainfra_composite_label"/>
            <GroupBy Name="soainfra_composite"/>
            <GroupBy Name="soainfra_domain"/>
            <GroupBy Name="ServerName"/>
         </Select>
         <Select Name="soainfra_component_rollup_no_rate_result">
            <TableFrom Name="soainfra_component_rollup_no_rate_result_1"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_label"/>
            <Column Type="String" Name="soainfra_component_type"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="Integer" Name="instantiated.count"/>
            <Column Type="Integer" Name="successful.completed"/>
            <Column Type="Integer" Name="successful.active"/>
            <Column Type="Integer" Name="faulted.completed"/>
            <Column Type="Integer" Name="faulted.active"/>
            <Column Type="Integer" Name="businessFaults.count"/>
            <Column Type="Integer" Name="systemFaults.count"/>
            <Column Type="Integer" Name="totalFaults.count">
               <Expression Operator="Plus">
                  <ColumnFrom Name="businessFaults.count"/>
                  <ColumnFrom Name="systemFaults.count"/>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <!-- the amount of time spent processing faulted requests since startup (milliseconds) -->
            <Column Type="Double" Name="successful.totalTime">
               <Expression Operator="Div">
                  <ColumnFrom Name="successfulInstanceProcessingTime.time"/>
                  <Value>
                     1000
                  </Value>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <!-- the amount of time spent processing faulted requests since startup (milliseconds) -->
            <Column Type="Double" Name="faulted.totalTime">
               <Expression Operator="Div">
                  <ColumnFrom Name="faultedInstanceProcessingTime.time"/>
                  <Value>
                     1000
                  </Value>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <!-- Average Successful Request Processing time since startup -->
            <Column Type="Double" Name="successful.averageTime">
               <Expression Operator="Div">
                  <Expression Operator="Div">
                     <ColumnFrom Name="successfulInstanceProcessingTime.time"/>
                     <Value>
                        1000
                     </Value>
                  </Expression>
                  <ColumnFrom Name="successful.completed"/>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <!-- Average Faulted Request Processing time since startup -->
            <Column Type="Double" Name="faulted.averageTime">
               <Expression Operator="Div">
                  <Expression Operator="Div">
                     <ColumnFrom Name="faultedInstanceProcessingTime.time"/>
                     <Value>
                        1000
                     </Value>
                  </Expression>
                  <ColumnFrom Name="faulted.completed"/>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <!-- Only includes rows with data.  If there is no soainfra_composite name, don't return
                the row -->
            <Where>
               <Condition Operator="NE" Type="String">
                  <ColumnFrom Name="soainfra_composite"/>
                  <Null/>
               </Condition>
            </Where>
         </Select>
      </Table>
      <!-- soainfra_component - weblogic rate-->
      <Table Name="soainfra_component_rollup">
         <ColumnDef Type="String" Key="true" Name="Name"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Name="soainfra_composite_label"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_component_type"/>
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="Double" Name="instantiated.throughput"/>
         <ColumnDef Type="Integer" Name="successful.active"/>
         <ColumnDef Type="Integer" Name="successful.completed"/>
         <ColumnDef Type="Double" Name="successful.totalTime"/>
         <ColumnDef Type="Double" Name="successful.averageTime"/>
         <ColumnDef Type="Double" Name="successful.throughput"/>
         <ColumnDef Type="Double" Name="successful.time"/>
         <ColumnDef Type="Integer" Name="faulted.active"/>
         <ColumnDef Type="Integer" Name="faulted.completed"/>
         <ColumnDef Type="Double" Name="faulted.totalTime"/>
         <ColumnDef Type="Double" Name="faulted.averageTime"/>
         <ColumnDef Type="Double" Name="faulted.throughput"/>
         <ColumnDef Type="Double" Name="faulted.time"/>
         <ColumnDef Type="Double" Name="businessFaults.throughput"/>
         <ColumnDef Type="Double" Name="systemFaults.throughput"/>
         <ColumnDef Type="Double" Name="totalFaults.throughput"/>
         <Select Name="soainfra_component_rollup_result">
            <TableFrom Name="weblogic_j2eeserver:soainfra_component_rollup_no_rate"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_label"/>
            <Column Type="String" Name="soainfra_component_type"/>
            <Column Type="String" Name="ServerName"/>
<!-- Calculate the throughput (per minute) for the last 5 mins -->
            <Column Type="Double" Name="instantiated.throughput">
               <Expression Operator="Mult">
                  <Rate Interval="300000">
                     <ColumnFrom Name="instantiated.count"/>
                     <Default>
                        0
                     </Default>
                  </Rate>
                  <Value>
                     60
                  </Value>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="successful.active"/>
            <Column Type="Integer" Name="successful.completed"/>
            <Column Type="Double" Name="successful.totalTime"/>
            <Column Type="Double" Name="successful.averageTime"/>
            <Column Type="Double" Name="businessFaults.throughput">
               <Expression Operator="Mult">
                  <Rate Interval="300000">
                     <ColumnFrom Name="businessFaults.count"/>
                     <Default>
                        0
                     </Default>
                  </Rate>
                  <Value>
                     60
                  </Value>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Double" Name="systemFaults.throughput">
               <Expression Operator="Mult">
                  <Rate Interval="300000">
                     <ColumnFrom Name="systemFaults.count"/>
                     <Default>
                        0
                     </Default>
                  </Rate>
                  <Value>
                     60
                  </Value>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Double" Name="totalFaults.throughput">
               <Expression Operator="Mult">
                  <Rate Interval="300000">
                     <ColumnFrom Name="totalFaults.count"/>
                     <Default>
                        0
                     </Default>
                  </Rate>
                  <Value>
                     60
                  </Value>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <!-- Calculate the successful instance throughput (per minute) for the last 5 mins -->
            <Column Type="Double" Name="successful.throughput">
               <Expression Operator="Mult">
                  <Rate Interval="300000">
                     <ColumnFrom Name="successful.completed"/>
                     <Default>
                        0
                     </Default>
                  </Rate>
                  <Value>
                     60
                  </Value>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <!-- Average Successful Request Processing time in the last 5 mins -->
            <!-- TBD need to check what this is-->
            <Column Type="Double" Name="successful.time">
               <Rate Interval="300000">
                  <ColumnFrom Name="successful.totalTime"/>
                  <ColumnFrom Name="successful.completed"/>
                  <Default>
                     0
                  </Default>
               </Rate>
            </Column>
            <Column Type="Integer" Name="faulted.active"/>
            <Column Type="Integer" Name="faulted.completed"/>
            <Column Type="Double" Name="faulted.totalTime"/>
            <Column Type="Double" Name="faulted.averageTime"/>
<!-- Calculate the faulted instance throughput (per minute) for the last 5 mins -->
            <Column Type="Double" Name="faulted.throughput">
               <Expression Operator="Mult">
                  <Rate Interval="300000">
                     <ColumnFrom Name="faulted.completed"/>
                     <Default>
                        0
                     </Default>
                  </Rate>
                  <Value>
                     60
                  </Value>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <!-- Average Faulted Request Processing time in the last 5 mins -->
            <!--TBD need to check what this is-->
            <Column Type="Double" Name="faulted.time">
               <Rate Interval="300000">
                  <ColumnFrom Name="faulted.totalTime"/>
                  <ColumnFrom Name="faulted.completed"/>
                  <Default>
                     0
                  </Default>
               </Rate>
            </Column>
            <Where>
               <And>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="Name"/>
                        <Value Name="Name.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="Name.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_component_type"/>
                        <Value Name="soainfra_component_type.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_component_type.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_revision.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_domain.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
         </Select>
      </Table>
      <!--soainfra_composite - weblogic delta-->
      <Table Name="soainfra_component_delta_rollup">
         <ColumnDef Type="String" Key="true" Name="Name"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Name="soainfra_composite_label"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_component_type"/>
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="Integer" Name="instantiated.deltaCount"/>
         <ColumnDef Type="Integer" Name="successful.deltaCompleted"/>
         <ColumnDef Type="Integer" Name="faulted.deltaCompleted"/>
         <ColumnDef Type="Double" Name="successful.deltaTime"/>
         <ColumnDef Type="Double" Name="faulted.deltaTime"/>
         <ColumnDef Type="Double" Name="successful.averageTime"/>
         <ColumnDef Type="Double" Name="successful.totalTime"/>
         <ColumnDef Type="Double" Name="faulted.averageTime"/>
         <ColumnDef Type="Double" Name="faulted.totalTime"/>
         <ColumnDef Type="Double" Name="faulted.deltaAverageTime"/>
         <ColumnDef Type="Double" Name="successful.deltaAverageTime"/>
         <ColumnDef Type="Integer" Name="businessFaults.deltaCount"/>
         <ColumnDef Type="Integer" Name="systemFaults.deltaCount"/>
         <ColumnDef Type="Integer" Name="totalFaults.deltaCount"/>
         <Select Name="soainfra_component_delta_rollup_result_1">
            <TableFrom Name="weblogic_j2eeserver:soainfra_component_rollup_no_rate"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_label"/>
            <Column Type="String" Name="soainfra_component_type"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="Integer" Name="instantiated.count"/>
            <Column Type="Integer" Name="successful.completed"/>
            <Column Type="Integer" Name="faulted.completed"/>
            <Column Type="Double" Name="successful.totalTime"/>
            <Column Type="Double" Name="faulted.totalTime"/>
            <Column Type="Double" Name="successful.averageTime"/>
            <Column Type="Double" Name="faulted.averageTime"/>
<!-- Get the previous values of completed and time.  We will use them to
        determine the number of instances and the amount of time spent
        during the last period.  Note that the time period is 5 minutes
        (300 seconds = 300,000 milliseconds) -->
            <Column Type="Integer" Name="instantiated.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="instantiated.count"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="successful.completed.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="successful.completed"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Type="Double" Name="successful.time.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="successful.totalTime"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="faulted.completed.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="faulted.completed"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Type="Double" Name="faulted.time.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="faulted.totalTime"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="businessFaults.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="businessFaults.count"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="systemFaults.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="systemFaults.count"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="totalFaults.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="totalFaults.count"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
         </Select>
         <Select Name="soainfra_component_delta_rollup_result_2">
            <TableFrom Name="soainfra_component_delta_rollup_result_1"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_label"/>
            <Column Type="String" Name="soainfra_component_type"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="Integer" Name="successful.completed"/>
            <Column Type="Integer" Name="faulted.completed"/>
            <Column Type="Double" Name="successful.totalTime"/>
            <Column Type="Double" Name="faulted.totalTime"/>
            <Column Type="Double" Name="successful.averageTime"/>
            <Column Type="Double" Name="faulted.averageTime"/>
<!-- Compute the activity during the period.  Note that we need to do this
        in a separate table due the way DMS propagates errors. -->
            <Column Type="Integer" Name="instantiated.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="instantiated.count.previous"/>
                     <ColumnFrom Name="instantiated.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="instantiated.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="instantiated.count"/>
                        <ColumnFrom Name="instantiated.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="successful.deltaCompleted">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="successful.completed.previous"/>
                     <ColumnFrom Name="successful.completed"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="successful.completed"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="successful.completed"/>
                        <ColumnFrom Name="successful.completed.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="faulted.deltaCompleted">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="faulted.completed.previous"/>
                     <ColumnFrom Name="faulted.completed"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="faulted.completed"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="faulted.completed"/>
                        <ColumnFrom Name="faulted.completed.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Double" Name="successful.deltaTime">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="successful.time.previous"/>
                     <ColumnFrom Name="successful.totalTime"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use time -->
                     <ColumnFrom Name="successful.totalTime"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="successful.totalTime"/>
                        <ColumnFrom Name="successful.time.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Double" Name="faulted.deltaTime">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="faulted.time.previous"/>
                     <ColumnFrom Name="faulted.totalTime"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use time -->
                     <ColumnFrom Name="faulted.totalTime"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="faulted.totalTime"/>
                        <ColumnFrom Name="faulted.time.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="businessFaults.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="businessFaults.count.previous"/>
                     <ColumnFrom Name="businessFaults.count"/>
                  </Condition>
                  <Then>
                     <ColumnFrom Name="businessFaults.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="businessFaults.count"/>
                        <ColumnFrom Name="businessFaults.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="systemFaults.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="systemFaults.count.previous"/>
                     <ColumnFrom Name="systemFaults.count"/>
                  </Condition>
                  <Then>
                     <ColumnFrom Name="systemFaults.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="systemFaults.count"/>
                        <ColumnFrom Name="systemFaults.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Integer" Name="totalFaults.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="totalFaults.count.previous"/>
                     <ColumnFrom Name="totalFaults.count"/>
                  </Condition>
                  <Then>
                     <ColumnFrom Name="totalFaults.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="totalFaults.count"/>
                        <ColumnFrom Name="totalFaults.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
         </Select>
         <Select Name="soainfra_component_delta_rollup_result">
            <TableFrom Name="soainfra_component_delta_rollup_result_2"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_label"/>
            <Column Type="String" Name="soainfra_component_type"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="Integer" Name="successful.completed"/>
            <Column Type="Integer" Name="faulted.completed"/>
            <Column Type="Double" Name="successful.totalTime"/>
            <Column Type="Double" Name="faulted.totalTime"/>
            <Column Type="Double" Name="successful.averageTime"/>
            <Column Type="Double" Name="faulted.averageTime"/>
            <Column Type="Integer" Name="instantiated.deltaCount"/>
            <Column Type="Integer" Name="successful.deltaCompleted"/>
            <Column Type="Integer" Name="faulted.deltaCompleted"/>
            <Column Type="Double" Name="successful.deltaTime"/>
            <Column Type="Double" Name="faulted.deltaTime"/>
            <Column Type="Integer" Name="businessFaults.deltaCount"/>
            <Column Type="Integer" Name="systemFaults.deltaCount"/>
            <Column Type="Integer" Name="totalFaults.deltaCount"/>
            <Column Type="Double" Name="faulted.deltaAverageTime">
               <Expression Operator="Div">
                  <ColumnFrom Name="faulted.deltaTime"/>
                  <ColumnFrom Name="faulted.deltaCompleted"/>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Double" Name="successful.deltaAverageTime">
               <Expression Operator="Div">
                  <ColumnFrom Name="successful.deltaTime"/>
                  <ColumnFrom Name="successful.deltaCompleted"/>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <Where>
               <And>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="Name"/>
                        <Value Name="Name.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="Name.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_component_type"/>
                        <Value Name="soainfra_component_type.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_component_type.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_revision.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_domain.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
         </Select>
      </Table>
      <Table Name="soainfra_mediator_flow_rollup_no_rate">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="Name"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_component"/>
         <ColumnDef Type="String" Name="soainfra_mediator_flowtype"/>
         <ColumnDef Type="Integer" Name="instantiated.count"/>
         <ColumnDef Type="Integer" Name="failedFilteredCaseCount.count"/>
         <ColumnDef Type="Integer" Name="deferredMessageCount.count"/>
         <ColumnDef Type="Integer" Name="successfulInstanceProcessingTime.completed"/>
         <ColumnDef Type="Double" Name="successfulInstanceProcessingTime.totalTime"/>
         <ColumnDef Type="Double" Name="successfulInstanceProcessingTime.averageTime"/>
         <ColumnDef Type="Integer" Name="faultedInstanceProcessingTime.completed"/>
         <ColumnDef Type="Double" Name="faultedInstanceProcessingTime.totalTime"/>
         <ColumnDef Type="Double" Name="faultedInstanceProcessingTime.averageTime"/>
         <Select Name="soainfra_mediator_flow_result_1">
            <TableFrom Name="soainfra_mediator_flow"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="String" Name="soainfra_mediator_flowtype"/>
            <Column Type="Integer" Name="instantiated.count">
               <Aggregation Operator="Sum" Name="instantiated.count"/>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="failedFilteredCaseCount.count">
               <Aggregation Operator="Sum" Name="failedFilteredCaseCount.count"/>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="deferredMessageCount.count">
               <Aggregation Operator="Sum" Name="deferredMessageCount.count"/>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="successfulInstanceProcessingTime.completed">
               <Aggregation Operator="Sum" Name="successfulInstanceProcessingTime.completed"/>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="faultedInstanceProcessingTime.completed">
               <Aggregation Operator="Sum" Name="faultedInstanceProcessingTime.completed"/>
               <Default>0</Default>
            </Column>
            <Column Type="Double" Name="successfulInstanceProcessingTime.time">
               <Aggregation Operator="Sum" Name="successfulInstanceProcessingTime.time"/>
               <Default>0</Default>
            </Column>
            <Column Type="Double" Name="faultedInstanceProcessingTime.time">
               <Aggregation Operator="Sum" Name="faultedInstanceProcessingTime.time"/>
               <Default>0</Default>
            </Column>
            <GroupBy Name="Name"/>
            <GroupBy Name="soainfra_composite_revision"/>
            <GroupBy Name="soainfra_domain"/>
            <GroupBy Name="soainfra_composite"/>
            <GroupBy Name="soainfra_component"/>
            <GroupBy Name="soainfra_mediator_flowtype"/>
            <GroupBy Name="ServerName"/>
         </Select>
         <Select Name="soainfra_mediator_flow_result">
            <TableFrom Name="soainfra_mediator_flow_result_1"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="String" Name="soainfra_mediator_flowtype"/>
            <Column Type="Integer" Name="instantiated.count"/>
            <Column Type="Integer" Name="failedFilteredCaseCount.count"/>
            <Column Type="Integer" Name="deferredMessageCount.count"/>
            <Column Type="Integer" Name="successfulInstanceProcessingTime.completed"/>
            <Column Type="Integer" Name="faultedInstanceProcessingTime.completed"/>
<!-- the amount of time spent processing successful messages since startup (seconds) -->
            <Column Type="Double" Name="successfulInstanceProcessingTime.totalTime">
               <Expression Operator="Div">
                  <ColumnFrom Name="successfulInstanceProcessingTime.time"/>
                  <Value>1000</Value>
               </Expression>
               <Default>0</Default>
            </Column>
            <!-- the amount of time spent processing faulted messages since startup (seconds) -->
            <Column Type="Double" Name="faultedInstanceProcessingTime.totalTime">
               <Expression Operator="Div">
                  <ColumnFrom Name="faultedInstanceProcessingTime.time"/>
                  <Value>1000</Value>
               </Expression>
               <Default>0</Default>
            </Column>
            <!-- Average successful Message Processing time since startup -->
            <Column Type="Double" Name="successfulInstanceProcessingTime.averageTime">
               <Expression Operator="Div">
                  <Expression Operator="Div">
                     <ColumnFrom Name="successfulInstanceProcessingTime.time"/>
                     <Value>1000</Value>
                  </Expression>
                  <ColumnFrom Name="successfulInstanceProcessingTime.completed"/>
               </Expression>
               <Default>0</Default>
            </Column>
            <!-- Average faulted Message Processing time since startup -->
            <Column Type="Double" Name="faultedInstanceProcessingTime.averageTime">
               <Expression Operator="Div">
                  <Expression Operator="Div">
                     <ColumnFrom Name="faultedInstanceProcessingTime.time"/>
                     <Value>1000</Value>
                  </Expression>
                  <ColumnFrom Name="faultedInstanceProcessingTime.completed"/>
               </Expression>
               <Default>0</Default>
            </Column>
            <!-- Only includes rows with data.  If there is no soainfra_composite name, don't return
                the row -->
            <Where>
               <Condition Operator="NE" Type="String">
                  <ColumnFrom Name="soainfra_composite"/>
                  <Null/>
               </Condition>
            </Where>
         </Select>
      </Table>
      <!-- Rate table for the weblogic target type -->
      <Table Name="soainfra_mediator_flow_rollup">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="Name"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_component"/>
         <ColumnDef Type="String" Name="soainfra_mediator_flowtype"/>
         <ColumnDef Type="Double" Name="instantiated.throughput"/>
         <ColumnDef Type="Integer" Name="instantiated.count"/>
         <ColumnDef Type="Double" Name="failedFilteredCaseCount.throughput"/>
         <ColumnDef Type="Integer" Name="failedFilteredCaseCount.count"/>
         <ColumnDef Type="Double" Name="deferredMessageCount.throughput"/>
         <ColumnDef Type="Integer" Name="deferredMessageCount.count"/>
         <ColumnDef Type="Double" Name="successfulInstanceProcessingTime.throughput"/>
         <ColumnDef Type="Double" Name="successfulInstanceProcessingTime.totalTime"/>
         <ColumnDef Type="Double" Name="successfulInstanceProcessingTime.averageTime"/>
         <ColumnDef Type="Integer" Name="successfulInstanceProcessingTime.completed"/>
         <ColumnDef Type="Double" Name="successfulInstanceProcessingTime.time"/>
         <ColumnDef Type="Double" Name="faultedInstanceProcessingTime.throughput"/>
         <ColumnDef Type="Double" Name="faultedInstanceProcessingTime.totalTime"/>
         <ColumnDef Type="Double" Name="faultedInstanceProcessingTime.averageTime"/>
         <ColumnDef Type="Integer" Name="faultedInstanceProcessingTime.completed"/>
         <ColumnDef Type="Double" Name="faultedInstanceProcessingTime.time"/>
         <Select Name="soainfra_mediator_flow_result">
            <TableFrom Name="weblogic_j2eeserver:soainfra_mediator_flow_rollup_no_rate"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="String" Name="soainfra_mediator_flowtype"/>
            <Column Type="Double" Name="successfulInstanceProcessingTime.totalTime"/>
            <Column Type="Double" Name="successfulInstanceProcessingTime.averageTime"/>
            <Column Type="Integer" Name="successfulInstanceProcessingTime.completed"/>
            <Column Type="Double" Name="faultedInstanceProcessingTime.totalTime"/>
            <Column Type="Double" Name="faultedInstanceProcessingTime.averageTime"/>
            <Column Type="Integer" Name="faultedInstanceProcessingTime.completed"/>
            <Column Type="Integer" Name="instantiated.count"/>
            <Column Type="Double" Name="instantiated.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="instantiated.count"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Integer" Name="failedFilteredCaseCount.count"/>
            <Column Type="Double" Name="failedFilteredCaseCount.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="failedFilteredCaseCount.count"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Integer" Name="deferredMessageCount.count"/>
            <Column Type="Double" Name="deferredMessageCount.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="deferredMessageCount.count"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="successfulInstanceProcessingTime.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="successfulInstanceProcessingTime.completed"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="faultedInstanceProcessingTime.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="faultedInstanceProcessingTime.completed"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="successfulInstanceProcessingTime.time">
               <Rate Interval="300000">
                  <ColumnFrom Name="successfulInstanceProcessingTime.totalTime"/>
                  <ColumnFrom Name="successfulInstanceProcessingTime.completed"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="faultedInstanceProcessingTime.time">
               <Rate Interval="300000">
                  <ColumnFrom Name="faultedInstanceProcessingTime.totalTime"/>
                  <ColumnFrom Name="faultedInstanceProcessingTime.completed"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Where>
               <And>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="Name"/>
                        <Value Name="Name.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="Name.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_revision.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_component"/>
                        <Value Name="soainfra_component.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_component.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_domain.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
         </Select>
      </Table>
      <!-- Delta table for the weblogic target type -->
      <Table Name="soainfra_mediator_flow_delta_rollup">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="Name"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_component"/>
         <ColumnDef Type="String" Name="soainfra_mediator_flowtype"/>
         <ColumnDef Type="Integer" Name="instantiated.deltaCount"/>
         <ColumnDef Type="Integer" Name="failedFilteredCaseCount.deltaCount"/>
         <ColumnDef Type="Integer" Name="deferredMessageCount.deltaCount"/>
         <ColumnDef Type="Integer" Name="successfulInstanceProcessingTime.deltaCompleted"/>
         <ColumnDef Type="Double" Name="successfulInstanceProcessingTime.deltaTime"/>
         <ColumnDef Type="Double" Name="successfulInstanceProcessingTime.averageTime"/>
         <ColumnDef Type="Double" Name="successfulInstanceProcessingTime.totalTime"/>
         <ColumnDef Type="Integer" Name="faultedInstanceProcessingTime.deltaCompleted"/>
         <ColumnDef Type="Double" Name="faultedInstanceProcessingTime.deltaTime"/>
         <ColumnDef Type="Double" Name="faultedInstanceProcessingTime.averageTime"/>
         <ColumnDef Type="Double" Name="faultedInstanceProcessingTime.totalTime"/>
         <ColumnDef Type="Double" Name="successfulInstanceProcessingTime.deltaAverageTime"/>
         <ColumnDef Type="Double" Name="faultedInstanceProcessingTime.deltaAverageTime"/>
         <Select Name="soainfra_mediator_flow_delta_rollup_result_1">
            <TableFrom Name="weblogic_j2eeserver:soainfra_mediator_flow_rollup_no_rate"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="String" Name="soainfra_mediator_flowtype"/>
            <Column Type="Integer" Name="instantiated.count"/>
            <Column Type="Integer" Name="failedFilteredCaseCount.count"/>
            <Column Type="Integer" Name="deferredMessageCount.count"/>
            <Column Type="Integer" Name="successfulInstanceProcessingTime.completed"/>
            <Column Type="Double" Name="successfulInstanceProcessingTime.totalTime"/>
            <Column Type="Double" Name="successfulInstanceProcessingTime.averageTime"/>
            <Column Type="Integer" Name="faultedInstanceProcessingTime.completed"/>
            <Column Type="Double" Name="faultedInstanceProcessingTime.totalTime"/>
            <Column Type="Double" Name="faultedInstanceProcessingTime.averageTime"/>
<!-- Get the previous values of completed and time.  We will use them to
                        determine the number of instances and the amount of time spent
                        during the last period.  Note that the time period is 5 minutes
                        (300 seconds = 300,000 milliseconds) -->
            <Column Type="Integer" Name="instantiated.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="instantiated.count"/>
                  <Default>0</Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="failedFilteredCaseCount.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="failedFilteredCaseCount.count"/>
                  <Default>0</Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="deferredMessageCount.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="deferredMessageCount.count"/>
                  <Default>0</Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="successfulInstanceProcessingTime.completed.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="successfulInstanceProcessingTime.completed"/>
                  <Default>0</Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="faultedInstanceProcessingTime.completed.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="faultedInstanceProcessingTime.completed"/>
                  <Default>0</Default>
               </Previous>
            </Column>
            <Column Type="Double" Name="successfulInstanceProcessingTime.time.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="successfulInstanceProcessingTime.totalTime"/>
                  <Default>0</Default>
               </Previous>
            </Column>
            <Column Type="Double" Name="faultedInstanceProcessingTime.time.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="faultedInstanceProcessingTime.totalTime"/>
                  <Default>0</Default>
               </Previous>
            </Column>
         </Select>
         <Select Name="soainfra_mediator_flow_delta_rollup_result_2">
            <TableFrom Name="soainfra_mediator_flow_delta_rollup_result_1"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="String" Name="soainfra_mediator_flowtype"/>
            <Column Type="Double" Name="successfulInstanceProcessingTime.totalTime"/>
            <Column Type="Double" Name="successfulInstanceProcessingTime.averageTime"/>
            <Column Type="Double" Name="faultedInstanceProcessingTime.totalTime"/>
            <Column Type="Double" Name="faultedInstanceProcessingTime.averageTime"/>
            <Column Type="Integer" Name="instantiated.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="instantiated.count.previous"/>
                     <ColumnFrom Name="instantiated.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="instantiated.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="instantiated.count"/>
                        <ColumnFrom Name="instantiated.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="failedFilteredCaseCount.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="failedFilteredCaseCount.count.previous"/>
                     <ColumnFrom Name="failedFilteredCaseCount.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="failedFilteredCaseCount.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="failedFilteredCaseCount.count"/>
                        <ColumnFrom Name="failedFilteredCaseCount.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="deferredMessageCount.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="deferredMessageCount.count.previous"/>
                     <ColumnFrom Name="deferredMessageCount.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="deferredMessageCount.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="deferredMessageCount.count"/>
                        <ColumnFrom Name="deferredMessageCount.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="successfulInstanceProcessingTime.deltaCompleted">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="successfulInstanceProcessingTime.completed.previous"/>
                     <ColumnFrom Name="successfulInstanceProcessingTime.completed"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="successfulInstanceProcessingTime.completed"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="successfulInstanceProcessingTime.completed"/>
                        <ColumnFrom Name="successfulInstanceProcessingTime.completed.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>0</Default>
            </Column>
            <Column Type="Double" Name="successfulInstanceProcessingTime.deltaTime">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="successfulInstanceProcessingTime.time.previous"/>
                     <ColumnFrom Name="successfulInstanceProcessingTime.totalTime"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use time -->
                     <ColumnFrom Name="successfulInstanceProcessingTime.totalTime"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="successfulInstanceProcessingTime.totalTime"/>
                        <ColumnFrom Name="successfulInstanceProcessingTime.time.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="faultedInstanceProcessingTime.deltaCompleted">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="faultedInstanceProcessingTime.completed.previous"/>
                     <ColumnFrom Name="faultedInstanceProcessingTime.completed"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="faultedInstanceProcessingTime.completed"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="faultedInstanceProcessingTime.completed"/>
                        <ColumnFrom Name="faultedInstanceProcessingTime.completed.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>0</Default>
            </Column>
            <Column Type="Double" Name="faultedInstanceProcessingTime.deltaTime">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="faultedInstanceProcessingTime.time.previous"/>
                     <ColumnFrom Name="faultedInstanceProcessingTime.totalTime"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use time -->
                     <ColumnFrom Name="faultedInstanceProcessingTime.totalTime"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="faultedInstanceProcessingTime.totalTime"/>
                        <ColumnFrom Name="faultedInstanceProcessingTime.time.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>0</Default>
            </Column>
         </Select>
         <Select Name="soainfra_mediator_flow_delta_rollup_result">
            <TableFrom Name="soainfra_mediator_flow_delta_rollup_result_2"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="String" Name="soainfra_mediator_flowtype"/>
            <Column Type="Double" Name="successfulInstanceProcessingTime.totalTime"/>
            <Column Type="Double" Name="successfulInstanceProcessingTime.averageTime"/>
            <Column Type="Double" Name="faultedInstanceProcessingTime.totalTime"/>
            <Column Type="Double" Name="faultedInstanceProcessingTime.averageTime"/>
            <Column Type="Integer" Name="instantiated.deltaCount"/>
            <Column Type="Integer" Name="failedFilteredCaseCount.deltaCount"/>
            <Column Type="Integer" Name="deferredMessageCount.deltaCount"/>
            <Column Type="Integer" Name="successfulInstanceProcessingTime.deltaCompleted"/>
            <Column Type="Double" Name="successfulInstanceProcessingTime.deltaTime"/>
            <Column Type="Integer" Name="faultedInstanceProcessingTime.deltaCompleted"/>
            <Column Type="Double" Name="faultedInstanceProcessingTime.deltaTime"/>
            <Column Type="Double" Name="successfulInstanceProcessingTime.deltaAverageTime">
               <Expression Operator="Div">
                  <ColumnFrom Name="successfulInstanceProcessingTime.deltaTime"/>
                  <ColumnFrom Name="successfulInstanceProcessingTime.deltaCompleted"/>
               </Expression>
               <Default>0</Default>
            </Column>
            <Column Type="Double" Name="faultedInstanceProcessingTime.deltaAverageTime">
               <Expression Operator="Div">
                  <ColumnFrom Name="faultedInstanceProcessingTime.deltaTime"/>
                  <ColumnFrom Name="faultedInstanceProcessingTime.deltaCompleted"/>
               </Expression>
               <Default>0</Default>
            </Column>
            <Where>
               <And>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="Name"/>
                        <Value Name="Name.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="Name.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_revision.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_component"/>
                        <Value Name="soainfra_component.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_component.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_domain.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
         </Select>
      </Table>
      <!-- end delta table -->
      <!-- TABLE : soainfra_mediator_case -->
      <!-- JVM rollup table for the weblogic target type -->
      <Table Name="soainfra_mediator_case_rollup_no_rate">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="Name"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_component"/>
         <ColumnDef Type="String" Name="soainfra_mediator_flow"/>
         <ColumnDef Type="String" Name="soainfra_mediator_casetarget"/>
         <ColumnDef Type="Integer" Name="invocationCount.count"/>
         <ColumnDef Type="Integer" Name="filterMessageCount.count"/>
         <ColumnDef Type="Integer" Name="failedFilterMessageCount.count"/>
         <ColumnDef Type="Integer" Name="successfulCaseProcessingTime.completed"/>
         <ColumnDef Type="Double" Name="successfulCaseProcessingTime.totalTime"/>
         <ColumnDef Type="Double" Name="successfulCaseProcessingTime.averageTime"/>
         <ColumnDef Type="Integer" Name="faultedCaseProcessingTime.completed"/>
         <ColumnDef Type="Double" Name="faultedCaseProcessingTime.totalTime"/>
         <ColumnDef Type="Double" Name="faultedCaseProcessingTime.averageTime"/>
         <ColumnDef Type="Integer" Name="avgInvocationProcessingTime.completed"/>
         <ColumnDef Type="Double" Name="avgInvocationProcessingTime.totalTime"/>
         <ColumnDef Type="Double" Name="avgInvocationProcessingTime.averageTime"/>
         <Select Name="soainfra_mediator_case_result_1">
            <TableFrom Name="soainfra_mediator_case"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="String" Name="soainfra_mediator_flow"/>
            <Column Type="String" Name="soainfra_mediator_casetarget"/>
            <Column Type="Integer" Name="invocationCount.count">
               <Aggregation Operator="Sum" Name="invocationCount.count"/>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="filterMessageCount.count">
               <Aggregation Operator="Sum" Name="filterMessageCount.count"/>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="failedFilterMessageCount.count">
               <Aggregation Operator="Sum" Name="failedFilterMessageCount.count"/>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="successfulCaseProcessingTime.completed">
               <Aggregation Operator="Sum" Name="successfulCaseProcessingTime.completed"/>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="faultedCaseProcessingTime.completed">
               <Aggregation Operator="Sum" Name="faultedCaseProcessingTime.completed"/>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="avgInvocationProcessingTime.completed">
               <Aggregation Operator="Sum" Name="avgInvocationProcessingTime.completed"/>
               <Default>0</Default>
            </Column>
            <Column Type="Double" Name="successfulCaseProcessingTime.time">
               <Aggregation Operator="Sum" Name="successfulCaseProcessingTime.time"/>
               <Default>0</Default>
            </Column>
            <Column Type="Double" Name="faultedCaseProcessingTime.time">
               <Aggregation Operator="Sum" Name="faultedCaseProcessingTime.time"/>
               <Default>0</Default>
            </Column>
            <Column Type="Double" Name="avgInvocationProcessingTime.time">
               <Aggregation Operator="Sum" Name="avgInvocationProcessingTime.time"/>
               <Default>0</Default>
            </Column>
            <GroupBy Name="soainfra_domain"/>
            <GroupBy Name="soainfra_composite"/>
            <GroupBy Name="soainfra_composite_revision"/>
            <GroupBy Name="soainfra_component"/>
            <GroupBy Name="soainfra_mediator_casetarget"/>
            <GroupBy Name="soainfra_mediator_flow"/>
            <GroupBy Name="Name"/>
            <GroupBy Name="ServerName"/>
         </Select>
         <Select Name="soainfra_mediator_case_result">
            <TableFrom Name="soainfra_mediator_case_result_1"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="String" Name="soainfra_mediator_flow"/>
            <Column Type="String" Name="soainfra_mediator_casetarget"/>
            <Column Type="Integer" Name="invocationCount.count"/>
            <Column Type="Integer" Name="filterMessageCount.count"/>
            <Column Type="Integer" Name="failedFilterMessageCount.count"/>
            <Column Type="Integer" Name="successfulCaseProcessingTime.completed"/>
            <Column Type="Integer" Name="faultedCaseProcessingTime.completed"/>
            <Column Type="Integer" Name="avgInvocationProcessingTime.completed"/>
            <Column Type="Double" Name="successfulCaseProcessingTime.totalTime">
               <Expression Operator="Div">
                  <ColumnFrom Name="successfulCaseProcessingTime.time"/>
                  <Value>1000</Value>
               </Expression>
               <Default>0</Default>
            </Column>
            <Column Type="Double" Name="successfulCaseProcessingTime.averageTime">
               <Expression Operator="Div">
                  <Expression Operator="Div">
                     <ColumnFrom Name="successfulCaseProcessingTime.time"/>
                     <Value>1000</Value>
                  </Expression>
                  <ColumnFrom Name="successfulCaseProcessingTime.completed"/>
               </Expression>
               <Default>0</Default>
            </Column>
            <Column Type="Double" Name="faultedCaseProcessingTime.totalTime">
               <Expression Operator="Div">
                  <ColumnFrom Name="faultedCaseProcessingTime.time"/>
                  <Value>1000</Value>
               </Expression>
               <Default>0</Default>
            </Column>
            <Column Type="Double" Name="faultedCaseProcessingTime.averageTime">
               <Expression Operator="Div">
                  <Expression Operator="Div">
                     <ColumnFrom Name="faultedCaseProcessingTime.time"/>
                     <Value>1000</Value>
                  </Expression>
                  <ColumnFrom Name="faultedCaseProcessingTime.completed"/>
               </Expression>
               <Default>0</Default>
            </Column>
            <Column Type="Double" Name="avgInvocationProcessingTime.totalTime">
               <Expression Operator="Div">
                  <ColumnFrom Name="avgInvocationProcessingTime.time"/>
                  <Value>1000</Value>
               </Expression>
               <Default>0</Default>
            </Column>
            <Column Type="Double" Name="avgInvocationProcessingTime.averageTime">
               <Expression Operator="Div">
                  <Expression Operator="Div">
                     <ColumnFrom Name="avgInvocationProcessingTime.time"/>
                     <Value>1000</Value>
                  </Expression>
                  <ColumnFrom Name="avgInvocationProcessingTime.completed"/>
               </Expression>
               <Default>0</Default>
            </Column>
            <!-- Only includes rows with data.  If there is no soainfra_composite name, don't return
                the row -->
            <Where>
               <Condition Operator="NE" Type="String">
                  <ColumnFrom Name="soainfra_composite"/>
                  <Null/>
               </Condition>
            </Where>
         </Select>
      </Table>
      <!-- Rate table for the weblogic target type -->
      <Table Name="soainfra_mediator_case_rollup">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="Name"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_component"/>
         <ColumnDef Type="String" Name="soainfra_mediator_flow"/>
         <ColumnDef Type="String" Name="soainfra_mediator_casetarget"/>
         <ColumnDef Type="Double" Name="invocationCount.throughput"/>
         <ColumnDef Type="Double" Name="filterMessageCount.throughput"/>
         <ColumnDef Type="Double" Name="failedFilterMessageCount.throughput"/>
         <ColumnDef Type="Double" Name="successfulCaseProcessingTime.throughput"/>
         <ColumnDef Type="Double" Name="successfulCaseProcessingTime.totalTime"/>
         <ColumnDef Type="Double" Name="successfulCaseProcessingTime.averageTime"/>
         <ColumnDef Type="Integer" Name="successfulCaseProcessingTime.completed"/>
         <ColumnDef Type="Double" Name="successfulCaseProcessingTime.time"/>
         <ColumnDef Type="Double" Name="faultedCaseProcessingTime.throughput"/>
         <ColumnDef Type="Double" Name="faultedCaseProcessingTime.totalTime"/>
         <ColumnDef Type="Double" Name="faultedCaseProcessingTime.averageTime"/>
         <ColumnDef Type="Integer" Name="faultedCaseProcessingTime.completed"/>
         <ColumnDef Type="Double" Name="faultedCaseProcessingTime.time"/>
         <ColumnDef Type="Double" Name="avgInvocationProcessingTime.throughput"/>
         <ColumnDef Type="Double" Name="avgInvocationProcessingTime.totalTime"/>
         <ColumnDef Type="Double" Name="avgInvocationProcessingTime.averageTime"/>
         <ColumnDef Type="Integer" Name="avgInvocationProcessingTime.completed"/>
         <ColumnDef Type="Double" Name="avgInvocationProcessingTime.time"/>
         <ColumnDef Type="Integer" Name="invocationCount.count"/>
         <ColumnDef Type="Integer" Name="filterMessageCount.count"/>
         <ColumnDef Type="Integer" Name="failedFilterMessageCount.count"/>
         <Select Name="soainfra_mediator_case_result">
            <TableFrom Name="weblogic_j2eeserver:soainfra_mediator_case_rollup_no_rate"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="String" Name="soainfra_mediator_flow"/>
            <Column Type="String" Name="soainfra_mediator_casetarget"/>
            <Column Type="Double" Name="successfulCaseProcessingTime.totalTime"/>
            <Column Type="Double" Name="successfulCaseProcessingTime.averageTime"/>
            <Column Type="Integer" Name="successfulCaseProcessingTime.completed"/>
            <Column Type="Double" Name="faultedCaseProcessingTime.totalTime"/>
            <Column Type="Double" Name="faultedCaseProcessingTime.averageTime"/>
            <Column Type="Integer" Name="faultedCaseProcessingTime.completed"/>
            <Column Type="Double" Name="avgInvocationProcessingTime.totalTime"/>
            <Column Type="Double" Name="avgInvocationProcessingTime.averageTime"/>
            <Column Type="Integer" Name="avgInvocationProcessingTime.completed"/>
            <Column Type="Integer" Name="invocationCount.count"/>
            <Column Type="Integer" Name="filterMessageCount.count"/>
            <Column Type="Integer" Name="failedFilterMessageCount.count"/>
            <Column Type="Double" Name="invocationCount.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="invocationCount.count"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="filterMessageCount.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="filterMessageCount.count"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="failedFilterMessageCount.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="failedFilterMessageCount.count"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="successfulCaseProcessingTime.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="successfulCaseProcessingTime.completed"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="faultedCaseProcessingTime.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="faultedCaseProcessingTime.completed"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="avgInvocationProcessingTime.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="avgInvocationProcessingTime.completed"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="successfulCaseProcessingTime.time">
               <Rate Interval="300000">
                  <ColumnFrom Name="successfulCaseProcessingTime.totalTime"/>
                  <ColumnFrom Name="successfulCaseProcessingTime.completed"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="faultedCaseProcessingTime.time">
               <Rate Interval="300000">
                  <ColumnFrom Name="faultedCaseProcessingTime.totalTime"/>
                  <ColumnFrom Name="faultedCaseProcessingTime.completed"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="avgInvocationProcessingTime.time">
               <Rate Interval="300000">
                  <ColumnFrom Name="avgInvocationProcessingTime.totalTime"/>
                  <ColumnFrom Name="avgInvocationProcessingTime.completed"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Where>
               <And>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="Name"/>
                        <Value Name="Name.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="Name.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_revision.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_component"/>
                        <Value Name="soainfra_component.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_component.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_domain.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_mediator_casetarget"/>
                        <Value Name="soainfra_mediator_casetarget.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_mediator_casetarget.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
         </Select>
      </Table>
      <!-- Delta table for the weblogic target type -->
      <Table Name="soainfra_mediator_case_delta_rollup">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="Name"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_component"/>
         <ColumnDef Type="String" Name="soainfra_mediator_flow"/>
         <ColumnDef Type="String" Name="soainfra_mediator_casetarget"/>
         <ColumnDef Type="Integer" Name="invocationCount.deltaCount"/>
         <ColumnDef Type="Integer" Name="filterMessageCount.deltaCount"/>
         <ColumnDef Type="Integer" Name="failedFilterMessageCount.deltaCount"/>
         <ColumnDef Type="Integer" Name="successfulCaseProcessingTime.deltaCompleted"/>
         <ColumnDef Type="Double" Name="successfulCaseProcessingTime.deltaTime"/>
         <ColumnDef Type="Double" Name="successfulCaseProcessingTime.averageTime"/>
         <ColumnDef Type="Double" Name="successfulCaseProcessingTime.totalTime"/>
         <ColumnDef Type="Integer" Name="faultedCaseProcessingTime.deltaCompleted"/>
         <ColumnDef Type="Double" Name="faultedCaseProcessingTime.deltaTime"/>
         <ColumnDef Type="Double" Name="faultedCaseProcessingTime.averageTime"/>
         <ColumnDef Type="Double" Name="faultedCaseProcessingTime.totalTime"/>
         <ColumnDef Type="Integer" Name="avgInvocationProcessingTime.deltaCompleted"/>
         <ColumnDef Type="Double" Name="avgInvocationProcessingTime.deltaTime"/>
         <ColumnDef Type="Double" Name="avgInvocationProcessingTime.averageTime"/>
         <ColumnDef Type="Double" Name="avgInvocationProcessingTime.totalTime"/>
         <ColumnDef Type="Double" Name="successfulCaseProcessingTime.deltaAverageTime"/>
         <ColumnDef Type="Double" Name="faultedCaseProcessingTime.deltaAverageTime"/>
         <ColumnDef Type="Double" Name="avgInvocationProcessingTime.deltaAverageTime"/>
         <Select Name="soainfra_mediator_case_delta_rollup_result_1">
            <TableFrom Name="weblogic_j2eeserver:soainfra_mediator_case_rollup_no_rate"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="String" Name="soainfra_mediator_flow"/>
            <Column Type="String" Name="soainfra_mediator_casetarget"/>
            <Column Type="Integer" Name="invocationCount.count"/>
            <Column Type="Integer" Name="filterMessageCount.count"/>
            <Column Type="Integer" Name="failedFilterMessageCount.count"/>
            <Column Type="Integer" Name="successfulCaseProcessingTime.completed"/>
            <Column Type="Double" Name="successfulCaseProcessingTime.totalTime"/>
            <Column Type="Double" Name="successfulCaseProcessingTime.averageTime"/>
            <Column Type="Integer" Name="faultedCaseProcessingTime.completed"/>
            <Column Type="Double" Name="faultedCaseProcessingTime.totalTime"/>
            <Column Type="Double" Name="faultedCaseProcessingTime.averageTime"/>
            <Column Type="Integer" Name="avgInvocationProcessingTime.completed"/>
            <Column Type="Double" Name="avgInvocationProcessingTime.totalTime"/>
            <Column Type="Double" Name="avgInvocationProcessingTime.averageTime"/>
<!-- Get the previous values of completed and time.  We will use them to
                        determine the number of instances and the amount of time spent
                        during the last period.  Note that the time period is 5 minutes
                        (300 seconds = 300,000 milliseconds) -->
            <Column Type="Integer" Name="invocationCount.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="invocationCount.count"/>
                  <Default>0</Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="filterMessageCount.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="filterMessageCount.count"/>
                  <Default>0</Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="failedFilterMessageCount.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="failedFilterMessageCount.count"/>
                  <Default>0</Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="successfulCaseProcessingTime.completed.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="successfulCaseProcessingTime.completed"/>
                  <Default>0</Default>
               </Previous>
            </Column>
            <Column Type="Double" Name="successfulCaseProcessingTime.time.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="successfulCaseProcessingTime.totalTime"/>
                  <Default>0</Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="faultedCaseProcessingTime.completed.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="faultedCaseProcessingTime.completed"/>
                  <Default>0</Default>
               </Previous>
            </Column>
            <Column Type="Double" Name="faultedCaseProcessingTime.time.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="faultedCaseProcessingTime.totalTime"/>
                  <Default>0</Default>
               </Previous>
            </Column>
            <Column Type="Integer" Name="avgInvocationProcessingTime.completed.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="avgInvocationProcessingTime.completed"/>
                  <Default>0</Default>
               </Previous>
            </Column>
            <Column Type="Double" Name="avgInvocationProcessingTime.time.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="avgInvocationProcessingTime.totalTime"/>
                  <Default>0</Default>
               </Previous>
            </Column>
         </Select>
         <Select Name="soainfra_mediator_case_delta_rollup_result_2">
            <TableFrom Name="soainfra_mediator_case_delta_rollup_result_1"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="String" Name="soainfra_mediator_flow"/>
            <Column Type="String" Name="soainfra_mediator_casetarget"/>
            <Column Type="Double" Name="successfulCaseProcessingTime.totalTime"/>
            <Column Type="Double" Name="successfulCaseProcessingTime.averageTime"/>
            <Column Type="Double" Name="faultedCaseProcessingTime.totalTime"/>
            <Column Type="Double" Name="faultedCaseProcessingTime.averageTime"/>
            <Column Type="Double" Name="avgInvocationProcessingTime.totalTime"/>
            <Column Type="Double" Name="avgInvocationProcessingTime.averageTime"/>
            <Column Type="Integer" Name="invocationCount.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="invocationCount.count.previous"/>
                     <ColumnFrom Name="invocationCount.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="invocationCount.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="invocationCount.count"/>
                        <ColumnFrom Name="invocationCount.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="filterMessageCount.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="filterMessageCount.count.previous"/>
                     <ColumnFrom Name="filterMessageCount.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="filterMessageCount.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="filterMessageCount.count"/>
                        <ColumnFrom Name="filterMessageCount.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="failedFilterMessageCount.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="failedFilterMessageCount.count.previous"/>
                     <ColumnFrom Name="failedFilterMessageCount.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="failedFilterMessageCount.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="failedFilterMessageCount.count"/>
                        <ColumnFrom Name="failedFilterMessageCount.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="successfulCaseProcessingTime.deltaCompleted">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="successfulCaseProcessingTime.completed.previous"/>
                     <ColumnFrom Name="successfulCaseProcessingTime.completed"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="successfulCaseProcessingTime.completed"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="successfulCaseProcessingTime.completed"/>
                        <ColumnFrom Name="successfulCaseProcessingTime.completed.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>0</Default>
            </Column>
            <Column Type="Double" Name="successfulCaseProcessingTime.deltaTime">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="successfulCaseProcessingTime.time.previous"/>
                     <ColumnFrom Name="successfulCaseProcessingTime.totalTime"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use time -->
                     <ColumnFrom Name="successfulCaseProcessingTime.totalTime"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="successfulCaseProcessingTime.totalTime"/>
                        <ColumnFrom Name="successfulCaseProcessingTime.time.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="faultedCaseProcessingTime.deltaCompleted">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="faultedCaseProcessingTime.completed.previous"/>
                     <ColumnFrom Name="faultedCaseProcessingTime.completed"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="faultedCaseProcessingTime.completed"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="faultedCaseProcessingTime.completed"/>
                        <ColumnFrom Name="faultedCaseProcessingTime.completed.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>0</Default>
            </Column>
            <Column Type="Double" Name="faultedCaseProcessingTime.deltaTime">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="faultedCaseProcessingTime.time.previous"/>
                     <ColumnFrom Name="faultedCaseProcessingTime.totalTime"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use time -->
                     <ColumnFrom Name="faultedCaseProcessingTime.totalTime"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="faultedCaseProcessingTime.totalTime"/>
                        <ColumnFrom Name="faultedCaseProcessingTime.time.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>0</Default>
            </Column>
            <Column Type="Integer" Name="avgInvocationProcessingTime.deltaCompleted">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="avgInvocationProcessingTime.completed.previous"/>
                     <ColumnFrom Name="avgInvocationProcessingTime.completed"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="avgInvocationProcessingTime.completed"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="avgInvocationProcessingTime.completed"/>
                        <ColumnFrom Name="avgInvocationProcessingTime.completed.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>0</Default>
            </Column>
            <Column Type="Double" Name="avgInvocationProcessingTime.deltaTime">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="avgInvocationProcessingTime.time.previous"/>
                     <ColumnFrom Name="avgInvocationProcessingTime.totalTime"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use time -->
                     <ColumnFrom Name="avgInvocationProcessingTime.totalTime"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="avgInvocationProcessingTime.totalTime"/>
                        <ColumnFrom Name="avgInvocationProcessingTime.time.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>0</Default>
            </Column>
         </Select>
         <Select Name="soainfra_mediator_case_delta_rollup_result">
            <TableFrom Name="soainfra_mediator_case_delta_rollup_result_2"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="String" Name="soainfra_mediator_flow"/>
            <Column Type="String" Name="soainfra_mediator_casetarget"/>
            <Column Type="Double" Name="successfulCaseProcessingTime.totalTime"/>
            <Column Type="Double" Name="successfulCaseProcessingTime.averageTime"/>
            <Column Type="Double" Name="faultedCaseProcessingTime.totalTime"/>
            <Column Type="Double" Name="faultedCaseProcessingTime.averageTime"/>
            <Column Type="Double" Name="avgInvocationProcessingTime.totalTime"/>
            <Column Type="Double" Name="avgInvocationProcessingTime.averageTime"/>
            <Column Type="Integer" Name="invocationCount.deltaCount"/>
            <Column Type="Integer" Name="filterMessageCount.deltaCount"/>
            <Column Type="Integer" Name="failedFilterMessageCount.deltaCount"/>
            <Column Type="Integer" Name="successfulCaseProcessingTime.deltaCompleted"/>
            <Column Type="Double" Name="successfulCaseProcessingTime.deltaTime"/>
            <Column Type="Integer" Name="faultedCaseProcessingTime.deltaCompleted"/>
            <Column Type="Double" Name="faultedCaseProcessingTime.deltaTime"/>
            <Column Type="Integer" Name="avgInvocationProcessingTime.deltaCompleted"/>
            <Column Type="Double" Name="avgInvocationProcessingTime.deltaTime"/>
            <Column Type="Double" Name="successfulCaseProcessingTime.deltaAverageTime">
               <Expression Operator="Div">
                  <ColumnFrom Name="successfulCaseProcessingTime.deltaTime"/>
                  <ColumnFrom Name="successfulCaseProcessingTime.deltaCompleted"/>
               </Expression>
               <Default>0</Default>
            </Column>
            <Column Type="Double" Name="faultedCaseProcessingTime.deltaAverageTime">
               <Expression Operator="Div">
                  <ColumnFrom Name="faultedCaseProcessingTime.deltaTime"/>
                  <ColumnFrom Name="faultedCaseProcessingTime.deltaCompleted"/>
               </Expression>
               <Default>0</Default>
            </Column>
            <Column Type="Double" Name="avgInvocationProcessingTime.deltaAverageTime">
               <Expression Operator="Div">
                  <ColumnFrom Name="avgInvocationProcessingTime.deltaTime"/>
                  <ColumnFrom Name="avgInvocationProcessingTime.deltaCompleted"/>
               </Expression>
               <Default>0</Default>
            </Column>
            <Where>
               <And>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="Name"/>
                        <Value Name="Name.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="Name.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_revision.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_component"/>
                        <Value Name="soainfra_component.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_component.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_domain.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_mediator_casetarget"/>
                        <Value Name="soainfra_mediator_casetarget.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_mediator_casetarget.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
         </Select>
      </Table>
      <!-- end delta table -->
      <!-- TABLE : soainfra_wfStateEvent -->
      <!-- JVM rollup table for the weblogic target type -->
      <Table Name="soainfra_wfStateEvent_rollup_no_rate">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="Name"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_component"/>
         <ColumnDef Type="Integer" Name="state.count"/>
         <Select Name="soainfra_wfStateEvent_result">
            <TableFrom Name="soainfra_wfStateEvent"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="Integer" Name="state.count">
               <Aggregation Operator="Sum" Name="state.count"/>
               <Default>
                  0
               </Default>
            </Column>
            <GroupBy Name="Name"/>
            <GroupBy Name="soainfra_composite_revision"/>
            <GroupBy Name="soainfra_domain"/>
            <GroupBy Name="soainfra_composite"/>
            <GroupBy Name="soainfra_component"/>
            <GroupBy Name="ServerName"/>
<!-- Only includes rows with data.  If there is no soainfra_composite name, don't return
                the row -->
            <Where>
               <Condition Operator="NE" Type="String">
                  <ColumnFrom Name="soainfra_composite"/>
                  <Null/>
               </Condition>
            </Where>
         </Select>
      </Table>
      <!-- Rate table for the weblogic target type -->
      <Table Name="soainfra_wfStateEvent_rollup">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="Name"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_component"/>
         <ColumnDef Type="Double" Name="state.throughput"/>
         <Select Name="soainfra_wfStateEvent_result">
            <TableFrom Name="weblogic_j2eeserver:soainfra_wfStateEvent_rollup_no_rate"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="Double" Name="state.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="state.count"/>
                  <Default>
                     0
                  </Default>
               </Rate>
            </Column>
            <Where>
               <And>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="Name"/>
                        <Value Name="Name.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="Name.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_revision.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_component"/>
                        <Value Name="soainfra_component.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_component.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_domain.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
         </Select>
      </Table>
      <!-- Delta table for the weblogic target type -->
      <Table Name="soainfra_wfStateEvent_delta_rollup">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="Name"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_component"/>
         <ColumnDef Type="Integer" Name="state.deltaCount"/>
         <Select Name="soainfra_wfStateEvent_delta_rollup_result_1">
            <TableFrom Name="weblogic_j2eeserver:soainfra_wfStateEvent_rollup_no_rate"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="Integer" Name="state.count"/>
<!-- Get the previous values of completed and time.  We will use them to
                        determine the number of instances and the amount of time spent
                        during the last period.  Note that the time period is 5 minutes
                        (300 seconds = 300,000 milliseconds) -->
            <Column Type="Integer" Name="state.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="state.count"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
         </Select>
         <Select Name="soainfra_wfStateEvent_delta_rollup_result_2">
            <TableFrom Name="soainfra_wfStateEvent_delta_rollup_result_1"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="Integer" Name="state.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="state.count.previous"/>
                     <ColumnFrom Name="state.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="state.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="state.count"/>
                        <ColumnFrom Name="state.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Where>
               <And>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="Name"/>
                        <Value Name="Name.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="Name.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_revision.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_component"/>
                        <Value Name="soainfra_component.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_component.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_domain.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
         </Select>
      </Table>
      <!-- end delta table -->
      <!-- TABLE : soainfra_wfNotificationEvent -->
      <!-- JVM rollup table for the weblogic target type -->
      <Table Name="soainfra_wfNotificationEvent_rollup_no_rate">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="Name"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_component"/>
         <ColumnDef Type="Integer" Name="notification.count"/>
         <Select Name="soainfra_wfNotificationEvent_result">
            <TableFrom Name="soainfra_wfNotificationEvent"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="Integer" Name="notification.count">
               <Aggregation Operator="Sum" Name="notification.count"/>
               <Default>
                  0
               </Default>
            </Column>
            <GroupBy Name="Name"/>
            <GroupBy Name="soainfra_composite_revision"/>
            <GroupBy Name="soainfra_domain"/>
            <GroupBy Name="soainfra_composite"/>
            <GroupBy Name="soainfra_component"/>
            <GroupBy Name="ServerName"/>
<!-- Only includes rows with data.  If there is no soainfra_composite name, don't return
                the row -->
            <Where>
               <Condition Operator="NE" Type="String">
                  <ColumnFrom Name="soainfra_composite"/>
                  <Null/>
               </Condition>
            </Where>
         </Select>
      </Table>
      <!-- Rate table for the weblogic target type -->
      <Table Name="soainfra_wfNotificationEvent_rollup">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="Name"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_component"/>
         <ColumnDef Type="Double" Name="notification.throughput"/>
         <ColumnDef Type="Integer" Name="notification.count"/>
         <Select Name="soainfra_wfNotificationEvent_result">
            <TableFrom Name="weblogic_j2eeserver:soainfra_wfNotificationEvent_rollup_no_rate"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="Integer" Name="notification.count"/>
            <Column Type="Double" Name="notification.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="notification.count"/>
                  <Default>
                     0
                  </Default>
               </Rate>
            </Column>
            <Where>
               <And>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="Name"/>
                        <Value Name="Name.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="Name.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_revision.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_component"/>
                        <Value Name="soainfra_component.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_component.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_domain.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
         </Select>
      </Table>
      <!-- Delta table for the weblogic target type -->
      <Table Name="soainfra_wfNotificationEvent_delta_rollup">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="Name"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_component"/>
         <ColumnDef Type="Integer" Name="notification.deltaCount"/>
         <Select Name="soainfra_wfNotificationEvent_delta_rollup_result_1">
            <TableFrom Name="weblogic_j2eeserver:soainfra_wfNotificationEvent_rollup_no_rate"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="Integer" Name="notification.count"/>
<!-- Get the previous values of completed and time.  We will use them to
                        determine the number of instances and the amount of time spent
                        during the last period.  Note that the time period is 5 minutes
                        (300 seconds = 300,000 milliseconds) -->
            <Column Type="Integer" Name="notification.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="notification.count"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
         </Select>
         <Select Name="soainfra_wfNotificationEvent_delta_rollup_result_2">
            <TableFrom Name="soainfra_wfNotificationEvent_delta_rollup_result_1"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="Integer" Name="notification.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="notification.count.previous"/>
                     <ColumnFrom Name="notification.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="notification.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="notification.count"/>
                        <ColumnFrom Name="notification.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Where>
               <And>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="Name"/>
                        <Value Name="Name.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="Name.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_revision.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_component"/>
                        <Value Name="soainfra_component.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_component.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_domain.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
         </Select>
      </Table>
      <!-- end delta table -->
      <!-- TABLE : soainfra_wfOutcomeEvent -->
      <!-- JVM rollup table for the weblogic target type -->
      <Table Name="soainfra_wfOutcomeEvent_rollup_no_rate">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="Name"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_component"/>
         <ColumnDef Type="Integer" Name="outcome.count"/>
         <Select Name="soainfra_wfOutcomeEvent_result">
            <TableFrom Name="soainfra_wfOutcomeEvent"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="Integer" Name="outcome.count">
               <Aggregation Operator="Sum" Name="outcome.count"/>
               <Default>
                  0
               </Default>
            </Column>
            <GroupBy Name="Name"/>
            <GroupBy Name="soainfra_composite_revision"/>
            <GroupBy Name="soainfra_domain"/>
            <GroupBy Name="soainfra_composite"/>
            <GroupBy Name="soainfra_component"/>
            <GroupBy Name="ServerName"/>
<!-- Only includes rows with data.  If there is no soainfra_composite name, don't return
                the row -->
            <Where>
               <Condition Operator="NE" Type="String">
                  <ColumnFrom Name="soainfra_composite"/>
                  <Null/>
               </Condition>
            </Where>
         </Select>
      </Table>
      <!-- Rate table for the weblogic target type -->
      <Table Name="soainfra_wfOutcomeEvent_rollup">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="Name"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_component"/>
         <ColumnDef Type="Integer" Name="outcome.count"/>
         <ColumnDef Type="Double" Name="outcome.throughput"/>
         <Select Name="soainfra_wfOutcomeEvent_result">
            <TableFrom Name="weblogic_j2eeserver:soainfra_wfOutcomeEvent_rollup_no_rate"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="Integer" Name="outcome.count"/>
            <Column Type="Double" Name="outcome.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="outcome.count"/>
                  <Default>
                     0
                  </Default>
               </Rate>
            </Column>
            <Where>
               <And>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="Name"/>
                        <Value Name="Name.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="Name.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_revision.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_component"/>
                        <Value Name="soainfra_component.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_component.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_domain.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
         </Select>
      </Table>
      <!-- Delta table for the weblogic target type -->
      <Table Name="soainfra_wfOutcomeEvent_delta_rollup">
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="String" Key="true" Name="Name"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_component"/>
         <ColumnDef Type="Integer" Name="outcome.deltaCount"/>
         <Select Name="soainfra_wfOutcomeEvent_delta_rollup_result_1">
            <TableFrom Name="weblogic_j2eeserver:soainfra_wfOutcomeEvent_rollup_no_rate"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="Integer" Name="outcome.count"/>
<!-- Get the previous values of completed and time.  We will use them to
                        determine the number of instances and the amount of time spent
                        during the last period.  Note that the time period is 5 minutes
                        (300 seconds = 300,000 milliseconds) -->
            <Column Type="Integer" Name="outcome.count.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="outcome.count"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
         </Select>
         <Select Name="soainfra_wfOutcomeEvent_delta_rollup_result_2">
            <TableFrom Name="soainfra_wfOutcomeEvent_delta_rollup_result_1"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="Integer" Name="outcome.deltaCount">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="outcome.count.previous"/>
                     <ColumnFrom Name="outcome.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="outcome.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="outcome.count"/>
                        <ColumnFrom Name="outcome.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Where>
               <And>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="Name"/>
                        <Value Name="Name.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="Name.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_revision.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_component"/>
                        <Value Name="soainfra_component.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_component.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_domain.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
         </Select>
      </Table>
      <!-- end delta table -->
      <!-- the bpel component metrics -->
      <Table Name="bpel_activity_time_distribution_rollup_no_rate">
         <ColumnDef Type="String" Key="true" Name="Name"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Name="soainfra_composite_label"/>
         <ColumnDef Type="String" Name="soainfra_component_type"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_component"/>
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="Integer" Name="executionTime.completed"/>
         <ColumnDef Type="Double" Name="executionTime.averageTime"/>
         <Select Name="soainfra_bpel_activity_result">
            <TableFrom Name="soainfra_bpel_activity"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_label"/>
            <Column Type="String" Name="soainfra_component_type"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="Integer" Name="executionTime.completed">
            	<Aggregation Operator="Sum" Name="executionTime.completed"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Double" Name="executionTime.averageTime">
               <Expression Operator="Div">
                  <Expression Operator="Div">
                  	 <Aggregation Operator="Sum" Name="executionTime.time"/>
                     <Value>
                        1000
                     </Value>
                  </Expression>
									<ColumnFrom Name="executionTime.completed"/>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <GroupBy Name="Name"/>
            <GroupBy Name="ServerName"/>
            <GroupBy Name="soainfra_component"/>
            <GroupBy Name="soainfra_component_type"/>
            <GroupBy Name="soainfra_composite_revision"/>
            <GroupBy Name="soainfra_composite_label"/>
            <GroupBy Name="soainfra_composite"/>
            <GroupBy Name="soainfra_domain"/>
<!-- Only includes rows with data.  If there is no soainfra_composite name, don't return
                the row -->
            <Where>
               <Condition Operator="NE" Type="String">
                  <ColumnFrom Name="soainfra_composite"/>
                  <Null/>
               </Condition>
            </Where>
         </Select>
      </Table>
      <Table Name="bpel_activity_time_distribution_delta_rollup">
         <ColumnDef Type="String" Key="true" Name="Name"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Name="soainfra_composite_label"/>
         <ColumnDef Type="String" Name="soainfra_component_type"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_component"/>
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="Integer" Name="executionTime.deltaCompleted"/>
         <ColumnDef Type="Double" Name="executionTime.averageTime"/>
         <ColumnDef Type="Integer" Name="executionTime.completed"/>
         <Select Name="soainfra_bpel_activity_result_1">
            <TableFrom Name="weblogic_j2eeserver:bpel_activity_time_distribution_rollup_no_rate"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_label"/>
            <Column Type="String" Name="soainfra_component_type"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="Integer" Name="executionTime.completed"/>
            <Column Type="Double" Name="executionTime.averageTime"/>
            <Column Type="Integer" Name="executionTime.completed.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="executionTime.completed"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
         </Select>
         <Select Name="soainfra_bpel_activity_result_2">
            <TableFrom Name="soainfra_bpel_activity_result_1"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_label"/>
            <Column Type="String" Name="soainfra_component_type"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="Double" Name="executionTime.averageTime"/>
            <Column Type="Integer" Name="executionTime.completed"/>
            <Column Type="Integer" Name="executionTime.deltaCompleted">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="executionTime.completed.previous"/>
                     <ColumnFrom Name="executionTime.completed"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="executionTime.completed"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="executionTime.completed"/>
                        <ColumnFrom Name="executionTime.completed.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
         </Select>
         <Select Name="soainfra_bpel_activity_result">
            <TableFrom Name="soainfra_bpel_activity_result_2"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_label"/>
            <Column Type="String" Name="soainfra_component_type"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="Double" Name="executionTime.averageTime"/>
            <Column Type="Integer" Name="executionTime.deltaCompleted"/>
            <Column Type="Integer" Name="executionTime.completed"/>
            <Where>
               <And>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_revision"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_component"/>
                        <Value Name="soainfra_component.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_component.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_domain.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
         </Select>
      </Table>
      <!-- the bpmn component metrics -->
      <Table Name="bpmn_activity_time_distribution_rollup_no_rate">
         <ColumnDef Type="String" Key="true" Name="Name"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Name="soainfra_composite_label"/>
         <ColumnDef Type="String" Name="soainfra_component_type"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_component"/>
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="Integer" Name="executionTime.completed"/>
         <ColumnDef Type="Double" Name="executionTime.averageTime"/>
         <Select Name="soainfra_bpmn_activity_result">
            <TableFrom Name="soainfra_bpmn_activity"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_label"/>
            <Column Type="String" Name="soainfra_component_type"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="Integer" Name="executionTime.completed">
            	<Aggregation Operator="Sum" Name="executionTime.completed"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Type="Double" Name="executionTime.averageTime">
               <Expression Operator="Div">
                  <Expression Operator="Div">
                  	 <Aggregation Operator="Sum" Name="executionTime.time"/>
                     <Value>
                        1000
                     </Value>
                  </Expression>
									<ColumnFrom Name="executionTime.completed"/>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <GroupBy Name="Name"/>
            <GroupBy Name="ServerName"/>
            <GroupBy Name="soainfra_component"/>
            <GroupBy Name="soainfra_component_type"/>
            <GroupBy Name="soainfra_composite_revision"/>
            <GroupBy Name="soainfra_composite_label"/>
            <GroupBy Name="soainfra_composite"/>
            <GroupBy Name="soainfra_domain"/>
<!-- Only includes rows with data.  If there is no soainfra_composite name, don't return
                the row -->
            <Where>
               <Condition Operator="NE" Type="String">
                  <ColumnFrom Name="soainfra_composite"/>
                  <Null/>
               </Condition>
            </Where>
         </Select>
      </Table>
      <Table Name="bpmn_activity_time_distribution_delta_rollup">
         <ColumnDef Type="String" Key="true" Name="Name"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_domain"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_composite_revision"/>
         <ColumnDef Type="String" Name="soainfra_composite_label"/>
         <ColumnDef Type="String" Name="soainfra_component_type"/>
         <ColumnDef Type="String" Key="true" Name="soainfra_component"/>
         <ColumnDef Type="String" Key="true" Name="ServerName"/>
         <ColumnDef Type="Integer" Name="executionTime.deltaCompleted"/>
         <ColumnDef Type="Double" Name="executionTime.averageTime"/>
         <ColumnDef Type="Integer" Name="executionTime.completed"/>
         <Select Name="soainfra_bpmn_activity_result_1">
            <TableFrom Name="weblogic_j2eeserver:bpmn_activity_time_distribution_rollup_no_rate"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_label"/>
            <Column Type="String" Name="soainfra_component_type"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="Integer" Name="executionTime.completed"/>
            <Column Type="Double" Name="executionTime.averageTime"/>
            <Column Type="Integer" Name="executionTime.completed.previous">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="executionTime.completed"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
         </Select>
         <Select Name="soainfra_bpmn_activity_result_2">
            <TableFrom Name="soainfra_bpmn_activity_result_1"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_label"/>
            <Column Type="String" Name="soainfra_component_type"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="Double" Name="executionTime.averageTime"/>
            <Column Type="Integer" Name="executionTime.completed"/>
            <Column Type="Integer" Name="executionTime.deltaCompleted">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="executionTime.completed.previous"/>
                     <ColumnFrom Name="executionTime.completed"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use completed -->
                     <ColumnFrom Name="executionTime.completed"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="executionTime.completed"/>
                        <ColumnFrom Name="executionTime.completed.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
         </Select>
         <Select Name="soainfra_bpmn_activity_result">
            <TableFrom Name="soainfra_bpmn_activity_result_2"/>
            <Column Type="String" Name="Name"/>
            <Column Type="String" Name="soainfra_domain"/>
            <Column Type="String" Name="soainfra_composite"/>
            <Column Type="String" Name="soainfra_composite_revision"/>
            <Column Type="String" Name="soainfra_composite_label"/>
            <Column Type="String" Name="soainfra_component_type"/>
            <Column Type="String" Name="soainfra_component"/>
            <Column Type="String" Name="ServerName"/>
            <Column Type="Double" Name="executionTime.averageTime"/>
            <Column Type="Integer" Name="executionTime.deltaCompleted"/>
            <Column Type="Integer" Name="executionTime.completed"/>
            <Where>
               <And>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_revision"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_component"/>
                        <Value Name="soainfra_component.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_component.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_domain.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
         </Select>
      </Table>
      <Table Name="soainfra_component_references_rollup_no_rate">
         <ColumnDef Type="String" Name="Name" Key="true"/>
         <ColumnDef Name="ServerName" Type="String" Key="true"/>
         <ColumnDef Name="soainfra_domain" Type="String" Key="true"/>
         <ColumnDef Name="soainfra_composite" Type="String" Key="true"/>
         <ColumnDef Name="soainfra_composite_revision" Type="String" Key="true"/>
         <ColumnDef Name="soainfra_composite_label" Type="String" Key="true"/>
         <ColumnDef Name="soainfra_composite_assembly_member_type" Type="String" Key="true"/>
         <ColumnDef Name="soainfra_composite_assembly_member" Type="String" Key="true"/>
         <ColumnDef Name="soainfra_ComponentReferences" Type="String" Key="true"/>
         <ColumnDef Name="RequestErrors.count" Type="Integer"/>
         <ColumnDef Name="RequestEvents.count" Type="Integer"/>
         <ColumnDef Name="Requests.completed" Type="Integer"/>
         <ColumnDef Name="Requests.totalTime" Type="Double"/>
         <ColumnDef Name="PostErrors.count" Type="Integer"/>
         <ColumnDef Name="PostEvents.count" Type="Integer"/>
         <ColumnDef Name="Posts.completed" Type="Integer"/>
         <ColumnDef Name="Posts.totalTime" Type="Double"/>
         <Select Name="soainfra_component_references_rollup_no_rate_result">
            <TableFrom Name="soainfra_ComponentReference"/>
            <Column Type="String" Name="Name"/>
            <Column Name="ServerName" Type="String"/>
            <Column Name="soainfra_domain" Type="String"/>
            <Column Name="soainfra_composite" Type="String"/>
            <Column Name="soainfra_composite_revision" Type="String"/>
            <Column Name="soainfra_composite_label" Type="String"/>
            <Column Name="soainfra_composite_assembly_member_type" Type="String"/>
            <Column Name="soainfra_composite_assembly_member" Type="String"/>
            <Column Name="soainfra_ComponentReferences" Type="String"/>
            <Column Name="RequestErrors.count" Type="Integer">
               <Aggregation Operator="Sum" Name="RequestErrors.count"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Name="RequestEvents.count" Type="Integer">
               <Aggregation Operator="Sum" Name="RequestEvents.count"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Name="Requests.completed" Type="Integer">
               <Aggregation Operator="Sum" Name="Requests.completed"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Name="Requests.totalTime" Type="Double">
               <Expression Operator="Div">
                  <Aggregation Operator="Sum" Name="Requests.time"/>
                  <Value>
                     1000
                  </Value>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <Column Name="PostErrors.count" Type="Integer">
               <Aggregation Operator="Sum" Name="PostErrors.count"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Name="PostEvents.count" Type="Integer">
               <Aggregation Operator="Sum" Name="PostEvents.count"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Name="Posts.completed" Type="Integer">
               <Aggregation Operator="Sum" Name="Posts.completed"/>
               <Default>
                  0
               </Default>
            </Column>
            <Column Name="Posts.totalTime" Type="Double">
               <Expression Operator="Div">
                  <Aggregation Operator="Sum" Name="Posts.time"/>
                  <Value>
                     1000
                  </Value>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <GroupBy Name="Name"/>
            <GroupBy Name="ServerName"/>
            <GroupBy Name="soainfra_ComponentReferences"/>
            <GroupBy Name="soainfra_composite_assembly_member"/>
            <GroupBy Name="soainfra_composite_assembly_member_type"/>
            <GroupBy Name="soainfra_composite_revision"/>
            <GroupBy Name="soainfra_composite_label"/>
            <GroupBy Name="soainfra_composite"/>
            <GroupBy Name="soainfra_domain"/>
<!-- Only includes rows with data.  If there is no soainfra_composite name, don't return
                the row -->
            <Where>
               <Condition Operator="NE" Type="String">
                  <ColumnFrom Name="soainfra_composite"/>
                  <Null/>
               </Condition>
            </Where>
         </Select>
      </Table>
      <!-- the rate table -->
      <Table Name="soainfra_component_references_rollup">
         <ColumnDef Name="Name" Type="String" Key="true"/>
         <ColumnDef Name="ServerName" Type="String" Key="true"/>
         <ColumnDef Name="soainfra_domain" Type="String" Key="true"/>
         <ColumnDef Name="soainfra_composite" Type="String" Key="true"/>
         <ColumnDef Name="soainfra_composite_revision" Type="String" Key="true"/>
         <ColumnDef Name="soainfra_composite_label" Type="String" Key="true"/>
         <ColumnDef Name="soainfra_composite_assembly_member_type" Type="String" Key="true"/>
         <ColumnDef Name="soainfra_composite_assembly_member" Type="String" Key="true"/>
         <ColumnDef Name="soainfra_ComponentReferences" Type="String" Key="true"/>
         <ColumnDef Name="RequestErrors.throughput" Type="Integer"/>
         <ColumnDef Name="RequestEvents.throughput" Type="Integer"/>
         <ColumnDef Name="Requests.throughput" Type="Integer"/>
         <ColumnDef Name="Requests.time" Type="Double"/>
         <ColumnDef Name="PostErrors.throughput" Type="Integer"/>
         <ColumnDef Name="PostEvents.throughput" Type="Integer"/>
         <ColumnDef Name="Posts.throughput" Type="Integer"/>
         <ColumnDef Name="Posts.time" Type="Double"/>
         <ColumnDef Name="instances.errorCount" Type="Integer"/>
         <ColumnDef Name="instances.eventCount" Type="Integer"/>
         <ColumnDef Name="instances.completed" Type="Integer"/>
         <ColumnDef Name="instances.totalTime" Type="Double"/>
         <ColumnDef Name="instances.time" Type="Double"/>
         <ColumnDef Name="instances.averageTime" Type="Double"/>
         <Select Name="soainfra_component_references_rollup_result_1">
            <TableFrom Name="weblogic_j2eeserver:soainfra_component_references_rollup_no_rate"/>
            <Column Name="Name" Type="String" Key="true"/>
            <Column Name="ServerName" Type="String" Key="true"/>
            <Column Name="soainfra_domain" Type="String" Key="true"/>
            <Column Name="soainfra_composite" Type="String" Key="true"/>
            <Column Name="soainfra_composite_revision" Type="String" Key="true"/>
            <Column Name="soainfra_composite_label" Type="String" Key="true"/>
            <Column Name="soainfra_composite_assembly_member_type" Type="String" Key="true"/>
            <Column Name="soainfra_composite_assembly_member" Type="String" Key="true"/>
            <Column Name="soainfra_ComponentReferences" Type="String" Key="true"/>
            <Column Type="Double" Name="RequestErrors.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="RequestErrors.count"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="RequestEvents.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="RequestEvents.count"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="Requests.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="Requests.completed"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="Requests.time">
               <Rate Interval="300000">
                  <ColumnFrom Name="Requests.totalTime"/>
                  <ColumnFrom Name="Requests.completed"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="PostErrors.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="PostErrors.count"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="PostEvents.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="PostEvents.count"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="Posts.throughput">
               <Rate Interval="300000">
                  <ColumnFrom Name="Posts.completed"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Type="Double" Name="Posts.time">
               <Rate Interval="300000">
                  <ColumnFrom Name="Posts.totalTime"/>
                  <ColumnFrom Name="Posts.completed"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <Column Name="instances.errorCount" Type="Integer">
               <If>
                  <Condition Operator="EQ">
                     <ColumnFrom Name="PostErrors.count"/>
                     <Null/>
                  </Condition>
                  <Then>
                     <ColumnFrom Name="RequestErrors.count"/>
                  </Then>
                  <Else>
                     <If>
                        <Condition Operator="EQ">
                           <ColumnFrom Name="RequestErrors.count"/>
                           <Null/>
                        </Condition>
                        <Then>
                           <ColumnFrom Name="PostErrors.count"/>
                        </Then>
                        <Else>
                           <Expression Operator="Plus">
                              <ColumnFrom Name="PostErrors.count"/>
                              <ColumnFrom Name="RequestErrors.count"/>
                           </Expression>
                        </Else>
                     </If>
                  </Else>
               </If>
            </Column>
            <Column Name="instances.eventCount" Type="Integer">
               <If>
                  <Condition Operator="EQ">
                     <ColumnFrom Name="PostEvents.count"/>
                     <Null/>
                  </Condition>
                  <Then>
                     <ColumnFrom Name="RequestEvents.count"/>
                  </Then>
                  <Else>
                     <If>
                        <Condition Operator="EQ">
                           <ColumnFrom Name="RequestEvents.count"/>
                           <Null/>
                        </Condition>
                        <Then>
                           <ColumnFrom Name="PostEvents.count"/>
                        </Then>
                        <Else>
                           <Expression Operator="Plus">
                              <ColumnFrom Name="PostEvents.count"/>
                              <ColumnFrom Name="RequestEvents.count"/>
                           </Expression>
                        </Else>
                     </If>
                  </Else>
               </If>
            </Column>
            <Column Name="instances.totalTime" Type="Double">
               <If>
                  <Condition Operator="EQ">
                     <ColumnFrom Name="Posts.totalTime"/>
                     <Null/>
                  </Condition>
                  <Then>
                     <ColumnFrom Name="Requests.totalTime"/>
                  </Then>
                  <Else>
                     <If>
                        <Condition Operator="EQ">
                           <ColumnFrom Name="Requests.totalTime"/>
                           <Null/>
                        </Condition>
                        <Then>
                           <ColumnFrom Name="Posts.totalTime"/>
                        </Then>
                        <Else>
                           <Expression Operator="Plus">
                              <ColumnFrom Name="Posts.totalTime"/>
                              <ColumnFrom Name="Requests.totalTime"/>
                           </Expression>
                        </Else>
                     </If>
                  </Else>
               </If>
            </Column>
            <Column Name="instances.completed" Type="Integer">
               <If>
                  <Condition Operator="EQ">
                     <ColumnFrom Name="Posts.completed"/>
                     <Null/>
                  </Condition>
                  <Then>
                     <ColumnFrom Name="Requests.completed"/>
                  </Then>
                  <Else>
                     <If>
                        <Condition Operator="EQ">
                           <ColumnFrom Name="Requests.completed"/>
                           <Null/>
                        </Condition>
                        <Then>
                           <ColumnFrom Name="Posts.completed"/>
                        </Then>
                        <Else>
                           <Expression Operator="Plus">
                              <ColumnFrom Name="Posts.completed"/>
                              <ColumnFrom Name="Requests.completed"/>
                           </Expression>
                        </Else>
                     </If>
                  </Else>
               </If>
            </Column>
         </Select>
         <Select Name="soainfra_component_references_rollup_result">
            <TableFrom Name="soainfra_component_references_rollup_result_1"/>
            <Column Name="Name" Type="String"/>
            <Column Name="ServerName" Type="String"/>
            <Column Name="soainfra_domain" Type="String"/>
            <Column Name="soainfra_composite" Type="String"/>
            <Column Name="soainfra_composite_revision" Type="String"/>
            <Column Name="soainfra_composite_label" Type="String"/>
            <Column Name="soainfra_composite_assembly_member_type" Type="String"/>
            <Column Name="soainfra_composite_assembly_member" Type="String"/>
            <Column Name="soainfra_ComponentReferences" Type="String"/>
            <Column Type="Double" Name="RequestErrors.throughput"/>
            <Column Type="Double" Name="RequestEvents.throughput"/>
            <Column Type="Double" Name="Requests.throughput"/>
            <Column Type="Double" Name="Requests.time"/>
            <Column Type="Double" Name="PostErrors.throughput"/>
            <Column Type="Double" Name="PostEvents.throughput"/>
            <Column Type="Double" Name="Posts.throughput"/>
            <Column Type="Double" Name="Posts.time"/>
            <Column Name="instances.errorCount" Type="Integer"/>
            <Column Name="instances.eventCount" Type="Integer"/>
            <Column Name="instances.totalTime" Type="Double"/>
            <Column Name="instances.completed" Type="Integer"/>
<!-- average processing time spent in last 5 mins -->
            <Column Type="Double" Name="instances.time">
               <Rate Interval="300000">
                  <ColumnFrom Name="instances.totalTime"/>
                  <ColumnFrom Name="instances.completed"/>
                  <Default>0</Default>
               </Rate>
            </Column>
            <!-- total average processing time spent since server start up -->
            <Column Type="Double" Name="instances.averageTime">
               <Expression Operator="Div">
                  <ColumnFrom Name="instances.totalTime"/>
                  <ColumnFrom Name="instances.completed"/>
               </Expression>
               <Default>0</Default>
            </Column>
            <Where>
               <And>
                  <Condition Type="String" Operator="EQ">
                     <ColumnFrom Name="soainfra_ComponentReferences"/>
                     <Value>REFERENCEs</Value>
                  </Condition>
                  <Or>
                     <Condition Type="String" Operator="EQ">
                        <ColumnFrom Name="soainfra_composite_assembly_member"/>
                        <Value Name="soainfra_composite_assembly_member.parameter"/>
                     </Condition>
                     <Condition Type="String" Operator="EQ">
                        <Value Name="soainfra_composite_assembly_member" xsi:nil="true"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Condition Type="String" Operator="EQ">
                     <ColumnFrom Name="soainfra_composite_assembly_member_type"/>
                     <Value>COMPONENTs</Value>
                  </Condition>
                  <Or>
                     <Condition Type="String" Operator="EQ">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Type="String" Operator="EQ">
                        <Value Name="soainfra_composite_revision" xsi:nil="true"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Type="String" Operator="EQ">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Type="String" Operator="EQ">
                        <Value Name="soainfra_composite.parameter" xsi:nil="true"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Type="String" Operator="EQ">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Type="String" Operator="EQ">
                        <Value Name="soainfra_domain.parameter" xsi:nil="true"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
         </Select>
      </Table>
      <!-- rate table ends -->
      <!-- delta table start -->
      <Table Name="soainfra_component_references_delta_rollup">
         <ColumnDef Type="String" Name="Name" Key="true"/>
         <ColumnDef Name="ServerName" Type="String" Key="true"/>
         <ColumnDef Name="soainfra_domain" Type="String" Key="true"/>
         <ColumnDef Name="soainfra_composite" Type="String" Key="true"/>
         <ColumnDef Name="soainfra_composite_revision" Type="String" Key="true"/>
         <ColumnDef Name="soainfra_composite_label" Type="String" Key="true"/>
         <ColumnDef Name="soainfra_composite_assembly_member_type" Type="String" Key="true"/>
         <ColumnDef Name="soainfra_composite_assembly_member" Type="String" Key="true"/>
         <ColumnDef Name="soainfra_ComponentReferences" Type="String" Key="true"/>
         <ColumnDef Name="RequestErrors.deltaCount" Type="Integer"/>
         <ColumnDef Name="RequestEvents.deltaCount" Type="Integer"/>
         <ColumnDef Name="Requests.deltaTime" Type="Double"/>
         <ColumnDef Name="Requests.deltaCompleted" Type="Integer"/>
         <ColumnDef Name="PostErrors.deltaCount" Type="Integer"/>
         <ColumnDef Name="PostEvents.deltaCount" Type="Integer"/>
         <ColumnDef Name="Posts.deltaTime" Type="Double"/>
         <ColumnDef Name="Posts.totalTime.previous" Type="Double"/>
         <ColumnDef Name="Posts.totalTime" Type="Double"/>
         <ColumnDef Name="Posts.deltaCompleted" Type="Integer"/>
         <ColumnDef Name="instances.deltaErrorCount" Type="Integer"/>
         <ColumnDef Name="instances.deltaEventCount" Type="Integer"/>
         <ColumnDef Name="instances.deltaAverageTime" Type="Double"/>
         <Select Name="soainfra_component_references_delta_1">
            <TableFrom Name="weblogic_j2eeserver:soainfra_component_references_rollup_no_rate"/>
            <Column Type="String" Name="Name"/>
            <Column Name="ServerName" Type="String"/>
            <Column Name="soainfra_domain" Type="String"/>
            <Column Name="soainfra_composite" Type="String"/>
            <Column Name="soainfra_composite_revision" Type="String"/>
            <Column Name="soainfra_composite_label" Type="String"/>
            <Column Name="soainfra_composite_assembly_member_type" Type="String"/>
            <Column Name="soainfra_composite_assembly_member" Type="String"/>
            <Column Name="soainfra_ComponentReferences" Type="String"/>
<!-- Get the previous values of completed and time.  We will use them to
                determine the number of instances and the amount of time spent
                during the last period.  Note that the time period is 5 minutes
                (300 seconds = 300,000 milliseconds) -->
            <Column Name="RequestErrors.count" Type="Integer"/>
            <Column Name="RequestEvents.count" Type="Integer"/>
            <Column Name="Requests.completed" Type="Integer"/>
            <Column Name="Requests.totalTime" Type="Double"/>
            <Column Name="PostErrors.count" Type="Integer"/>
            <Column Name="PostEvents.count" Type="Integer"/>
            <Column Name="Posts.completed" Type="Integer"/>
            <Column Name="Posts.totalTime" Type="Double"/>
            <Column Name="RequestErrors.count.previous" Type="Integer">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="RequestErrors.count"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Name="RequestEvents.count.previous" Type="Integer">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="RequestEvents.count"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Name="Requests.completed.previous" Type="Integer">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="Requests.completed"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Name="Requests.totalTime.previous" Type="Integer">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="Requests.totalTime"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Name="PostErrors.count.previous" Type="Integer">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="PostErrors.count"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Name="PostEvents.count.previous" Type="Integer">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="PostEvents.count"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Name="Posts.completed.previous" Type="Integer">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="Posts.completed"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
            <Column Name="Posts.totalTime.previous" Type="Integer">
               <Previous Index="0" Interval="300000">
                  <ColumnFrom Name="Posts.totalTime"/>
                  <Default>
                     0
                  </Default>
               </Previous>
            </Column>
         </Select>
         <Select Name="soainfra_component_references_delta_2">
            <TableFrom Name="soainfra_component_references_delta_1"/>
            <Column Type="String" Name="Name"/>
            <Column Name="ServerName" Type="String"/>
            <Column Name="soainfra_domain" Type="String"/>
            <Column Name="soainfra_composite" Type="String"/>
            <Column Name="soainfra_composite_revision" Type="String"/>
            <Column Name="soainfra_composite_label" Type="String"/>
            <Column Name="soainfra_composite_assembly_member_type" Type="String"/>
            <Column Name="soainfra_composite_assembly_member" Type="String"/>
            <Column Name="soainfra_ComponentReferences" Type="String"/>
            <Column Name="RequestErrors.deltaCount" Type="Integer">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="RequestErrors.count.previous"/>
                     <ColumnFrom Name="RequestErrors.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use time -->
                     <ColumnFrom Name="RequestErrors.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="RequestErrors.count"/>
                        <ColumnFrom Name="RequestErrors.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Name="RequestEvents.deltaCount" Type="Integer">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="RequestEvents.count.previous"/>
                     <ColumnFrom Name="RequestEvents.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use time -->
                     <ColumnFrom Name="RequestEvents.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="RequestEvents.count"/>
                        <ColumnFrom Name="RequestEvents.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Name="PostEvents.deltaCount" Type="Integer">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="PostEvents.count.previous"/>
                     <ColumnFrom Name="PostEvents.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use time -->
                     <ColumnFrom Name="PostEvents.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="PostEvents.count"/>
                        <ColumnFrom Name="PostEvents.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Name="PostErrors.deltaCount" Type="Integer">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="PostErrors.count.previous"/>
                     <ColumnFrom Name="PostErrors.count"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use time -->
                     <ColumnFrom Name="PostErrors.count"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="PostErrors.count"/>
                        <ColumnFrom Name="PostErrors.count.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Name="Requests.deltaCompleted" Type="Integer">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="Requests.completed.previous"/>
                     <ColumnFrom Name="Requests.completed"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use time -->
                     <ColumnFrom Name="Requests.completed"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="Requests.completed"/>
                        <ColumnFrom Name="Requests.completed.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Name="Posts.deltaCompleted" Type="Integer">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="Posts.completed.previous"/>
                     <ColumnFrom Name="Posts.completed"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use time -->
                     <ColumnFrom Name="Posts.completed"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="Posts.completed"/>
                        <ColumnFrom Name="Posts.completed.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Name="Requests.deltaTime" Type="Double">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="Requests.totalTime.previous"/>
                     <ColumnFrom Name="Requests.totalTime"/>
                  </Condition>
                  <Then>
                     <!-- Server was restarted, just use time -->
                     <ColumnFrom Name="Requests.totalTime"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="Requests.totalTime"/>
                        <ColumnFrom Name="Requests.totalTime.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
            <Column Name="Posts.deltaTime" Type="Double">
               <If>
                  <Condition Operator="GT">
                     <ColumnFrom Name="Posts.totalTime.previous"/>
                     <ColumnFrom Name="Posts.totalTime"/>
                  </Condition>
                  <Then>
                     <ColumnFrom Name="Posts.totalTime"/>
                  </Then>
                  <Else>
                     <Expression Operator="Minus">
                        <ColumnFrom Name="Posts.totalTime"/>
                        <ColumnFrom Name="Posts.totalTime.previous"/>
                     </Expression>
                  </Else>
               </If>
               <Default>
                  0
               </Default>
            </Column>
         </Select>
         <Select Name="soainfra_component_references_delta_result_3">
            <TableFrom Name="soainfra_component_references_delta_2"/>
            <Column Type="String" Name="Name"/>
            <Column Name="ServerName" Type="String"/>
            <Column Name="soainfra_domain" Type="String"/>
            <Column Name="soainfra_composite" Type="String"/>
            <Column Name="soainfra_composite_revision" Type="String"/>
            <Column Name="soainfra_composite_label" Type="String"/>
            <Column Name="soainfra_composite_assembly_member_type" Type="String"/>
            <Column Name="soainfra_composite_assembly_member" Type="String"/>
            <Column Name="soainfra_ComponentReferences" Type="String"/>
            <Column Name="RequestErrors.deltaCount" Type="Integer"/>
            <Column Name="RequestEvents.deltaCount" Type="Integer"/>
            <Column Name="PostEvents.deltaCount" Type="Integer"/>
            <Column Name="PostErrors.deltaCount" Type="Integer"/>
            <Column Name="Requests.deltaCompleted" Type="Integer"/>
            <Column Name="Posts.deltaCompleted" Type="Integer"/>
            <Column Name="Requests.deltaTime" Type="Double"/>
            <Column Name="Posts.deltaTime" Type="Double"/>
            <Column Name="instances.deltaErrorCount" Type="Integer">
               <If>
                  <Condition Operator="EQ">
                     <ColumnFrom Name="PostErrors.deltaCount"/>
                     <Null/>
                  </Condition>
                  <Then>
                     <ColumnFrom Name="RequestErrors.deltaCount"/>
                  </Then>
                  <Else>
                     <If>
                        <Condition Operator="EQ">
                           <ColumnFrom Name="RequestErrors.deltaCount"/>
                           <Null/>
                        </Condition>
                        <Then>
                           <ColumnFrom Name="PostErrors.deltaCount"/>
                        </Then>
                        <Else>
                           <Expression Operator="Plus">
                              <ColumnFrom Name="PostErrors.deltaCount"/>
                              <ColumnFrom Name="RequestErrors.deltaCount"/>
                           </Expression>
                        </Else>
                     </If>
                  </Else>
               </If>
            </Column>
            <Column Name="instances.deltaEventCount" Type="Integer">
               <If>
                  <Condition Operator="EQ">
                     <ColumnFrom Name="PostEvents.deltaCount"/>
                     <Null/>
                  </Condition>
                  <Then>
                     <ColumnFrom Name="RequestEvents.deltaCount"/>
                  </Then>
                  <Else>
                     <If>
                        <Condition Operator="EQ">
                           <ColumnFrom Name="RequestEvents.deltaCount"/>
                           <Null/>
                        </Condition>
                        <Then>
                           <ColumnFrom Name="PostEvents.deltaCount"/>
                        </Then>
                        <Else>
                           <Expression Operator="Plus">
                              <ColumnFrom Name="PostEvents.deltaCount"/>
                              <ColumnFrom Name="RequestEvents.deltaCount"/>
                           </Expression>
                        </Else>
                     </If>
                  </Else>
               </If>
            </Column>
            <Column Name="instances.deltaTime" Type="Double">
               <If>
                  <Condition Operator="EQ">
                     <ColumnFrom Name="Posts.deltaTime"/>
                     <Null/>
                  </Condition>
                  <Then>
                     <ColumnFrom Name="Requests.deltaTime"/>
                  </Then>
                  <Else>
                     <If>
                        <Condition Operator="EQ">
                           <ColumnFrom Name="Requests.deltaTime"/>
                           <Null/>
                        </Condition>
                        <Then>
                           <ColumnFrom Name="Posts.deltaTime"/>
                        </Then>
                        <Else>
                           <Expression Operator="Plus">
                              <ColumnFrom Name="Posts.deltaTime"/>
                              <ColumnFrom Name="Requests.deltaTime"/>
                           </Expression>
                        </Else>
                     </If>
                  </Else>
               </If>
            </Column>
            <Column Name="instances.deltaCompleted" Type="Integer">
               <If>
                  <Condition Operator="EQ">
                     <ColumnFrom Name="Posts.deltaCompleted"/>
                     <Null/>
                  </Condition>
                  <Then>
                     <ColumnFrom Name="Requests.deltaCompleted"/>
                  </Then>
                  <Else>
                     <If>
                        <Condition Operator="EQ">
                           <ColumnFrom Name="Requests.deltaCompleted"/>
                           <Null/>
                        </Condition>
                        <Then>
                           <ColumnFrom Name="Posts.deltaCompleted"/>
                        </Then>
                        <Else>
                           <Expression Operator="Plus">
                              <ColumnFrom Name="Posts.deltaCompleted"/>
                              <ColumnFrom Name="Requests.deltaCompleted"/>
                           </Expression>
                        </Else>
                     </If>
                  </Else>
               </If>
            </Column>
         </Select>
         <Select Name="soainfra_component_references_delta_result">
            <TableFrom Name="soainfra_component_references_delta_result_3"/>
            <Column Type="String" Name="Name"/>
            <Column Name="ServerName" Type="String"/>
            <Column Name="soainfra_domain" Type="String"/>
            <Column Name="soainfra_composite" Type="String"/>
            <Column Name="soainfra_composite_revision" Type="String"/>
            <Column Name="soainfra_composite_label" Type="String"/>
            <Column Name="soainfra_composite_assembly_member_type" Type="String"/>
            <Column Name="soainfra_composite_assembly_member" Type="String"/>
            <Column Name="soainfra_ComponentReferences" Type="String"/>
            <Column Name="RequestErrors.deltaCount" Type="Integer"/>
            <Column Name="RequestEvents.deltaCount" Type="Integer"/>
            <Column Name="PostEvents.deltaCount" Type="Integer"/>
            <Column Name="PostErrors.deltaCount" Type="Integer"/>
            <Column Name="Requests.deltaCompleted" Type="Integer"/>
            <Column Name="Posts.deltaCompleted" Type="Integer"/>
            <Column Name="Requests.deltaTime" Type="Double"/>
            <Column Name="Posts.deltaTime" Type="Double"/>
            <Column Name="instances.deltaErrorCount" Type="Integer"/>
            <Column Name="instances.deltaEventCount" Type="Integer"/>
            <Column Name="instances.deltaAverageTime" Type="Double">
               <Expression Operator="Div">
                  <ColumnFrom Name="instances.deltaTime"/>
                  <ColumnFrom Name="instances.deltaCompleted"/>
               </Expression>
               <Default>
                  0
               </Default>
            </Column>
            <Where>
               <And>
                  <Condition Type="String" Operator="EQ">
                     <ColumnFrom Name="soainfra_ComponentReferences"/>
                     <Value>
                        REFERENCEs
                     </Value>
                  </Condition>
                  <Or>
                     <Condition Type="String" Operator="EQ">
                        <ColumnFrom Name="soainfra_composite_assembly_member"/>
                        <Value Name="soainfra_composite_assembly_member.parameter"/>
                     </Condition>
                     <Condition Type="String" Operator="EQ">
                        <Value Name="soainfra_composite_assembly_member" xsi:nil="true"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Condition Type="String" Operator="EQ">
                     <ColumnFrom Name="soainfra_composite_assembly_member_type"/>
                     <Value>
                        COMPONENTs
                     </Value>
                  </Condition>
                  <Or>
                     <Condition Type="String" Operator="EQ">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Type="String" Operator="EQ">
                        <Value Name="soainfra_composite_revision" xsi:nil="true"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Type="String" Operator="EQ">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Type="String" Operator="EQ">
                        <Value Name="soainfra_composite.parameter" xsi:nil="true"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Type="String" Operator="EQ">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Type="String" Operator="EQ">
                        <Value Name="soainfra_domain.parameter" xsi:nil="true"/>
                        <Null/>

                     </Condition>
                  </Or>
               </And>
            </Where>
         </Select>
      </Table>
      <Table Name='b2b_trading_partners_rollup_for_inbound'>
        <ColumnDef Type='String' Key='true' Name='soainfra_composite_assembly_member'/>
        <ColumnDef Type='String' Key='true' Name='soainfra_composite_assembly_member_type'/>
        <ColumnDef Type='String' Key='true' Name='soainfra_composite_revision'/>
        <ColumnDef Type='String' Key='true' Name='soainfra_composite'/>
        <ColumnDef Type='String' Key='true' Name='soainfra_domain'/>
        <ColumnDef Type='String' Key='true' Name='Name' />
        <ColumnDef Type='String' Name='ServerName'/>
        <ColumnDef Type='Integer' Name='inboundMessages.count' />
        <ColumnDef Type='Double' Name='inboundMessages.processingTime' />
        <ColumnDef Type='Double' Name='inboundMessages.messageSize' />
        <ColumnDef Type='Integer' Name='inboundMessages.faults' />
        <ColumnDef Type='Integer' Name='totalMessages.count'/>
        <Select Name="b2b_trading_partners_rollup_for_inbound">
          <TableFrom Name="soainfra_service_b2b_tradingPartner"/>
          <Column Name="soainfra_composite_assembly_member" Type="String"/>
          <Column Name="soainfra_composite_assembly_member_type" Type="String"/>
          <Column Name="soainfra_composite_revision" Type="String"/>
          <Column Name="soainfra_composite" Type="String"/>
          <Column Name="soainfra_domain" Type="String"/>
          <Column Name="Name" Type="String">
            <ColumnFrom Name="Name"/>
          </Column>
          <Column Name="ServerName" Type="String">
            <ColumnFrom Name="ServerName"/>
          </Column>
          <Column Name="inboundMessages.faults" Type="Integer">
            <ColumnFrom Name="processMessagesErrors.count"/>
          </Column>
          <Column Name="inboundMessages.count" Type="Integer">
            <ColumnFrom Name="processMessagesEvents.count"/>
          </Column>
          <Column Name="inboundMessages.processingTime" Type="Double">
            <Expression Operator="Div">
              <Expression Operator="Div">
                <ColumnFrom Name="processMessages.time"/>
                <Value Name="milli_to_second">1000</Value>
              </Expression>
              <ColumnFrom Name="processMessages.completed"/>
            </Expression>
            <Default>0</Default>
          </Column>
          <Column Name="inboundMessages.messageSize" Type="Double">
            <Expression Operator="Div">
              <ColumnFrom Name="processMessageSize.value"/>
              <ColumnFrom Name="processMessages.completed"/>
            </Expression>
            <Default>0</Default>
          </Column>
          <Column Name="totalMessages.count" Type="Integer">
            <ColumnFrom Name="processMessagesEvents.count"/>
          </Column>
          <OrderBy Name="totalMessages.count"/> <!-- Sort based on the activity -->
          <RowRetained Name="top5TPs">5</RowRetained> <!-- Only show the first 5 -->
            <Where>
               <And>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_assembly_member_type"/>
                        <Value Name="soainfra_composite_assembly_member_type.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_assembly_member_type.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_assembly_member"/>
                        <Value Name="soainfra_composite_assembly_member.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_assembly_member.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_revision.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_domain.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
        </Select>
      </Table>
      <Table Name='b2b_trading_partners_rollup_for_outbound'>
        <ColumnDef Type='String' Key='true' Name='soainfra_composite_assembly_member'/>
        <ColumnDef Type='String' Key='true' Name='soainfra_composite_assembly_member_type'/>
        <ColumnDef Type='String' Key='true' Name='soainfra_composite_revision'/>
        <ColumnDef Type='String' Key='true' Name='soainfra_composite'/>
        <ColumnDef Type='String' Key='true' Name='soainfra_domain'/>
        <ColumnDef Type='String' Key='true' Name='Name' />
        <ColumnDef Type='String' Name='ServerName'/>
        <ColumnDef Type='Integer' Name='outboundMessages.count' />
        <ColumnDef Type='Double' Name='outboundMessages.processingTime' />
        <ColumnDef Type='Double' Name='outboundMessages.messageSize' />
        <ColumnDef Type='Integer' Name='outboundMessages.faults' />
        <ColumnDef Type='Integer' Name='totalMessages.count'/>
        <Select Name="b2b_trading_partners_rollup_for_outbound">
          <TableFrom Name="soainfra_reference_b2b_tradingPartner"/>
          <Column Name="soainfra_composite_assembly_member" Type="String"/>
          <Column Name="soainfra_composite_assembly_member_type" Type="String"/>
          <Column Name="soainfra_composite_revision" Type="String"/>
          <Column Name="soainfra_composite" Type="String"/>
          <Column Name="soainfra_domain" Type="String"/>
          <Column Name="Name" Type="String">
            <ColumnFrom Name="Name"/>
          </Column>
          <Column Name="ServerName" Type="String">
            <ColumnFrom Name="ServerName"/>
          </Column>
          <Column Name="outboundMessages.faults" Type="Integer">
            <ColumnFrom Name="processMessagesErrors.count"/>
          </Column>
          <Column Name="outboundMessages.count" Type="Integer">
            <ColumnFrom Name="processMessagesEvents.count"/>
          </Column>
          <Column Name="outboundMessages.processingTime" Type="Double">
            <Expression Operator="Div">
              <Expression Operator="Div">
                <ColumnFrom Name="processMessages.time"/>
                <Value Name="milli_to_second">1000</Value>
              </Expression>
              <ColumnFrom Name="processMessages.completed"/>
            </Expression>
            <Default>0</Default>
          </Column>
          <Column Name="outboundMessages.messageSize" Type="Double">
            <Expression Operator="Div">
              <ColumnFrom Name="processMessageSize.value"/>
              <ColumnFrom Name="processMessages.completed"/>
            </Expression>
            <Default>0</Default>
          </Column>
          <Column Name="totalMessages.count" Type="Integer">
            <ColumnFrom Name="processMessagesEvents.count"/>
          </Column>
          <OrderBy Name="totalMessages.count"/> <!-- Sort based on the activity -->
          <RowRetained Name="top5TPs">5</RowRetained> <!-- Only show the first 5 -->
            <Where>
               <And>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_assembly_member_type"/>
                        <Value Name="soainfra_composite_assembly_member_type.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_assembly_member_type.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_assembly_member"/>
                        <Value Name="soainfra_composite_assembly_member.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_assembly_member.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite_revision"/>
                        <Value Name="soainfra_composite_revision.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite_revision.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_composite"/>
                        <Value Name="soainfra_composite.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_composite.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
                  <Or>
                     <Condition Operator="EQ" Type="String">
                        <ColumnFrom Name="soainfra_domain"/>
                        <Value Name="soainfra_domain.parameter"/>
                     </Condition>
                     <Condition Operator="EQ" Type="String">
                        <Value xsi:nil="true" Name="soainfra_domain.parameter"/>
                        <Null/>
                     </Condition>
                  </Or>
               </And>
            </Where>
        </Select>
      </Table>
   </Adml>
