<?xml version="1.0"?>
<!--  $Header: emas/sysman/admin/adml/server-websphere_j2eeserver_webservices-11.0.xml /st_emasgc_11.1as/5 2010/07/02 16:28:16 jiarwu Exp $ -->
<!-- 
 Copyright (c) 2007, 2010, Oracle and/or its affiliates. All rights reserved. 

   NAME
     server-websphere_j2eeserver_webservices-11.0.xml - <one-line expansion of the name>

   DESCRIPTION
     Define ADML tables for web services metrics on WAS

   NOTES
     <other useful comments, qualifications, etc.>

   MODIFIED   (MM/DD/YY)
   jiarwu      06/30/10 - remove empty records in table
   jiarwu      04/20/10 - Fix parsing errors
   jiarwu      04/15/10 - Creation

-->
<Adml xmlns="http://www.oracle.com/iAS/aggregator"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" TableSpace="websphere_j2eeserver">
    
<!-- webservices_policy_fault_no_rate_helper is for including serverName -->
<Table Name="webservices_policy_fault_no_rate_helper">
        <ColumnDef Name="appRuntimeName" Type="String" Key="true"/>
        <ColumnDef Name="webserviceName" Type="String" Key="true"/>
        <ColumnDef Name="portName" Type="String" Key="true"/>
        <ColumnDef Name="policyCategory" Type="String"/>
        <ColumnDef Name="policyName" Type="String" Key="true"/>
        <ColumnDef Name="wsType" Type="String" Key="true"/>
        <ColumnDef Name="authentication_faults" Type="Integer"/>
        <ColumnDef Name="authentication_successes" Type="Integer"/>
        <ColumnDef Name="authorization_faults" Type="Integer"/>
        <ColumnDef Name="authorization_successes" Type="Integer"/>
        <ColumnDef Name="confidentiality_faults" Type="Integer"/>
        <ColumnDef Name="confidentiality_successes" Type="Integer"/>
        <ColumnDef Name="integrity_faults" Type="Integer"/>
        <ColumnDef Name="integrity_successes" Type="Integer"/>
        <ColumnDef Name="total_policy_faults" Type="Integer"/>
        <Select Name="webservices_policy_fault_no_rate_result_0">
            <TableFrom Name="interceptor_policy_version"/>
            <Column Name="appRuntimeName" Type="String">
                <ColumnFrom Name="wls_ear"/>
            </Column>
            <Column Name="webserviceName" Type="String">
                <ColumnFrom Name="wls_webservice"/>
            </Column>
            <Column Name="portName" Type="String">
                <ColumnFrom Name="wls_webservice_port"/>
            </Column>
            <Column Name="policyCategory" Type="String">
                <ColumnFrom Name="interceptor"/>
            </Column>
            <Column Name="policyName" Type="String">
                <ColumnFrom Name="interceptor_policy"/>
            </Column>
            <Column Name="wsType" Type="String">
                <ColumnFrom Name="wls_webservices"/>
            </Column>

            <Column Name="AuthenticationFailures.count" Type="Integer">
                <ColumnFrom Name="AuthenticationFailures.count"/>
            </Column>
            <Column Name="AuthorizationFailures.count" Type="Integer">
                <ColumnFrom Name="AuthorizationFailures.count"/>
            </Column>
            <Column Name="ConfidentialityFailures.count" Type="Integer">
                <ColumnFrom Name="ConfidentialityFailures.count"/>
            </Column>
            <Column Name="IntegrityFailures.count" Type="Integer">
                <ColumnFrom Name="IntegrityFailures.count"/>
            </Column>
            <Column Name="TotalViolations.count" Type="Integer">
                <ColumnFrom Name="TotalViolations.count"/>
            </Column>
            <Column Name="AuthenticationSuccesses.count" Type="Integer">
                <ColumnFrom Name="AuthenticationSuccesses.count"/>
            </Column>
            <Column Name="AuthorizationSuccesses.count" Type="Integer">
                <ColumnFrom Name="AuthorizationSuccesses.count"/>
            </Column>
            <Column Name="ConfidentialitySuccesses.count" Type="Integer">
                <ColumnFrom Name="ConfidentialitySuccesses.count"/>
            </Column>
            <Column Name="IntegritySuccesses.count" Type="Integer">
                <ColumnFrom Name="IntegritySuccesses.count"/>
            </Column>
            <Where>
                <Condition Type="String" Operator="EQ">
                    <ColumnFrom Name="wls_webservices"/>
                    <Value>WEBSERVICEs</Value>
                </Condition>
            </Where>
        </Select>
        <Select Name="webservices_policy_fault_no_rate_result_1">
            <TableFrom Name="webservices_policy_fault_no_rate_result_0"/>
            <Column Name="appRuntimeName" Type="String"/>
            <Column Name="webserviceName" Type="String"/>
            <Column Name="portName" Type="String"/>
            <Column Name="policyCategory" Type="String"/>
            <Column Name="policyName" Type="String"/>
            <Column Name="wsType" Type="String"/>

            <Column Name="authentication_faults" Type="Integer">
                <Aggregation Name="AuthenticationFailures.count" Operator="Sum"/>
                <Default>0</Default>    
            </Column>
            <Column Name="authorization_faults" Type="Integer">
                <Aggregation Name="AuthorizationFailures.count" Operator="Sum"/>
                <Default>0</Default>            
            </Column>
            <Column Name="confidentiality_faults" Type="Integer">
                <Aggregation Name="ConfidentialityFailures.count" Operator="Sum"/>
                <Default>0</Default>
            </Column>
            <Column Name="integrity_faults" Type="Integer">
                <Aggregation Name="IntegrityFailures.count" Operator="Sum"/>
                <Default>0</Default>
            </Column>
            <Column Name="total_policy_faults" Type="Integer">
                <Aggregation Name="TotalViolations.count" Operator="Sum"/>
                <Default>0</Default>    
            </Column>

            <Column Name="authentication_successes" Type="Integer">
                <Aggregation Name="AuthenticationSuccesses.count" Operator="Sum"/>
                <Default>0</Default>
            </Column>
            <Column Name="authorization_successes" Type="Integer">
                <Aggregation Name="AuthorizationSuccesses.count" Operator="Sum"/>
                <Default>0</Default>
            </Column>
            <Column Name="confidentiality_successes" Type="Integer">
                <Aggregation Name="ConfidentialitySuccesses.count" Operator="Sum"/>
                <Default>0</Default>
            </Column>
            <Column Name="integrity_successes" Type="Integer">
                <Aggregation Operator="Sum" Name="IntegritySuccesses.count"/>
                <Default>0</Default>
            </Column>

            <GroupBy Name="appRuntimeName"/>
            <GroupBy Name="webserviceName"/>
            <GroupBy Name="portName"/>
            <GroupBy Name="policyName"/>
            <GroupBy Name="policyCategory"/>
            <GroupBy Name="wsType"/>
        </Select> 
    </Table>


    <!-- webservices_policy_fault_no_rate -->
    <Table Name="webservices_policy_fault_no_rate">
        <ColumnDef Name="serverName" Type="String" Key="true"/>
        <ColumnDef Name="appName" Type="String" Key="true"/>
        <ColumnDef Name="webserviceName" Type="String" Key="true"/>
        <ColumnDef Name="portName" Type="String" Key="true"/>
        <ColumnDef Name="policyCategory" Type="String"/>
        <ColumnDef Name="policyName" Type="String" Key="true"/>
        <ColumnDef Name="wsType" Type="String" Key="true"/>
        <ColumnDef Name="authentication_faults" Type="Integer"/>
        <ColumnDef Name="authentication_successes" Type="Integer"/>
        <ColumnDef Name="authorization_faults" Type="Integer"/>
        <ColumnDef Name="authorization_successes" Type="Integer"/>
        <ColumnDef Name="confidentiality_faults" Type="Integer"/>
        <ColumnDef Name="confidentiality_successes" Type="Integer"/>
        <ColumnDef Name="integrity_faults" Type="Integer"/>
        <ColumnDef Name="integrity_successes" Type="Integer"/>
        <ColumnDef Name="total_policy_faults" Type="Integer"/>
        <Select Name="webservices_policy_fault_no_rate_result_1">
            <TableFrom Name="J2EEApplication"/>
            <TableFrom Name="websphere_j2eeserver:webservices_policy_fault_no_rate_helper"/>
            <Column Name="appRuntimeName" Type="String">
                <ColumnFrom Name="appRuntimeName"
                            Table="websphere_j2eeserver:webservices_policy_fault_no_rate_helper"/>
            </Column>
            <Column Name="webserviceName" Type="String">
                <ColumnFrom Name="webserviceName"
                            Table="websphere_j2eeserver:webservices_policy_fault_no_rate_helper"/>
            </Column>
            <Column Name="portName" Type="String">
                <ColumnFrom Name="portName"
                            Table="websphere_j2eeserver:webservices_policy_fault_no_rate_helper"/>
            </Column>
            <Column Name="policyCategory" Type="String">
                <ColumnFrom Name="policyCategory"
                            Table="websphere_j2eeserver:webservices_policy_fault_no_rate_helper"/>
            </Column>
            <Column Name="policyName" Type="String">
                <ColumnFrom Name="policyName"
                            Table="websphere_j2eeserver:webservices_policy_fault_no_rate_helper"/>
            </Column>
            <Column Name="wsType" Type="String">
                <ColumnFrom Name="wsType"
                            Table="websphere_j2eeserver:webservices_policy_fault_no_rate_helper"/>
            </Column>
            <Column Name="authentication_faults" Type="Integer">
                <ColumnFrom Name="authentication_faults"
                            Table="websphere_j2eeserver:webservices_policy_fault_no_rate_helper"/>
            </Column>
            <Column Name="authorization_faults" Type="Integer">
                <ColumnFrom Name="authorization_faults"
                            Table="websphere_j2eeserver:webservices_policy_fault_no_rate_helper"/>
            </Column>
            <Column Name="confidentiality_faults" Type="Integer">
                <ColumnFrom Name="confidentiality_faults"
                            Table="websphere_j2eeserver:webservices_policy_fault_no_rate_helper"/>
            </Column>
            <Column Name="integrity_faults" Type="Integer">
                <ColumnFrom Name="integrity_faults"
                            Table="websphere_j2eeserver:webservices_policy_fault_no_rate_helper"/>
            </Column>
            <Column Name="total_policy_faults" Type="Integer">
                <ColumnFrom Name="total_policy_faults"
                            Table="websphere_j2eeserver:webservices_policy_fault_no_rate_helper"/>
            </Column>
            <Column Name="authentication_successes" Type="Integer">
                <ColumnFrom Name="authentication_successes"
                            Table="websphere_j2eeserver:webservices_policy_fault_no_rate_helper"/>
            </Column>
            <Column Name="authorization_successes" Type="Integer">
                <ColumnFrom Name="authorization_successes"
                            Table="websphere_j2eeserver:webservices_policy_fault_no_rate_helper"/>
            </Column>
            <Column Name="confidentiality_successes" Type="Integer">
                <ColumnFrom Name="confidentiality_successes"
                            Table="websphere_j2eeserver:webservices_policy_fault_no_rate_helper"/>
            </Column>
            <Column Name="integrity_successes" Type="Integer">
                <ColumnFrom Name="integrity_successes"
                            Table="websphere_j2eeserver:webservices_policy_fault_no_rate_helper"/>
            </Column>
            <Column Name="appName" Type="String">
              <ColumnFrom Name="name"
                          Table="J2EEApplication"/>
            </Column>
            <Column Name="serverName" Type="String">
                <ColumnFrom Name="ServerName"
                            Table="J2EEApplication"/>
            </Column>

           <Where>
              <And>
              <Condition Operator="EQ" Type="String">
                <ColumnFrom Name="appRuntimeName"
                            Table="websphere_j2eeserver:webservices_policy_fault_no_rate_helper"/>
                <ColumnFrom Name="J2EEName"
                            Table="J2EEApplication"/>
              </Condition>
              <Condition Operator="EQ" Type="String">
                <ColumnFrom Name="ServerName"
                            Table="websphere_j2eeserver:webservices_policy_fault_no_rate_helper"/>
                <ColumnFrom Name="ServerName"
                            Table="J2EEApplication"/>
              </Condition>
              </And>
            </Where>
        </Select>
        <Select Name="webservices_policy_fault_no_rate_result_2">
            <TableFrom Name="webservices_policy_fault_no_rate_result_1"/>
            <Where>
                <And>
                  <Or>
                  <Condition Type="String" Operator="EQ">
                   <ColumnFrom Name="portName"/>
                   <Value Name="portName.parameter"/>
                  </Condition>
                  <Condition Type="String" Operator="EQ">
                   <Value Name="portName.parameter"
                          xsi:nil="true"/>
                   <Null/>
                  </Condition>
                 </Or>
                  <Or>
                  <Condition Type="String" Operator="EQ">
                   <ColumnFrom Name="webserviceName"/>
                   <Value Name="webserviceName.parameter"/>
                  </Condition>
                  <Condition Type="String" Operator="EQ">
                   <Value Name="webserviceName.parameter"
                          xsi:nil="true"/>
                   <Null/>
                  </Condition>
                 </Or>
                 <Or>
                  <Condition Type="String" Operator="EQ">
                   <ColumnFrom Name="appName"/>
                   <Value Name="appName.parameter"/>
                  </Condition>
                  <Condition Type="String" Operator="EQ">
                   <Value Name="appName.parameter"
                          xsi:nil="true"/>
                   <Null/>
                  </Condition>
                 </Or>
                 <Or>
                  <Condition Type="String" Operator="EQ">
                   <ColumnFrom Name="serverName"/>
                   <Value Name="serverName.parameter"/>
                  </Condition>
                  <Condition Type="String" Operator="EQ">
                   <Value Name="serverName.parameter"
                          xsi:nil="true"/>
                   <Null/>
                  </Condition>
                 </Or>
                </And>
           </Where>
        </Select>
    </Table><!-- webservices_policy_fault_no_rate -->


    <!-- port metric -->
    <Table Name="webservices_port_rollup_no_rate">
        <ColumnDef Name="portName" Type="String" Key="true"/>
        <ColumnDef Name="webserviceName" Type="String" Key="true"/>
        <ColumnDef Name="appName" Type="String" Key="true"/>
        <ColumnDef Name="ServerName" Type="String" Key="false"/>
        <ColumnDef Name="serverName" Type="String" Key="true"/>
        <ColumnDef Name="startTime" Type="Long"/>
        <ColumnDef Name="Requests" Type="Integer"/>
        <ColumnDef Name="Requests.averageTime" Type="Double"/>
        <ColumnDef Name="Requests.totalTime" Type="Double"/>
        <ColumnDef Name="Faults" Type="Integer"/>
        <ColumnDef Name="processRequest.active" Type="Integer"/>

        <Select Name="wls_webservices_rollup_no_rate_result">
            <TableFrom Name="wls_webservice_port"/>
            <TableFrom Name="J2EEApplication"/>
            <Column Name="portName" Type="String">
                <ColumnFrom Name="Name" Table="wls_webservice_port"/>
            </Column>
            <Column Name="webserviceName" Type="String">
                <ColumnFrom Name="wls_webservice" Table="wls_webservice_port"/>
            </Column>
            <Column Name="appName" Type="String">
              <ColumnFrom Name="name" 
                          Table="J2EEApplication"/>
            </Column>
            <Column Name="ServerName" Type="String">
                <ColumnFrom Name="ServerName" Table="wls_webservice_port"/>
            </Column>
            <Column Name="serverName" Type="String">
                <ColumnFrom Name="ServerName" Table="J2EEApplication"/>
            </Column>
            <Column Name="startTime" Type="Long">
                <ColumnFrom Name="StartTime.value" Table="wls_webservice_port"/>
            </Column>
            <Column Name="Requests" Type="Integer">
                <ColumnFrom Name="DESERIALIZEs.completed" Table="wls_webservice_port"/>
            </Column>
            <Column Name="Requests.totalTime" Type="Double">
                <Expression Operator="Div">
                   <ColumnFrom Name="POSTs.time" Table="wls_webservice_port"/>
                   <Value>1000</Value>
                </Expression>
            </Column>

            <Column Name="Requests.averageTime" Type="Double">
                <Expression Operator="Div">
                    <ColumnFrom Name="Requests.totalTime"/>
                    <ColumnFrom Name="POSTs.completed" Table="wls_webservice_port"/>
                </Expression>
                <Default>0</Default>
            </Column>
            <Column Name="Faults" Type="Integer">
                <ColumnFrom Name="TotalFault.count" Table="wls_webservice_port"/>
            </Column>
            <Column Name="processRequest.active" Type="Integer">
                <ColumnFrom Name="POSTs.active" Table="wls_webservice_port"/>
            </Column>

           <Where>
              <And> 
              <Condition Operator="EQ" Type="String">
                <ColumnFrom Name="wls_ear" Table="wls_webservice_port"/>
                <ColumnFrom Name="J2EEName" Table="J2EEApplication"/>
              </Condition>
			  <Condition Operator="EQ" Type="String">
                <ColumnFrom Name="wls_webservices" Table="wls_webservice_port"/>
                <Value>WEBSERVICEs</Value>
              </Condition>
              </And> 	
            </Where>
        </Select>
        <!--<Select Name="wls_webservices_rollup_no_rate_result_2">
            <TableFrom Name="wls_webservices_rollup_no_rate_result"/>
            <Where>
                <And>
                  <Or>
                  <Condition Type="String" Operator="EQ">
                   <ColumnFrom Name="portName"/>
                   <Value Name="portName.parameter"/>
                  </Condition>
                  <Condition Type="String" Operator="EQ">
                   <Value Name="portName.parameter"
                          xsi:nil="true"/>
                   <Null/>
                  </Condition>
                 </Or>
                  <Or>
                  <Condition Type="String" Operator="EQ">
                   <ColumnFrom Name="webserviceName"/>
                   <Value Name="webserviceName.parameter"/>
                  </Condition>
                  <Condition Type="String" Operator="EQ">
                   <Value Name="webserviceName.parameter"
                          xsi:nil="true"/>
                   <Null/>
                  </Condition>
                 </Or>
                 <Or>
                  <Condition Type="String" Operator="EQ">
                   <ColumnFrom Name="appName"/>
                   <Value Name="appName.parameter"/>
                  </Condition>
                  <Condition Type="String" Operator="EQ">
                   <Value Name="appName.parameter"
                          xsi:nil="true"/>
                   <Null/>
                  </Condition>
                 </Or>
                 <Or>
                  <Condition Type="String" Operator="EQ">
                   <ColumnFrom Name="serverName"/>
                   <Value Name="serverName.parameter"/>
                  </Condition>
                  <Condition Type="String" Operator="EQ">
                   <Value Name="serverName.parameter"
                          xsi:nil="true"/>
                   <Null/>
                  </Condition>
                 </Or>
                </And>
           </Where>
        </Select> -->
    </Table>

    <!-- port metric -->
    <Table Name="webservices_port_rollup">
        <ColumnDef Name="portName" Type="String" Key="true"/>
        <ColumnDef Name="webserviceName" Type="String" Key="true"/>
        <ColumnDef Name="appName" Type="String" Key="true"/>
        <ColumnDef Name="ServerName" Type="String" Key="true"/>
        <ColumnDef Name="startTime" Type="Long"/>
        <ColumnDef Name="Requests" Type="Integer"/>
        <ColumnDef Name="Requests.averageTime" Type="Double"/>
        <ColumnDef Name="Requests.totalTime" Type="Double"/>
        <ColumnDef Name="Faults" Type="Integer"/>
        <ColumnDef Name="processRequest.active" Type="Integer"/>
        <ColumnDef Name="service.time" Type="Double"/>
        <ColumnDef Name="service.throughput" Type="Double"/>
        <Select Name="webservices_port_rollup_result">
            <TableFrom Name="websphere_j2eeserver:webservices_port_rollup_no_rate"/>
            <Column Name="portName" Type="String"/>
            <Column Name="webserviceName" Type="String"/>
            <Column Name="appName" Type="String"/>
            <Column Name="ServerName" Type="String"/>
            <Column Name="startTime" Type="Long"/>
            <Column Name="Requests" Type="Integer"/>
            <Column Name="Requests.averageTime" Type="Double"/>
            <Column Name="Requests.totalTime" Type="Double"/>
            <Column Name="Faults" Type="Integer"/>
            <Column Name="processRequest.active" Type="Integer"/>
            <Column Name="service.throughput" Type="Double">
                <Rate Interval="300000">
                    <ColumnFrom Name="Requests"/>
                    <Default>0</Default>
                </Rate>
            </Column>
            <Column Name="service.time" Type="Double">
                <Rate Interval="300000">
                    <ColumnFrom Name="Requests.totalTime"/>
                    <ColumnFrom Name="Requests"/>
                    <Default>0</Default>
                </Rate>
            </Column>
        </Select>
        <Select Name="webservices_port_rollup_result_2">
            <TableFrom Name="webservices_port_rollup_result"/>
            <Where>
                <And>
                  <Or>
                  <Condition Type="String" Operator="EQ">
                   <ColumnFrom Name="portName"/>
                   <Value Name="portName.parameter"/>
                  </Condition>
                  <Condition Type="String" Operator="EQ">
                   <Value Name="portName.parameter"
                          xsi:nil="true"/>
                   <Null/>
                  </Condition>
                 </Or>
                  <Or>
                  <Condition Type="String" Operator="EQ">
                   <ColumnFrom Name="webserviceName"/>
                   <Value Name="webserviceName.parameter"/>
                  </Condition>
                  <Condition Type="String" Operator="EQ">
                   <Value Name="webserviceName.parameter"
                          xsi:nil="true"/>
                   <Null/>
                  </Condition>
                 </Or>
                 <Or>
                  <Condition Type="String" Operator="EQ">
                   <ColumnFrom Name="appName"/>
                   <Value Name="appName.parameter"/>
                  </Condition>
                  <Condition Type="String" Operator="EQ">
                   <Value Name="appName.parameter"
                          xsi:nil="true"/>
                   <Null/>
                  </Condition>
                 </Or>
                 <Or>
                  <Condition Type="String" Operator="EQ">
                   <ColumnFrom Name="serverName"/>
                   <Value Name="serverName.parameter"/>
                  </Condition>
                  <Condition Type="String" Operator="EQ">
                   <Value Name="serverName.parameter"
                          xsi:nil="true"/>
                   <Null/>
                  </Condition>
                 </Or>
                </And>
           </Where>
        </Select>
    </Table> 
    

    <!-- operation metric -->
    <Table Name="webservices_operation_no_rate">
        <ColumnDef Name="operationName" Type="String" Key="true"/>
        <ColumnDef Name="portName" Type="String" Key="true"/>
        <ColumnDef Name="webserviceName" Type="String" Key="true"/>
        <ColumnDef Name="appName" Type="String" Key="true"/>
        <ColumnDef Name="ServerName" Type="String" Key="false"/>
        <ColumnDef Name="serverName" Type="String" Key="true"/>
        <ColumnDef Name="Invoke.completed" Type="Integer"/>
        <ColumnDef Name="Invoke.active" Type="Integer"/>
        <ColumnDef Name="Invoke.time" Type="Double"/>
        <ColumnDef Name="RequestSize.count" Type="Double"/>
        <ColumnDef Name="RequestSize.value" Type="Double"/>
        <ColumnDef Name="ResponseSize.count" Type="Double"/>
        <ColumnDef Name="ResponseSize.value" Type="Double"/>
        <ColumnDef Name="Faults" Type="Integer"/>
        <Select Name="webservices_operation_no_rate_result">
            <TableFrom Name="wls_webservice_operation"/>
            <TableFrom Name="J2EEApplication"/>
            <Column Name="operationName" Type="String">
                <ColumnFrom Name="Name" Table="wls_webservice_operation"/>
            </Column>
            <Column Name="portName" Type="String">
                <ColumnFrom Name="wls_webservice_port" Table="wls_webservice_operation"/>
            </Column>
            <Column Name="webserviceName" Type="String">
                <ColumnFrom Name="wls_webservice" Table="wls_webservice_operation"/>
            </Column>
            <Column Name="appName" Type="String">
              <ColumnFrom Name="name" 
                          Table="J2EEApplication"/>
            </Column>
            <Column Name="ServerName" Type="String">
                <ColumnFrom Name="ServerName" Table="wls_webservice_operation"/>
            </Column>
            <Column Name="serverName" Type="String">
                <ColumnFrom Name="ServerName" Table="J2EEApplication"/>
            </Column>
            <Column Name="Invoke.completed" Type="Integer">
                <ColumnFrom Name="Invoke.completed" Table="wls_webservice_operation"/>
            </Column>
            <Column Name="Invoke.active" Type="Integer">
                <ColumnFrom Name="Invoke.active" Table="wls_webservice_operation"/>
            </Column>
            <!-- <Column Name="Invoke.time" Type="Double">
                <Expression Operator="Div">
                    <ColumnFrom Name="Invoke.time" Table="wls_webservice_operation"/>
                    <Value>1000</Value>
                </Expression>
                <Default>0</Default>
            </Column> -->
            <Column Name="Invoke.time" Type="Double">
                    <ColumnFrom Name="Invoke.time" Table="wls_webservice_operation"/>
            </Column>  
            <Column Name="RequestSize.count" Type="Integer">
                <ColumnFrom Name="RequestSize.count" Table="wls_webservice_operation"/>
            </Column>
             <Column Name="RequestSize.value" Type="Double">
               <ColumnFrom Name="RequestSize.value" Table="wls_webservice_operation"/>
            </Column>
            <Column Name="ResponseSize.count" Type="Integer">
                <ColumnFrom Name="ResponseSize.count" Table="wls_webservice_operation"/>
            </Column>
            <Column Name="ResponseSize.value" Type="Double">
                <ColumnFrom Name="ResponseSize.value" Table="wls_webservice_operation"/>
            </Column>
            <Column Name="Faults" Type="Integer">
                <ColumnFrom Name="FaultCount.count" Table="wls_webservice_operation"/>
            </Column>

           <Where>
              <Condition Operator="EQ" Type="String">
                <ColumnFrom Name="wls_ear" Table="wls_webservice_operation"/>
                <ColumnFrom Name="J2EEName"
                            Table="J2EEApplication"/>
              </Condition>
            </Where>
         </Select>
    </Table>


<Table Name="webservices_operation_rollup_no_rate">
        <ColumnDef Name="portName" Type="String" Key="true"/>
        <ColumnDef Name="webserviceName" Type="String" Key="true"/>
        <ColumnDef Name="appName" Type="String" Key="true"/>
        <ColumnDef Name="ServerName" Type="String" Key="false"/>
        <ColumnDef Name="serverName" Type="String" Key="true"/>
        <ColumnDef Name="Invoke.completed" Type="Double"/>
        <ColumnDef Name="Invoke.active" Type="Double"/>
        <ColumnDef Name="Invoke.time" Type="Double"/>
        <ColumnDef Name="RequestSize.count" Type="Double"/>
        <ColumnDef Name="ResponseSize.count" Type="Double"/>
        <ColumnDef Name="Faults" Type="Double"/>
        <Select Name="webservices_operation_rollup_no_rate_result">
            <TableFrom Name="websphere_j2eeserver:webservices_operation_no_rate"/>
            <Column Name="portName" Type="String"/>
            <Column Name="webserviceName" Type="String"/>
            <Column Name="appName" Type="String"/>
            <Column Name="ServerName" Type="String"/>
            <Column Name="serverName" Type="String"/>

            <Column Name="Invoke.completed" Type="Double">
                <Aggregation Operator="Sum" Name="Invoke.completed"/>
                <Default>0</Default>
            </Column>
            <Column Name="Invoke.active" Type="Double">
                <Aggregation Operator="Sum" Name="Invoke.active"/>
                <Default>0</Default>
            </Column>
            <Column Name="Invoke.time" Type="Double">
                <Aggregation Operator="Sum" Name="Invoke.time"/>
                <Default>0</Default>
            </Column>
            <Column Name="RequestSize.count" Type="Double">
                <Aggregation Operator="Sum" Name="RequestSize.count"/>
                <Default>0</Default>
            </Column>
            <Column Name="ResponseSize.count" Type="Double">
                <Aggregation Operator="Sum" Name="ResponseSize.count"/>
                <Default>0</Default>
            </Column>
            <Column Name="Faults" Type="Double">
                <Aggregation Operator="Sum" Name="Faults"/>
                <Default>0</Default>
            </Column>

            <GroupBy Name="portName"/>
            <GroupBy Name="webserviceName"/>
            <GroupBy Name="appName"/>
            <GroupBy Name="serverName"/>
            <GroupBy Name="ServerName"/>
         </Select>
         <Select Name="webservices_operation_rollup_no_rate_result_1">
            <TableFrom Name="webservices_operation_rollup_no_rate_result"/>
             <Where>
              <Condition Operator="NE" Type="String">
                <ColumnFrom Name="appName"/>
                <Null/>
              </Condition>
             </Where>
           <!-- <Where>
                <And>
                  <Or>
                  <Condition Type="String" Operator="EQ">
                   <ColumnFrom Name="portName"/>
                   <Value Name="portName.parameter"/>
                  </Condition>
                  <Condition Type="String" Operator="EQ">
                   <Value Name="portName.parameter"
                          xsi:nil="true"/>
                   <Null/>
                  </Condition>
                 </Or>
                  <Or>
                  <Condition Type="String" Operator="EQ">
                   <ColumnFrom Name="webserviceName"/>
                   <Value Name="webserviceName.parameter"/>
                  </Condition>
                  <Condition Type="String" Operator="EQ">
                   <Value Name="webserviceName.parameter"
                          xsi:nil="true"/>
                   <Null/>
                  </Condition>
                 </Or>
                 <Or>
                  <Condition Type="String" Operator="EQ">
                   <ColumnFrom Name="appName"/>
                   <Value Name="appName.parameter"/>
                  </Condition>
                  <Condition Type="String" Operator="EQ">
                   <Value Name="appName.parameter"
                          xsi:nil="true"/>
                   <Null/>
                  </Condition>
                 </Or>
                 <Or>
                  <Condition Type="String" Operator="EQ">
                   <ColumnFrom Name="serverName"/>
                   <Value Name="serverName.parameter"/>
                  </Condition>
                  <Condition Type="String" Operator="EQ">
                   <Value Name="serverName.parameter"
                          xsi:nil="true"/>
                   <Null/>
                  </Condition>
                 </Or>
                </And>
           </Where> -->
        </Select>
   </Table>

    <Table Name="webservices_operation_rate">
        <ColumnDef Name="operationName" Type="String" Key="true"/>
        <ColumnDef Name="portName" Type="String" Key="true"/>
        <ColumnDef Name="webserviceName" Type="String" Key="true"/>
        <ColumnDef Name="appName" Type="String" Key="true"/>
        <ColumnDef Name="ServerName" Type="String" Key="false"/>
        <ColumnDef Name="serverName" Type="String" Key="true"/>
        <ColumnDef Name="Invoke.throughput" Type="Double"/>    
        <ColumnDef Name="Invoke.completed" Type="Integer"/>
        <ColumnDef Name="Invoke.active" Type="Integer"/>
        <ColumnDef Name="Invoke.time.avg" Type="Double"/>
        <ColumnDef Name="Invoke.time" Type="Double"/>
        <ColumnDef Name="RequestSize.count" Type="Integer"/>
        <ColumnDef Name="RequestSize.value" Type="Double"/>
        <ColumnDef Name="ResponseSize.count" Type="Double"/>
        <ColumnDef Name="ResponseSize.value" Type="Double"/>
        <ColumnDef Name="Faults" Type="Integer"/>
        <ColumnDef Name="Faults.rate" Type="Double"/>
        <Select Name="webservices_operation_rate_result">
           <TableFrom Name="websphere_j2eeserver:webservices_operation_no_rate"/>
            <Column Name="operationName" Type="String"/>
            <Column Name="portName" Type="String"/>
            <Column Name="webserviceName" Type="String"/>
            <Column Name="appName" Type="String"/>
            <Column Name="ServerName" Type="String"/>
            <Column Name="serverName" Type="String"/>
            <Column Name="Invoke.active" Type="Integer"/>
            <Column Name="Invoke.completed" Type="Integer"/>
            <Column Name="Invoke.time" Type="Double"/>
            <Column Name="Faults" Type="Integer"/>
            <Column Name="RequestSize.count" Type="Integer"/>
            <Column Name="ResponseSize.count" Type="Double"/>
            <Column Name="RequestSize.value" Type="Double"/>
            <Column Name="ResponseSize.value" Type="Double"/>
            <Column Name="Invoke.throughput" Type="Double">
              <Expression Operator="Mult">
                <Rate Interval="300000">
                    <ColumnFrom Name="Invoke.completed"/>
                    <Default>0</Default>
                </Rate>
                <Value>60.0</Value> 
              </Expression>  
            </Column> 
            <Column Name="Invoke.time.avg" Type="Double">
              <Rate Interval="300000">
                 <ColumnFrom Name="Invoke.time"/>
                 <ColumnFrom Name="Invoke.completed"/>
                 <Default>0</Default>
              </Rate>
            </Column>
             <Column Name="Faults.rate" Type="Double">
              <Rate Interval="300000">
                 <ColumnFrom Name="Faults"/>
                 <ColumnFrom Name="RequestSize.count"/>
                 <Default>0</Default>
              </Rate>
            </Column>  
       </Select>
       <Select Name="webservices_operation_rate_result_1">
            <TableFrom Name="webservices_operation_rate_result"/>
            <Where>
                <And>
                  <Or>
                  <Condition Type="String" Operator="EQ">
                   <ColumnFrom Name="operationName"/>
                   <Value Name="operation.parameter"/>
                  </Condition>
                  <Condition Type="String" Operator="EQ">
                   <Value Name="operation.parameter"
                          xsi:nil="true"/>
                   <Null/>
                  </Condition>
                  </Or>
                  <Or>
                  <Condition Type="String" Operator="EQ">
                   <ColumnFrom Name="portName"/>
                   <Value Name="portName.parameter"/>
                  </Condition>
                  <Condition Type="String" Operator="EQ">
                   <Value Name="portName.parameter"
                          xsi:nil="true"/>
                   <Null/>
                  </Condition>
                 </Or>
                  <Or>
                  <Condition Type="String" Operator="EQ">
                   <ColumnFrom Name="webserviceName"/>
                   <Value Name="webserviceName.parameter"/>
                  </Condition>
                  <Condition Type="String" Operator="EQ">
                   <Value Name="webserviceName.parameter"
                          xsi:nil="true"/>
                   <Null/>
                  </Condition>
                 </Or>
                 <Or>
                  <Condition Type="String" Operator="EQ">
                   <ColumnFrom Name="appName"/>
                   <Value Name="appName.parameter"/>
                  </Condition>
                  <Condition Type="String" Operator="EQ">
                   <Value Name="appName.parameter"
                          xsi:nil="true"/>
                   <Null/>
                  </Condition>
                 </Or>
                 <Or>
                  <Condition Type="String" Operator="EQ">
                   <ColumnFrom Name="serverName"/>
                   <Value Name="serverName.parameter"/>
                  </Condition>
                  <Condition Type="String" Operator="EQ">
                   <Value Name="serverName.parameter"
                          xsi:nil="true"/>
                   <Null/>
                  </Condition>
                 </Or>
                </And>
           </Where>
        </Select>
    </Table>


    <Table Name="webservices_operation_rollup_rate">
        <ColumnDef Name="portName" Type="String" Key="true"/>
        <ColumnDef Name="webserviceName" Type="String" Key="true"/>
        <ColumnDef Name="appName" Type="String" Key="true"/>
        <ColumnDef Name="ServerName" Type="String" Key="false"/>
        <ColumnDef Name="serverName" Type="String" Key="true"/>
        <ColumnDef Name="Invoke.throughput" Type="Double"/>    
        <ColumnDef Name="Invoke.completed" Type="Double"/>
        <ColumnDef Name="Invoke.active" Type="Double"/>
        <ColumnDef Name="Invoke.time.avg" Type="Double"/>
        <ColumnDef Name="Invoke.time" Type="Double"/>
        <ColumnDef Name="RequestSize.count" Type="Double"/>
        <ColumnDef Name="ResponseSize.count" Type="Double"/>
        <ColumnDef Name="Faults" Type="Double"/>
        <ColumnDef Name="Faults.rate" Type="Double"/>
        <Select Name="webservices_operation_rollup_rate_result">
           <TableFrom Name="websphere_j2eeserver:webservices_operation_rollup_no_rate"/>
            <Column Name="portName" Type="String"/>
            <Column Name="webserviceName" Type="String"/>
            <Column Name="appName" Type="String"/>
            <Column Name="ServerName" Type="String"/>
            <Column Name="serverName" Type="String"/>
            <Column Name="Invoke.active" Type="Double"/>
            <Column Name="Invoke.completed" Type="Double"/>
            <Column Name="Invoke.time" Type="Double"/>
            <Column Name="Faults" Type="Double"/>
            <Column Name="RequestSize.count" Type="Double"/>
            <Column Name="ResponseSize.count" Type="Double"/>
            <Column Name="Invoke.throughput" Type="Double">
              <Expression Operator="Mult">
                <Rate Interval="300000">
                    <ColumnFrom Name="Invoke.completed"/>
                    <Default>0</Default>
                </Rate>
                <Value>60.0</Value> 
              </Expression>  
            </Column> 
            <Column Name="Invoke.time.avg" Type="Double">
              <Rate Interval="300000">
                 <ColumnFrom Name="Invoke.time"/>
                 <ColumnFrom Name="Invoke.completed"/>
                 <Default>0</Default>
              </Rate>
            </Column>
             <Column Name="Faults.rate" Type="Double">
              <Rate Interval="300000">
                 <ColumnFrom Name="Faults"/>
                 <ColumnFrom Name="RequestSize.count"/>
                 <Default>0</Default>
              </Rate>
            </Column>  
       </Select>
    </Table>
</Adml>

