# BCwin32.def: Windows Specific Code for Background Collection (Sampling)
# $Id: BCwin32.def,v 2.5 2012/01/03 13:34:41 mschenke Exp $
# ARCS: $Header: /home/cvs/cvs/RDA_4/src/scripting/lib/modules/BCwin32.def,v 2.5 2012/01/03 13:34:41 mschenke Exp $
#
# Change History
# 20120103  MSC  Change the copyright notice.

=head1 NAME

BCwin32 - Submodule for Windows-Specific Background Collections

=head1 DESCRIPTION

This module contains the operating system-specific code for the sampling
modules.

=cut

# Make the module persistent
keep $KEEP_BLOCK

# Get the calling module
var ($MODULE,$FACTOR) = @arg
import $TOC,$TOP

#------------------------------------------------------------------------------

=head1 CONTRIBUTION TO THE NPRF MODULE

Collected information:

=over 4

=item o C<netstat -s>

=item o C<tasklist /V>

=back

=cut

if compare('eq',$MODULE,'NPRF')
{# Collect the performance information
 #thread
 #{import $FACTOR
 # report iostat
 # call writeCommand('iostat -x 1 1',true,$FACTOR)
 #}

 #thread
 #{import $FACTOR
 # report lsof
 # call writeCommand('lsof -S 2',true,$FACTOR)
 #}

 #thread
 #{import $FACTOR
 # report mpstat
 # call writeCommand('mpstat -P ALL',true,$FACTOR)
 #}

 thread
 {import $FACTOR
  report netstat
  call writeCommand('netstat -s',true,$FACTOR)
 }

 thread
 {import $FACTOR
  report ps
  call writeCommand('tasklist /V',true,$FACTOR)
 }

 #thread
 #{import $FACTOR
 # report top
 # call writeCommand('top -b -n 1',true,$FACTOR)
 #}

 #thread
 #{import $FACTOR
 # report uptime
 # call writeCommand('uptime',true,$FACTOR)
 #}

 #thread
 #{import $FACTOR
 # report vmstat
 # call writeCommand('vmstat 1 1',true,$FACTOR)
 #}

 # Specify the trace route command
 var \$CMD = $arg[2]
 var $CMD = 'tracert %s'
}

#------------------------------------------------------------------------------

=head1 CONTRIBUTION TO THE RPRF MODULE

Not applicable

=cut

elsif compare('eq',$MODULE,'RPRF')
{
}

#------------------------------------------------------------------------------

=head1 COPYRIGHT NOTICE

Copyright (c) 2002, 2012, Oracle and/or its affiliates. All rights reserved.

=head1 TRADEMARK NOTICE

Oracle and Java are registered trademarks of Oracle and/or its
affiliates. Other names may be trademarks of their respective owners.

=cut
