# EScfg.def: Assists Oracle Entitlements Server Collection Setup
# $Id: EScfg.def,v 1.2 2012/01/03 13:34:41 mschenke Exp $
# ARCS: $Header: /home/cvs/cvs/RDA_4/src/scripting/lib/modules/EScfg.def,v 1.2 2012/01/03 13:34:41 mschenke Exp $
#
# Change History
# 20120103  MSC  Change the copyright notice.

=head1 NAME

EScfg - Assists Oracle Entitlements Server Collection Setup

=head1 DESCRIPTION

This module provides associated logic for the setup of the Oracle Entitlements
Server collections.

=cut

#------------------------------------------------------------------------------
# Section init: Module initialization
#------------------------------------------------------------------------------
section init

#------------------------------------------------------------------------------
# Section check_es_install: Check for Oracle Entitlements Server install
#------------------------------------------------------------------------------
section check_es_install

# Detect the install
if testFile('fr',catFile(${ES_MW_HOME},'registry.xml'))
{if xmlFind(xmlLoadFile(lastFile()),'bea-product-information/host')
 {var ($xml) = last
  if compare('eq',xmlValue($xml,'name'),${RDA.HOST})
  {if xmlFind($xml,'product name="Oracle Entitlements Server"')
   {var ($cmp) = last
    var ${AUX.dft} = 1
    if xmlFind($cmp,'release/component name="OES Administration Application"')
    {var ($obj) = last
     call setTempSetting('TMP_ES_VER',xmlValue($obj,'version'))
     call setTempSetting('TMP_ES_ADMIN',xmlValue($obj,'InstallDir'))
    }
    if xmlFind($cmp,'release/component name="OES SM COMBO"')
     call setTempSetting('TMP_ES_SSM',xmlValue(last,'InstallDir'))
   }
  }
 }
}

=head1 COPYRIGHT NOTICE

Copyright (c) 2002, 2012, Oracle and/or its affiliates. All rights reserved.

=head1 TRADEMARK NOTICE

Oracle and Java are registered trademarks of Oracle and/or its
affiliates. Other names may be trademarks of their respective owners.

=cut
