# M245FTXK.cfg: Collects CMM and SP Information on Tx000 Servers
# $Id: M245FTXK.cfg,v 1.1 2012/08/14 07:10:13 mschenke Exp $
# ARCS: $Header: /home/cvs/cvs/RDA_4/src/scripting/lib/modules/M245FTXK.cfg,v 1.1 2012/08/14 07:10:13 mschenke Exp $
#
# Copyright (c) 2002, 2012, Oracle and/or its affiliates. All rights reserved.
#
# Change History
# 20120622  JGS  Initial version.

###############################################################################
# Setup information for CMM and SP Information on Tx000 Servers
###############################################################################

#------------------------------------------------------------------------------
# Module definition
#------------------------------------------------------------------------------
dsc='Collects CMM and SP Information on Tx000 Servers'
var=xplr_ftxk_accept

#------------------------------------------------------------------------------
# Settings definitions
#------------------------------------------------------------------------------
[xplr_ftxk_accept]
typ=B
alt=get_cmm,check_end
dft=0
dsc='Are settings already defined?'
nam=-
var=xplr_ftxk_cfg,xplr_ftxk_set,loop_set

#------------------------------------------------------------------------------
# Interactive settings
#------------------------------------------------------------------------------
[get_cmm]
typ=T
clr='NO_CMM'
dft="${XPLR_FTXK_CMM_HOST_${INC.SET}:.}"
dsc='Get CMM host name or IP address'
err='The CMM host name or IP contains invalid characters'
inp="Enter the CMM host name or IP address, or NO_CMM to skip the CMM, or \
     a dot (.) to end"
nam=-TMP_HOST
ref="^[\w\-\.\:]*$"
val=E

[check_end]
typ=I
alt=add_set,check_cmm,get_sp,check_sp,get_cmm,check_end
dft="eq:TMP_HOST:."
dsc='Detect the end of loop'
nam=-
var=save_set

[add_set]
typ=I
dft="join:TMP_NEW:${CNT.SET}"
dsc='Accumulate offsets'
nam=-TMP_NEW

[check_cmm]
typ=I
dft="match:TMP_HOST:^[\w\-\.\:]+$"
dsc='Check if a host is specified'
nam=-
var=set_cmm

[set_cmm]
typ=T
dft=${TMP_HOST}
dsc="CMM Host name or IP address ${CNT.SET}"
nam=XPLR_FTXK_CMM_HOST_${CNT.SET}

[get_sp]
typ=T
clr='NO_SP'
dft=${XPLR_FTXK_SP_HOST_${CNT.SET}}
dsc='SP Host name or IP address'
err="The SP host name or IP contains invalid characters"
inp="Enter the SP host name or IP address paired with CMM ${host}, or NO_SP \
     to skip the SP"
ref="^[\w\-\.\:]*$"
nam=-TMP_HOST
val=E

[check_sp]
typ=I
dft="match:TMP_HOST:^[\w\-\.\:]+$"
dsc='Check if a host is specified'
nam=-
var=set_sp

[set_sp]
typ=T
dft=${TMP_HOST}
dsc="SP Host name or IP address ${CNT.SET}"
nam=XPLR_FTXK_SP_HOST_${CNT.SET}

[save_set]
typ=T
dft=${TMP_NEW}
dsc='System Controller set'
nam=XPLR_FTXK_SET

#------------------------------------------------------------------------------
# Batch settings
#------------------------------------------------------------------------------
[xplr_ftxk_cfg]
typ=F
dft=${XPLR_FTXK_CFG}
dsc='Current input file'
nam=XPLR_FTXK_CFG

[xplr_ftxk_set]
typ=T
dft=${XPLR_FTXK_SET}
dsc='System Controller set'
nam=XPLR_FTXK_SET

[loop_set]
typ=L
dft=${XPLR_FTXK_SET}
nam=-offset
sep='|'
var=xplr_ftxk_cmm_host,xplr_ftxk_sp_host

[xplr_ftxk_cmm_host]
typ=T
dft=${XPLR_FTXK_CMM_HOST_${offset}}
dsc="CMM Host name or IP address ${offset}"
nam=XPLR_FTXK_CMMHOST_${offset}
opt=1

[xplr_ftxk_sp_host]
typ=T
dft=${XPLR_FTXK_SP_HOST_${offset}}
dsc="SP Host name or IP address ${offset}"
nam=XPLR_FTXK_SPHOST_${offset}
opt=1

