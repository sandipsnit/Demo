# S000INI.cfg: Initializes the Data Collection
# $Id: S000INI.cfg,v 2.36 2012/08/29 13:45:27 mschenke Exp $
# ARCS: $Header: /home/cvs/cvs/RDA_4/src/scripting/lib/modules/S000INI.cfg,v 2.36 2012/08/29 13:45:27 mschenke Exp $
#
# Copyright (c) 2002, 2012, Oracle and/or its affiliates. All rights reserved.
#
# Change history
# 20120828  KRA  Extend installation type detection.

###############################################################################
# Collect the global setup information
###############################################################################

#------------------------------------------------------------------------------
# Module definition
#------------------------------------------------------------------------------
dsc="Initializes the Data Collection"
env=ORACLE_HOME,ORACLE_INSTANCE
lim=0
man="The S000INI module regroups all generic settings. It must be set up \
     before any other module."
req=*S010CFG,*S090OCM,*S909RDSP,*S919LOAD,**S990FLTR,*S999END
rpt=RPT_GROUP,RPT_DIRECTORY,RDA_PROFILE
var=check_rda,RPT_GROUP,RPT_DIRECTORY,RPT_CLEAN,RPT_KEEP,RPT_FORCE,RPT_START,\
    NO_DA,NO_DBI,NO_INVENTORY,NO_JSCH,NO_OCM,NO_PARALLEL,NO_QUOTA,NO_RSH,\
    NO_SSH,NO_SSH_AGENT,RDA_TYPE,check_type,need_instance,DOMAIN_NAME,\
    RDA_BIN_CHECK,RDA_BUILD,rda_collect,RDA_FLUSH,RDA_FORK,RDA_FREE,\
    RDA_FREE_CHECK,RDA_GET_INCIDENT,rda_handle,RDA_LEVEL,RDA_META,RDA_PROFILE,\
    RDA_RENDER,rda_sample,RDA_SAVE,RDA_SHARE,RDA_SPLIT,RDA_TAIL,rda_test,\
    RDA_THEME,RDA_TIMEOUT,rda_use_temp,RDA_USE_TEMP,rda_version,oracle_bin,\
    vms_command,win_command,\
    SQL_ACCESS,SQL_ATTEMPTS,SQL_COMMAND,SQL_HOME,SQL_ERROR,SQL_FORK,\
    SQL_PRELIM,SQL_TIMEOUT,dbi_timeout_u,dbi_timeout_w,\
    CONVERT_TRACE,DA_TRACE,HCVE_TRACE,HTML_TRACE,JAVA_TRACE,JSCH_TRACE,\
    PARSE_TRACE,REMOTE_TRACE,SQL_TRACE,SSH_TRACE,TEST_TRACE,WAS_TRACE,XML_TRACE

#------------------------------------------------------------------------------
# Setting definitions
#------------------------------------------------------------------------------
[check_rda]
typ=B
alt=obsolete_engine
dft="${RDA.ENGINE}"
dsc="Check if the engine code is not obsolete"
nam=-

[obsolete_engine]
typ=C
inp="Expecting the RDA build ${RDA.BUILD} or later"
val=F
vis=0

[RPT_GROUP]
typ=T
dft="RDA"
dsc="Output file prefix"
err="The output file prefix must start with a letter and may contain \
     alphanumeric characters only."
hlp="RDA uses the output file prefix to identify all files belonging to the \
     same data collection. The prefix must start with a letter and must \
     contain only alphanumeric characters."
inp="Enter the prefix to be used for all the generated files"
ref="^[A-Za-z][A-Za-z0-9]*$"
val=F

[RPT_DIRECTORY]
typ=D
dft=${GRP.D_CWD}/output
dsc="Output file directory"
inp="Enter the directory used for all the files to be generated"

[RPT_CLEAN]
typ=B
dft=0
dsc="Do you want to clean the report directory on the next run?"
opt=1

[RPT_KEEP]
typ=B
dft=0
dsc="Do you want to keep report packages from previous runs?"
inp="Do you want to keep report packages from previous runs (Y/N)?"

[RPT_FORCE]
typ=B
dft=1
dsc="Is a fresh collection performed as the default action?"
inp="Is a fresh collection performed as the default action (Y/N)?"
lvl=1

[RPT_START]
typ=T
dft=END_report
dsc="Default start report"

[RDA_TYPE]
typ=T
dsc="Profile type"

[check_type]
typ=I
alt=ORACLE_HOME
dft="match:RDA_TYPE:^CUS:"
dsc="Check the profile type"
nam=-
var=COMPONENT_SETUP,ORACLE_PARENT

[COMPONENT_SETUP]
typ=S
dft=${RDA_SETUP}
dsc="Component specific setup"

[ORACLE_HOME]
typ=D
dft=${ORACLE_HOME}
dsc="Oracle home"
err="Warning: The specified directory does not -yet- exist"
inp="Enter the Oracle home to be used for data analysis"
val=W
var=ORACLE_PARENT

[ORACLE_PARENT]
typ=D
alt=INSTALLATION_TYPE
dft=${ORACLE_HOME}/..
dsc="Parent directory of the Oracle home directory"
var=check_utils

[check_utils]
typ=D
alt=INSTALLATION_TYPE
dft=${ORACLE_PARENT}/utils
dsc="Possible utils Middleware directory"
nam=-TMP_HAS_UTILS
var=INSTALLATION_TYPE

[INSTALLATION_TYPE]
typ=P
dft="product"
dsc="Oracle home installation type"
var=check_install1,check_install2

[check_install1]
typ=I
dft="match:INSTALLATION_TYPE:\
           ^(Classic Application Server 11g|\
             Oracle Business Intelligence Shiphome|\
             Oracle Forms and Reports 11g|\
             Oracle Portal, Forms, Reports and Discoverer 11g|\
             Oracle WebTier)"
dsc="Check the installation type"
nam=-TMP_NEED_INSTANCE

[check_install2]
typ=I
dft="match:INSTALLATION_TYPE:\
           ^(Application Server 11g ECM|\
             EPM System|\
             Oracle Application Developer 11g|\
             Oracle Identity Management 11g|\
             Oracle IDM Suite|\
             Oracle SOA Suite 11g|\
             Oracle WebCenter Portal Suite 11g|\
             Oracle WebCenter Suite 11g|\
             SOA Application Server 11g|\
             Standalone WebLogic Server|\
             Webcenter Application Server 11g)"
dsc="Check the installation type"
nam=-TMP_ASK_INSTANCE

[need_instance]
typ=B
alt=need_optional_root
dft=<<COND:force_ini_instance,1,\
           INSTANCE_DIRECTORY,1,\
                              ${TMP_NEED_INSTANCE}
dsc="Is an instance directory required?"
nam=-
var=chk_oracle_instance,INSTANCE_ROOT

[need_optional_root]
typ=B
alt=need_default_root
dft=${TMP_ASK_INSTANCE}
dsc="Is an instance directory required?"
nam=-
var=set_optional_root

[need_default_root]
typ=B
dft=${TMP_HAS_UTILS}
dsc="Is an instance directory required?"
nam=-
var=set_default_root

[chk_oracle_instance]
typ=I
dft="exists:ORACLE_INSTANCE"
dsc="Check the ORACLE_INSTANCE environment variable existence"
nam=-
var=dft_instance_root

[dft_instance_root]
typ=D
dft="${ENV.ORACLE_INSTANCE}/.."
dsc="Default instance root directory"
nam=-TMP_INSTANCE_ROOT

[set_default_root]
typ=D
dft=${ORACLE_PARENT}
dsc="Instance root directory"
nam=INSTANCE_ROOT

[set_optional_root]
typ=D
clr=-
dft=${ORACLE_PARENT}
dsc="Instance root directory"
err="Warning: The specified directory does not -yet- exist"
inp="In case of instances homes could be involved in the data collection, \
     enter the location of the directory containing instance homes. \
     Otherwise, provide the middleware home directory."
nam=INSTANCE_ROOT
val=W

[INSTANCE_ROOT]
typ=D
clr=-
dft=${TMP_INSTANCE_ROOT}
dsc="Instance root directory"
err="Warning: The specified directory does not -yet- exist"
inp="Enter the location of the directory containing the instance homes to \
     analyze (For example the parent directory of the path specified by an \
     ORACLE_INSTANCE environment variable)"
val=W
var=dir_list,get_dir

[dir_list]
typ=T
dft="<<LIST:INSTANCE_ROOT:1:^([^\.]+)$"
dsc="Get the directories present in the instance root directory"
nam=-TMP_DIR_LIST

[get_dir]
typ=I
dft="values:TMP_DIR_LIST:1"
dsc="Suppress the item numbers"
nam=-TMP_DIR_LIST
var=dir_loop,has_instances

[dir_loop]
typ=L
dft=${TMP_DIR_LIST}
dsc="Examine all directories"
nam=-item
sep="|"
var=check_item1

[check_item1]
typ=F
alt=check_item2
dft="${INSTANCE_ROOT}/${item}/bin/opmnctl"
dsc="Check the presence of an instance opmnctl (Unix)"
nam=-
var=store_instance

[check_item2]
typ=F
alt=check_item3
dft="${INSTANCE_ROOT}/${item}/bin/opmnctl.bat"
dsc="Check the presence of an instance opmnctl (Windows)"
nam=-
var=store_instance

[check_item3]
typ=F
dft="${INSTANCE_ROOT}/${item}/bin/opmnctl.exe"
dsc="Check the presence of an instance opmnctl (Windows)"
nam=-
var=store_instance

[store_instance]
typ=T
dft="${TMP_INSTANCE_LIST:*All*}|${item}"
dsc="Store a valid candidate directory"
nam=-TMP_INSTANCE_LIST

[has_instances]
typ=I
alt=edit_instance_root
dft="exists:TMP_INSTANCE_LIST"
dsc="Check instance presence"
nam=-

[edit_instance_root]
typ=B
dft=0
dsc="Do you want to modify the instance root location?"
inp="The specified Oracle instance root directory is either invalid or does \
     not contain some Oracle Fusion Middleware instance related-files. \
     Collection will not contain complete instance data.\n\n\
     Do you want to modify the instance root path (Y/N)?"
nam=-
var=INSTANCE_ROOT

[NO_DA]
typ=B
dft=0
dsc="No Diagnostic Assistant usage"
inp="Is Diagnostic Assistant (DA) usage disabled (Y/N)"
lvl=9

[NO_DBI]
typ=B
dft=0
dsc="No DBI usage"
inp="Is DBI usage disabled (Y/N)"
lvl=9

[NO_INVENTORY]
typ=B
dft=0
dsc="No Oracle home inventory usage"
inp="Is Oracle home inventory usage disabled (Y/N)"
lvl=1

[NO_JSCH]
typ=B
dft=0
dsc="No Java Secure Channel usage"
inp="Is Java Secure Channel (JSCH) usage disabled (Y/N)"
lvl=9

[NO_OCM]
typ=B
dft=0
dsc="No Oracle Configuration Manager usage"
inp="Is Oracle Configuration Manager (OCM) usage disabled (Y/N)"
lvl=1

[NO_PARALLEL]
typ=B
dft=${RDA.WINDOWS}
dsc="No parallel execution"
inp="Are parallel executions disabled (Y/N)"
lvl=1

[NO_QUOTA]
typ=B
dft=0
dsc="No execution quotas"
inp="Are execution quotas disabled (Y/N)"
lvl=1

[NO_RSH]
typ=B
dft=0
dsc="No Remote Shell usage"
inp="Is Remote Shell (RSH) usage disabled (Y/N)"
lvl=9

[NO_SSH]
typ=B
dft=0
dsc="No Secure Shell usage"
inp="Is Secure Shell (SSH) usage disabled (Y/N)"
lvl=9

[NO_SSH_AGENT]
typ=B
dft=0
dsc="No Secure Shell agent startup"
inp="Is Secure Shell (SSH) agent startup disabled (Y/N)"
lvl=9

[DOMAIN_NAME]
typ=T
dft='${RDA.DOMAIN}'
dsc="Domain name for this server"
err="Warning: No domain has been specified"
inp="Enter the network domain name for this server"
ref=^.+$
val=W

#------------------------------------------------------------------------------
# Data Collection settings
#------------------------------------------------------------------------------
[RDA_BIN_CHECK]
typ=T
dft=1
dsc="Do you want RDA to check is a file could be a binary file?"

[RDA_BUILD]
typ=T
dft=${RDA.BUILD}
dsc="RDA build"

[rda_collect]
typ=T
dft="<<Modules:,:S(0[013-9]0|9[0-9]9)"
dsc="List of modules to execute at each data collection"
nam=RDA_COLLECT

[RDA_FLUSH]
typ=B
dft=1
dsc="Are output autoflushes allowed in the engine?"
inp="Are output autoflushes allowed in the engine (Y/N)?"
lvl=9

[RDA_FORK]
typ=B
dft=1
dsc="Are process forks allowed in the engine?"
inp="Are process forks allowed in the engine (Y/N)?"
lvl=9

[RDA_FREE]
typ=N
dft=100
dsc="Minimum free space (in MiB)"
err="The number of MiB must be a greater than zero. A zero value disables the \
     mechanism."
inp="How many MiB must RDA keep free in the output directory disk?"
lvl=1
ref=R[0,[
val=E

[RDA_FREE_CHECK]
typ=M
ask=0
bef="Disk free check frequency:"
cas=0
dft="<<COND:RDA.WINDOWS,E,R"
err="Use E, M, or R as response only"
inp="Enter the selection"
itm="<<COND:RDA_FREE,E|Once per execution|\
                     M|Once per module|\
                     R|For each report,\
                     N|No Check"
lvl=1
mnu="<<I"
val=E

[RDA_GET_INCIDENT]
typ=B
dft=1
dsc="Should RDA collect incident files?"
inp="Should RDA collect incident files (Y/N)?"
lvl=9

[rda_handle]
typ=T
dft="<<Modules:,:S\d{3}[A-Z]REQ"
dsc="List of modules to execute requests from other modules"
nam=RDA_HANDLE

[RDA_LEVEL]
typ=N
dft=0
dsc="Setting level"

[RDA_META]
typ=N
dft=1
dsc="Meta directory indicator"

[RDA_PROFILE]
typ=T
dft='Default'
dsc="Setup profile"

[RDA_RENDER]
typ=T
dsc="List of reports to render immediately"
opt=1

[rda_sample]
typ=T
dft=S020SMPL
dsc="List of default sampling modules"
nam=RDA_SAMPLE

[RDA_SAVE]
typ=B
dft=1
dsc="Is the setup information saved at the end of each module?"
inp="Is the setup information saved at the end of each module (Y/N)?"
lvl=9

[RDA_SHARE]
typ=B
dft=1
dsc="For sharing reports, can a file link be emulated by file copy?"
inp="For sharing reports, can a file link be emulated by file copy (Y/N)?"
lvl=9

[RDA_SPLIT]
typ=B
dft=1
dsc="Is the table of contents split in an index and subindexes?"
inp="Is the table of contents split in an index and subindexes (Y/N)?"
lvl=9

[RDA_TAIL]
typ=N
dft=1000
dsc="Default number of lines used for tail operations"
err="The number of lines must be an integer greater than zero"
inp="Enter the default number of lines used for tail operations"
lvl=9
ref="I]0,["
val=F

[rda_test]
typ=T
dft=TSTdb
dsc="List of default test modules"
nam=RDA_TEST

[RDA_THEME]
typ=T
dft=rda
dsc="RDA theme name"
inp="Enter the theme to use for rendering the reports"
lvl=9

[RDA_TIMEOUT]
typ=N
dft=${rda_timeout:30}
dsc="Command execution timeout (in seconds)"
err="The timeout value must be a positive integer"
inp="Enter the maximum time for command execution (in seconds)"
lvl=9
ref="I[0,["
val=F

[rda_use_temp]
typ=B
dft=1
dsc="Force usage of temporary files to improve timeout efficiency for Windows"
fam=Windows
nam=-TMP_USE_TEMP

[RDA_USE_TEMP]
typ=B
dft=${TMP_USE_TEMP:${RDA.VMS}}
dsc="Force the usage of temporary files when executing OS commands"
inp="Do you want RDA to use temporary files when executing OS commands (Y/N)?"
lvl=9

[rda_version]
typ=T
dft=4.29
dsc="RDA Software version"
nam=RDA_VERSION

[dbi_timeout_u]
typ=N
dft=${DBI_TIMEOUT:30}
dsc="DBI timeout (in seconds)"
err="The number of seconds must be a positive integer"
fam=Unix,Vms
inp="Enter the maximum time allowed for each DBI request (in seconds)"
nam=DBI_TIMEOUT
lvl=1
ref="I[0,["
val=F

[dbi_timeout_w]
typ=N
dft=${DBI_TIMEOUT:0}
dsc="DBI timeout (in seconds)"
err="The number of seconds must be a positive integer"
fam=Cygwin,Windows
inp="Enter the maximum time allowed for each DBI request (in seconds)"
nam=DBI_TIMEOUT
lvl=1
ref="I[0,["
val=F

[CONVERT_TRACE]
typ=B
dft=0
dsc="Enable tracing of XML conversion"
inp="Enable tracing of XML conversion (Y/N)?"
lvl=9

[DA_TRACE]
typ=B
dft=0
dsc="Enable tracing of the Diagnostic Assistant requests"
inp="Do you want RDA to enable tracing for Diagnostic Assistant (DA) \
     requests (Y/N)?"
lvl=9

[HCVE_TRACE]
typ=B
dft=0
dsc="Enable tracing of HCVE action execution"
inp="Enable tracing of HCVE action execution (Y/N)?"
lvl=9

[HTML_TRACE]
typ=B
dft=0
dsc="Enable tracing of HTML parsing"
inp="Enable tracing of HTML parsing (Y/N)?"
lvl=9

[JAVA_TRACE]
typ=B
dft=0
dsc="Enable tracing of the Java code block management"
inp="Do you want RDA to enable tracing for Java code block management (Y/N)?"
lvl=9

[JSCH_TRACE]
typ=B
dft=0
dsc="Enable tracing of the Java Secure Channel requests"
inp="Do you want RDA to enable tracing for Java Secure Channel (JSCH) \
     requests (Y/N)?"
lvl=9

[PARSE_TRACE]
typ=B
dft=0
dsc="Enable tracing of buffer parsing"
inp="Enable tracing of buffer parsing (Y/N)?"
lvl=9

[REMOTE_TRACE]
typ=B
dft=0
dsc="Enable tracing of the remote sessions"
inp="Do you want RDA to enable tracing for remote sessions (Y/N)?"
lvl=9

[oracle_bin]
typ=D
dft=${ORACLE_HOME}/bin
dsc="Oracle home bin directory"
nam=-ORACLE_BIN

[SQL_ACCESS]
typ=B
dft=0
dsc="Abort data collection if database connection problems are encountered"
inp="Abort further data collection if database connection problems are \
     encountered \
     (Y/N)?"
lvl=9

[SQL_ATTEMPTS]
typ=N
dft=3
dsc="Maximum number of SQL execution attempts"
err="The number of attempts must be a positive integer"
inp="Enter the number of attempts before disabling SQL execution"
lvl=9
ref="I[0,["
val=F

[vms_command]
typ=T
dft='PIPE SQLPLUS'
dsc="How to execute SQL*Plus for VMS"
fam=Vms
nam=-TMP_SQL_COMMAND

[win_command]
typ=F
dft="<<Search:ORACLE_BIN:p:^PLUS80\.EXE$"
dsc="Check the existence of alternative SQL*Plus"
fam=Cygwin,Windows
nam=-WIN_COMMAND
var=win_sql_home,win_sql_command

[win_sql_command]
typ=F
dft=${WIN_COMMAND}
dsc="Path of alternative SQL*Plus for Windows"
fam=Cygwin,Windows
nam=-TMP_SQL_COMMAND

[win_sql_home]
typ=F
dft=${ORACLE_HOME}
dsc="Oracle home of alternative SQL*Plus for Windows"
fam=Cygwin,Windows
nam=-TMP_SQL_HOME

[SQL_COMMAND]
typ=T
dft='${TMP_SQL_COMMAND:sqlplus}'
dsc="Name of the SQL*Plus command"
inp="Enter the exact name of the local SQL*Plus command"
lvl=9

[SQL_HOME]
typ=T
dft='${TMP_SQL_HOME}'
inp="Oracle home to be used for the SQL*Plus command"
inp="Enter the Oracle home to be used for the SQL*Plus command"
lvl=9
opt=1

[SQL_ERROR]
typ=B
dft=0
dsc="Abort further data collection if SQL errors encountered"
inp="Do you want RDA to abort further data collection if it encounters SQL \
     errors (Y/N)?"
lvl=9

[SQL_FORK]
typ=B
dft=${RDA_FORK}
dsc="Are forks allowed for executing database requests?"
inp="Can RDA use forks to execute database requests (Y/N)?"
lvl=9

[SQL_PRELIM]
typ=B
dft=0
dsc="Should RDA start SQL*Plus with a -prelim option?"
inp="Do you want RDA to start SQL*Plus with a '-prelim' option (Y/N)?"
lvl=9

[SQL_TIMEOUT]
typ=N
dft=${sql_timeout:30}
dsc="SQL timeout (in seconds)"
err="The number of seconds must be a positive integer"
inp="Enter the maximum time allowed for each SQL*Plus execution (in seconds)"
lvl=1
ref="I[0,["
val=F

[SQL_TRACE]
typ=B
dft=0
dsc="Enable tracing of SQL statement execution"
inp="Do you want RDA to enable tracing for SQL statement execution (Y/N)?"
lvl=9

[SSH_TRACE]
typ=B
dft=0
dsc="Enable tracing of the Secure Shell requests"
inp="Do you want RDA to enable tracing for Secure Shell (SSH) requests (Y/N)?"
lvl=9

[TEST_TRACE]
typ=B
dft=0
dsc="Enable tracing of test commands"
inp="Do you want RDA to enable tracing for test commands (Y/N)?"
lvl=9

[WAS_TRACE]
typ=B
dft=0
dsc="Enable tracing of Web application server requests"
inp="Do you want RDA to enable tracing for Web application server requests \
     (Y/N)?"
lvl=9

[XML_TRACE]
typ=B
dft=0
dsc="Enable tracing of XML parsing"
inp="Do you want RDA to enable tracing of XML parsing (Y/N)?"
lvl=9

