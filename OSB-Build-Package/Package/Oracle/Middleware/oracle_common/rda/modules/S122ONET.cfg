# S122ONET.cfg: Collects Oracle Net Information
# $Id: S122ONET.cfg,v 2.9 2012/01/02 17:25:16 mschenke Exp $
# ARCS: $Header: /home/cvs/cvs/RDA_4/src/scripting/lib/modules/S122ONET.cfg,v 2.9 2012/01/02 17:25:16 mschenke Exp $
#
# Copyright (c) 2002, 2012, Oracle and/or its affiliates. All rights reserved.
#
# Change history
# 20120102  MSC  Change the copyright notice.

###############################################################################
# Collect the Oracle Net setup information
###############################################################################

#------------------------------------------------------------------------------
# Module definition
#------------------------------------------------------------------------------
col=${ONET_IN_USE}
dsc="Collects Oracle Net Information"
req=S000INI
var=force_onet_tests

#------------------------------------------------------------------------------
# Setting definitions
#------------------------------------------------------------------------------
[force_onet_tests]
typ=B
alt=ONET_IN_USE
dft=0
dsc="Are the Oracle Net tests required by the profile?"
nam=-
var=onet_in_use

[onet_in_use]
typ=B
dft=1
dsc="Is Oracle Net information requested?"
nam=ONET_IN_USE
var=ONET_PREF,check_pref,ONET_LOG_SIZE,ONET_TRACE_AGE,ONET_TRACE_SIZE,\
    ONET_EXTRA_TNSADMIN

[ONET_IN_USE]
typ=B
dft="<<COND:SELECTED_MODULE,1,RDA_DEFAULT,1,0"
dsc="Is Oracle Net information requested?"
inp="Do you want RDA to collect Oracle Net information (Y/N)?"
var=ONET_PREF,check_pref,ONET_LOG_SIZE,ONET_TRACE_AGE,ONET_TRACE_SIZE,\
    ONET_EXTRA_TNSADMIN

[ONET_PREF]
typ=M
dft="<<cond:onet_pref,${onet_pref},ENV.TNS_ADMIN,tns,ora"
dsc="Indicate the preference for listener.ora detection"
err="A valid entry is a number from the list presented above"
inp="Indicate your choice"
itm="1|Using TNS_ADMIN\
    |2|Using the Oracle home\
    |3|Using the ASM home\
    |4|Specify the listener.ora location"
lvl=1
mnu="<<cond:ENV.TNS_ADMIN,1|2|3|4,2|3|4"
rsp="1|tns|2|ora|3|asm|4|set"
val=E

[check_pref]
typ=I
dft=decode:ONET_PREF:tns:onet_listener_ora\
                    :set:ONET_LISTENER_ORA
dsc="Get associate settings"
nam=-

[onet_listener_ora]
typ=F
dft=${ENV.TNS_ADMIN}/listener.ora
dsc="listener.ora location"
nam=ONET_LISTENER_ORA

[ONET_LISTENER_ORA]
typ=F
dft=${ENV.TNS_ADMIN:${ORACLE_HOME}/network/admin}/listener.ora
dsc="listener.ora location"
inp="Enter the location of the listener.ora file (including the directory and \
     file name"
lvl=1
val=W

[ONET_LOG_SIZE]
typ=N
dft=1048576
dsc="Size of the listener log section to analyze"
err="The number of bytes must be an integer greater than zero"
inp="Enter the size (in bytes) of the listener log section to analyze"
lvl=9
ref="I]0,["
val=F

[ONET_TRACE_AGE]
typ=N
dft=15
dsc="Age limit (in days) of the trace files to be collected"
err="The number of days must be a positive number"
inp="Enter the age limit (in days) for the trace files to be collected"
lvl=1
ref="R[0,["
val=F 

[ONET_TRACE_SIZE]
typ=N
dft=10
dsc="Total size limit (in MiB) for collected traces"
err="The number of MiB must be a positive number"
inp="Enter the total size limit (in MiB) for collected traces"
lvl=1
ref="R[0,["
val=F

[ONET_EXTRA_TNSADMIN]
typ=B
dft=0
dsc="Do you want to collect information from extra TNS_ADMIN directories?"
inp="Do you want RDA to collect information from extra TNS_ADMIN directories \
     (Y/N)?"
lvl=1
var=ONET_TNSADMIN_LIST

[ONET_TNSADMIN_LIST]
typ=D
dsc="List of extra TNS_ADMIN directories"
end="."
err="The path is not absolute or the directory does not exist"
inp="Enter the absolute path of an extra TNS_ADMIN directory or ${end} to \
     terminate the list"
lvl=1
man="RDA repeats the question until you enter a period (.) to terminate \
     the list. RDA considers existing directories only."
sep="|"
ref="ADR"
val=E
