# S200DB.cfg: Controls Oracle RDBMS Data Collection
# $Id: S200DB.cfg,v 2.10 2012/01/02 17:25:16 mschenke Exp $
# ARCS: $Header: /home/cvs/cvs/RDA_4/src/scripting/lib/modules/S200DB.cfg,v 2.10 2012/01/02 17:25:16 mschenke Exp $
#
# Copyright (c) 2002, 2012, Oracle and/or its affiliates. All rights reserved.
#
# Change history
# 20120102  MSC  Change the copyright notice.

###############################################################################
# Collect the common Oracle RDBMS setup information
###############################################################################

#------------------------------------------------------------------------------
# Module definition
#------------------------------------------------------------------------------
col=0
dsc="Controls Oracle RDBMS Data Collection"
env=ORACLE_SID,TWO_TASK
ini=${DATABASE_INSTALLED}
req=S000INI
rpt=ORACLE_HOME,DATABASE_INSTALLED,DATABASE_LOCAL,ORACLE_SID,\
    PFILE_LOCAL,PFILE_LOCATION
ttl="Oracle Product Settings"
trg=S201DBA,S203DBM,S204LOG,S205BR,S206RSRC,S207D2PC,S208OMM,S209XDB,S210OLAP
var=force_db_tests

#------------------------------------------------------------------------------
# Setting definitions
#------------------------------------------------------------------------------
[force_db_tests]
typ=B
alt=check_rdbms,DATABASE_INSTALLED
nam=-
var=database_installed

[database_installed]
typ=B
dft=1
dsc="Gather Oracle database information?"
nam=DATABASE_INSTALLED
var=DATABASE_LOCAL,PFILE_LOCAL,SQL_LOGIN,SQL_SYSDBA

[check_rdbms]
typ=P
dft="check:TMP_RDBMS:oracle.rdbms"
dsc="rdbms installed?"
nam=-TMP_INSTALLED

[DATABASE_INSTALLED]
typ=B
dft=${TMP_INSTALLED:${RDA_DEFAULT:1}}
dsc="Gather Oracle database information?"
inp="Is there a Oracle database for RDA to analyze (Y/N)?"
var=DATABASE_LOCAL,PFILE_LOCAL,SQL_LOGIN,SQL_SYSDBA

[DATABASE_LOCAL]
typ=B
alt=remote_sid
dft=${ORACLE_SID}
dsc="Is the database associated to the current Oracle home?"
inp="Is the database associated to the current Oracle home (Y/N)?"
var=local_sid

[local_sid]
typ=T
dft=${ORACLE_SID}
dsc="Oracle SID"
inp="Enter the Oracle SID to be analyzed"
nam=ORACLE_SID

[remote_sid]
typ=T
dft=${TWO_TASK:${ORACLE_SID}}
dsc="Oracle SID"
inp="Enter the Oracle SID to be analyzed"
nam=ORACLE_SID

[PFILE_LOCAL]
typ=B
dft=${DATABASE_LOCAL}
dsc="Is the PFILE local?"
inp="Is the INIT.ORA for the database to be analyzed located on this system? \
     (Y/N)"
var=pfile_dir_u,pfile_dir_w,PFILE_LOCATION

[pfile_dir_u]
typ=D
dft=${ORACLE_HOME}/dbs
dsc="PFILE directory"
fam=Unix
nam=-PFILE_DIR
var=find_spfile

[pfile_dir_w]
typ=D
dft=${ORACLE_HOME}/database
dsc="PFILE directory"
fam=Cygwin,Windows
nam=-PFILE_DIR
var=find_spfile

[find_spfile]
typ=F
alt=find_pfile
dft="<<Search:PFILE_DIR:p:^\Qspfile${ORACLE_SID}.ora\E$"
dsc="SPFILE path"
nam=-PFILE_PATH

[find_pfile]
typ=F
dft="<<Search:PFILE_DIR:p:^\Qinit${ORACLE_SID}.ora\E$"
dsc="PFILE path"
nam=-PFILE_PATH

[PFILE_LOCATION]
typ=F
dft=${PFILE_PATH}
dsc="SPFILE/PFILE location"
err="Warning: The specified file does not -yet- exist"
inp="Enter the location of the spfile or the INIT.ORA (including the directory \
     and file name)"
val=W

[SQL_LOGIN]
typ=T
dft=${sql_login:system}
dsc="User to connect to SQL*Plus"
inp="Enter an Oracle User ID (userid only) to view DBA_ and V$ tables. If RDA \
     will be run under the Oracle software owner's ID, enter a forward slash \
     (/) here, and enter Y at the SYSDBA prompt to avoid a prompt for the \
     database password at runtime."

[SQL_SYSDBA]
typ=B
dft=${sql_sysdba:0}
dsc="Indicate that SQL_LOGIN will connect as SYSDBA"
inp="Is '${SQL_LOGIN}' a SYSDBA user (will connect as SYSDBA) (Y/N)?"

