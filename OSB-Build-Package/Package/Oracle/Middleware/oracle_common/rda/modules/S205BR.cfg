# S205BR.cfg: Collects Oracle Database Backup and Recovery Information
# $Id: S205BR.cfg,v 2.9 2012/01/02 17:25:16 mschenke Exp $
# ARCS: $Header: /home/cvs/cvs/RDA_4/src/scripting/lib/modules/S205BR.cfg,v 2.9 2012/01/02 17:25:16 mschenke Exp $
#
# Copyright (c) 2002, 2012, Oracle and/or its affiliates. All rights reserved.
#
# Change history
# 20120102  MSC  Change the copyright notice.

###############################################################################
# Collect the Oracle database backup/recovery setup information
###############################################################################

#------------------------------------------------------------------------------
# Module definition
#------------------------------------------------------------------------------
col=${GET_BACKUP_RECOVERY}
dsc="Collects Oracle Database Backup and Recovery Information"
man="RDA excludes this module when you do not specify a database to analyze."
req=S200DB
rpt=RMAN_IN_USE
ttl="Oracle Product Settings"
var=force_br_tests

#------------------------------------------------------------------------------
# Setting definitions
#------------------------------------------------------------------------------
[force_br_tests]
typ=B
alt=run_backup_recovery
dft=0
dsc="Are the backup/recovery tests required by the profile?"
nam=-
var=get_backup_recovery

[run_backup_recovery]
typ=B
alt=no_backup_recovery
dft=${DATABASE_INSTALLED}
nam=-
var=GET_BACKUP_RECOVERY

[no_backup_recovery]
typ=B
dft=0
dsc="Gather backup/recovery information?"
nam=GET_BACKUP_RECOVERY

[get_backup_recovery]
typ=B
dft=1
dsc="Gather backup/recovery information?"
nam=GET_BACKUP_RECOVERY
var=BR_BACKUP_CONTROL,RMAN_IN_USE

[GET_BACKUP_RECOVERY]
typ=B
dft=${RDA_DEFAULT:0}
dsc="Gather backup/recovery information?"
inp="Do you want RDA to collect backup/recovery information (Y/N)?"
var=BR_BACKUP_CONTROL,RMAN_IN_USE

[BR_BACKUP_CONTROL]
typ=B
dft=1
dsc="Backup the control file?"
inp="A backup of the control file to a file inserts a record in the RMAN \
     repository. Do you want RDA to take a backup of the control file (Y/N)?"
lvl=9

[RMAN_IN_USE]
typ=B
dft=${RDA_DEFAULT:${DATABASE_LOCAL}}
dsc="Check if RMAN has been used for backup and recovery"
inp="Is Recovery Manager (RMAN) used for backup and recovery (Y/N)?"
var=RMAN_FILES,RMAN_DEBUG_ON,RMAN_TRACING_ON,RMAN_CATALOG

[RMAN_FILES]
typ=B
dft=1
dsc="Check if RMAN Log files or Media Manager files are available"
inp="Are RMAN log files or Media Manager files available for collection (Y/N)?"
var=RMAN_LOGFILE_COUNT,rman_check_count,RMAN_MEDIA_FILES

[RMAN_LOGFILE_COUNT]
typ=N
dft=0
dsc="Maximum number of latest files to be collected"
err="The number of files must be a positive integer"
inp="How many latest files matching a pattern are to be collected? Zero \
     disables any file search."
lvl=1
ref="[0,["
val=F

[rman_check_count]
typ=I
alt=rman_log_pattern
dft='eq:RMAN_LOGFILE_COUNT:0'
nam=-
var=RMAN_LOG_FILES

[RMAN_LOG_FILES]
typ=F
dsc="List of RMAN log files"
end="."
err="The path is not absolute or the file does not exist"
inp="Enter the absolute path of an RMAN log file to collect or ${end} to \
     terminate the list"
man="RDA repeats the question until you enter a period (.) to terminate \
     the list. RDA considers existing files only."
sep="|"
ref="AFR"
val=E

[rman_log_pattern]
typ=F
dft=${RMAN_LOG_FILES}
dsc="List of RMAN log files"
end="."
err="The path is not absolute"
inp="Enter the absolute path of an RMAN log file to collect or ${end} to \
     terminate the list.\nWhen RDA does not find a corresponding file in that \
     directory, it searches there for files that contain the basename in \
     their name, and selects the ${RMAN_LOGFILE_COUNT} latest file(s)."
man="RDA repeats the question until you enter a period (.) to terminate \
     the list."
nam=RMAN_LOG_FILES
sep="|"
ref="A"
val=E

[RMAN_MEDIA_FILES]
typ=F
dsc="List of Media Manager files"
end="."
err="The path is not absolute or the file does not exist"
inp="Enter the absolute path of a Media Manager file or ${end} to \
     terminate the list"
man="RDA repeats the same question until you enter a period (.) to \
     terminate the list. RDA considers existing files only."
sep="|"
ref="AFR"
val=E

[RMAN_DEBUG_ON]
typ=B
dft=0
dsc="Debug option is used while running RMAN?"
hlp="Answering Y to the question requires you to provide the absolute path \
     of the related RMAN trace file."
inp="Is the debug option used while running RMAN (Y/N)?"
var=RMAN_TRACE_FILE

[RMAN_TRACE_FILE]
typ=F
dsc="The absolute path of the related RMAN trace File"
err="The path is not absolute or the file does not exist"
inp="Enter the absolute path of the related RMAN trace file"
ref="AFR"
val=E

[RMAN_TRACING_ON]
typ=B
dft=${RDA_DEFAULT:0}
dsc="Channel tracing has been enabled?"
inp="Is the channel tracing option enabled while running RMAN (Y/N)?"

[RMAN_CATALOG]
typ=B
dft=${RDA_DEFAULT:1}
dsc="Is the RMAN catalog used?"
inp="Is the RMAN catalog used (Y/N)?"
var=RMAN_SCHEMA,RMAN_EXPORT_CATALOG

[RMAN_SCHEMA]
typ=T
dft="rman"
dsc="Schema containing the RMAN catalog"
inp="Enter the user schema containing the RMAN catalog"

[RMAN_EXPORT_CATALOG]
typ=B
dft=${RDA_DEFAULT:1}
dsc="Can the RMAN catalog be exported?"
inp="Can the RMAN catalog be exported (Y/N)?"
var=RMAN_EXPORT_USER

[RMAN_EXPORT_USER]
typ=T
dft=system
dsc="DBA user for exporting RMAN catalog"
inp="Enter the DBA user for exporting the RMAN catalog"

