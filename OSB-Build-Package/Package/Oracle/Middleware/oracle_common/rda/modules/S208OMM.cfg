# S208OMM.cfg: Collects Oracle Multimedia or Oracle interMedia Information
# $Id: S208OMM.cfg,v 2.6 2012/01/02 17:25:16 mschenke Exp $
# ARCS: $Header: /home/cvs/cvs/RDA_4/src/scripting/lib/modules/S208OMM.cfg,v 2.6 2012/01/02 17:25:16 mschenke Exp $
#
# Copyright (c) 2002, 2012, Oracle and/or its affiliates. All rights reserved.
#
# Change history
# 20120102  MSC  Change the copyright notice.

###############################################################################
# Collect the Oracle Multimedia Setup Information
###############################################################################

#------------------------------------------------------------------------------
# Module definition
#------------------------------------------------------------------------------
col=${OMM_IN_USE}
dsc="Collects Oracle Multimedia or Oracle interMedia Information"
inv=get_db_version
req=S200DB
rpt=OMM_IN_USE
ttl="Oracle Product Settings"
var=OMM_IN_USE

#------------------------------------------------------------------------------
# Setting definitions
#------------------------------------------------------------------------------
[get_db_version]
typ=P
alt=OMM_IN_USE
dft="find:version:oracle.rdbms"
dsc="Get the database version"
nam=-TMP_DB_VERSION
var=check_db_version1

[check_db_version1]
typ=I
alt=check_db_version2
dft="match:TMP_DB_VERSION:^(11\.\d+\.)"
dsc="Check the database version"
nam=-
var=set_omm,force_omm_tests

[check_db_version2]
typ=I
alt=no_omm
dft="match:TMP_DB_VERSION:^(10\.\d+\.|9\.2\.)"
dsc="Check the database version"
nam=-
var=set_oim,force_omm_tests

[set_oim]
typ=T
dft="Oracle interMedia"
dsc="Set the product name
nam=-PRODUCT

[set_omm]
typ=T
dft="Oracle MultiMedia"
dsc="Set the product name
nam=-PRODUCT

[force_omm_tests]
typ=B
alt=OMM_IN_USE
dft=0
dsc="Are the tests required by the profile?"
nam=-
var=omm_in_use

[omm_in_use]
typ=B
dft=1
dsc="Is ${PRODUCT:Oracle Multimedia or Oracle interMedia} in use?"
nam=OMM_IN_USE

[OMM_IN_USE]
typ=B
dft=${RDA_DEFAULT:0}
dsc="Is ${PRODUCT:Oracle Multimedia or Oracle interMedia} in use?"
inp="Do you want to collect ${PRODUCT:Oracle Multimedia or Oracle interMedia} \
     information (Y/N)?"

[no_omm]
typ=B
dft=0
dsc="Is ${PRODUCT:Oracle Multimedia or Oracle interMedia} in use?"
nam=OMM_IN_USE
