# S292APEX.cfg: Collects APEX Information
# $Id: S292APEX.cfg,v 2.6 2012/01/02 17:25:16 mschenke Exp $
# ARCS: $Header: /home/cvs/cvs/RDA_4/src/scripting/lib/modules/S292APEX.cfg,v 2.6 2012/01/02 17:25:16 mschenke Exp $
#
# Copyright (c) 2002, 2012, Oracle and/or its affiliates. All rights reserved.
#
# Change history
# 20120102  MSC  Change the copyright notice.

###############################################################################
# Collect APEX setup information
###############################################################################

#------------------------------------------------------------------------------
# Module definition
#------------------------------------------------------------------------------
col=${APEX_IN_USE}
dsc="Collects APEX Information"
req=S000INI
rpt=APEX_IN_USE
ttl="Oracle Product Settings"
var=force_apex_tests

#------------------------------------------------------------------------------
# Setting definitions
#------------------------------------------------------------------------------
[force_apex_tests]
typ=B
alt=APEX_IN_USE
dft=0
dsc="Is the APEX collection required by the profile?"
nam=-
var=apex_in_use

[apex_in_use]
typ=B
dft=1
dsc="Is APEX information requested?"
nam=APEX_IN_USE
var=APEX_CHECK_HTTP

[APEX_IN_USE]
typ=B
dft=${RDA_DEFAULT:0}
dsc="Is APEX information requested?"
inp="Do you want RDA to analyze Oracle APEX (Y/N)?"
var=APEX_CHECK_HTTP

[APEX_CHECK_HTTP]
typ=B
alt=check_sid
dft=0
dsc="Indicate if the HTTP server is located on the current system"
inp="Is the HTTP server that is accessing the APEX instance is on the server?"
var=APEX_ORACLE_HOME

[APEX_ORACLE_HOME]
typ=D
dft=${ORACLE_HOME}
dsc="HTTP server Oracle home"
err="The specified directory does not exist"
inp="Specify the full path to your HTTP server Oracle home"
val=F
var=chk_modplsql

[chk_modplsql]
typ=D
alt=chk_ohs
dft=${APEX_ORACLE_HOME}/Apache/modplsql
nam=-
var=chk_marvel

[chk_marvel]
typ=F
alt=chk_dads1
dft="${APEX_ORACLE_HOME}/Apache/modplsql/conf/marvel.conf"
dsc="marvel.conf location"
nam=-TMP_APEX_CONF
var=APEX_DB_AUTO

[chk_dads1]
typ=F
alt=check_sid
dft="${APEX_ORACLE_HOME}/Apache/modplsql/conf/dads.conf"
dsc="dads.conf location"
nam=-TMP_APEX_CONF
var=APEX_DB_AUTO

[chk_ohs]
typ=D
alt=no_conf,APEX_ORACLE_HOME
dft=${APEX_ORACLE_HOME}/ohs/modplsql
nam=-
var=chk_dads2

[no_conf]
typ=C
dsc="Report bad Oracle home"
inp="The specified directory ${APEX_ORACLE_HOME} does not contain the \
     required configuration files!\n "
vis=0

[chk_dads2]
typ=F
alt=check_sid
dft="${APEX_ORACLE_HOME}/ohs/modplsql/conf/dads.conf"
dsc="dads.conf location"
nam=-TMP_APEX_CONF
var=APEX_DB_AUTO

[APEX_DB_AUTO]
typ=B
alt=check_sid
dft=1
dsc="Do you want RDA to collect the database connection details automatically?"
inp="Do you want  RDA to collect the database connection details automatically \
     (Y/N)?"
lvl=1
var=apex_db_set,set

#------------------------------------------------------------------------------
# Single database connection
#------------------------------------------------------------------------------
[check_sid]
typ=I
alt=apex_local
dft="exists:ORACLE_SID"
dsc="Check if ORACLE_SID is defined"
nam=-
var=APEX_LOCAL

[apex_local]
typ=B
alt=APEX_SID,APEX_LOGIN,APEX_SYSDBA
dft=0
dsc="Is the APEX schema stored in the database to be analyzed?"
nam=APEX_LOCAL

[APEX_LOCAL]
typ=B
alt=APEX_SID,APEX_LOGIN,APEX_SYSDBA
dft=1
dsc="Is the APEX schema stored in the database to be analyzed?"
inp="Is the APEX schema stored in the '${ORACLE_SID}' database (Y/N)?"

[APEX_SID]
typ=T
dsc="Database containing the APEX schema"
inp="Enter the Oracle SID of the database containing the APEX schema"

[APEX_LOGIN]
typ=T
dft='${SQL_LOGIN:system}'
dsc="User to connect to SQL*Plus"
inp="Enter an Oracle User ID (user ID, only) to view DBA_ and V$ tables. If \
     RDA will be run under the user ID of Oracle software owner, enter a \
     forward slash (/) here, and enter Y at the SYSDBA prompt. This prevents \
     a prompt for the database password at runtime."

[APEX_SYSDBA]
typ=B
dft=0
dsc="Indicate that APEX_LOGIN will connect as SYSDBA"
inp="Is '${APEX_LOGIN}' a SYSDBA user (connects as SYSDBA) (Y/N)?"

#------------------------------------------------------------------------------
# Multiple database connections
#------------------------------------------------------------------------------
[apex_db_set]
typ=T
dft="<<Extern:RDA/Extern/Apex:get_db_set:${TMP_APEX_CONF}"
dsc="APEX connection sets"
nam=APEX_DB_SET

[set]
typ=L
dft=${APEX_DB_SET}
dsc="Collect settings for each database identifier"
sep="|"
var=set_sid,set_flag

[set_sid]
typ=T
dft=${APEX_SID_${set}}
dsc="Oracle SID of the database containing the APEX schema for ${set}"
nam=APEX_SID_${set}

[set_flag]
typ=B
dft=${APEX_FLAG_${set}:0}
dsc="Do you want RDA to collect the database information for ${APEX_SID_${set}}"
inp="Do you want RDA to collect the database information for \
     ${APEX_SID_${set}} (Y/N)?"
nam=APEX_FLAG_${set}
var=set_format,set_location,set_user,set_sysdba

[set_format]
typ=T
dft=${APEX_FORMAT_${set}}
dsc="Original connection formats for ${set}"
nam=APEX_FORMAT_${set}

[set_location]
typ=T
dft=${APEX_LOC_${set}}
dsc="Locations associated to ${set}"
nam=APEX_LOC_${set}

[set_user]
typ=T
dft=${APEX_USER_${set}:SYSTEM}
dsc="User to connect to database for ${APEX_SID_${set}}"
inp="Enter an Oracle User ID (user ID, only) for ${APEX_SID_${set}} to view \
     DBA_ and V$ tables. If you want RDA to run under the user ID of the \
     Oracle software owner, enter a forward slash (/) here, and enter Y at \
     the SYSDBA prompt. This prevents a prompt for the database password at \
     runtime."
nam=APEX_USER_${set}

[set_sysdba]
typ=B
dft=${APEX_SYSDBA_${set}:0}
dsc="Should ${APEX_USER_${set}} connect as SYSDBA for ${APEX_SID_${set}}?"
inp="Is '${APEX_USER_${set}}'@${APEX_SID_${set}} a SYSDBA user (will connect \
     as SYSDBA) (Y/N)?"
nam=APEX_SYSDBA_${set}
