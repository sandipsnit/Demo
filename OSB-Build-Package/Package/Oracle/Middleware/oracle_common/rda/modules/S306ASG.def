# S306ASG.def: Collects Application Server Guard Information
# $Id: S306ASG.def,v 2.5 2012/01/03 13:34:45 mschenke Exp $
# ARCS: $Header: /home/cvs/cvs/RDA_4/src/scripting/lib/modules/S306ASG.def,v 2.5 2012/01/03 13:34:45 mschenke Exp $
#
# Change History
# 20120103  MSC  Change the copyright notice.


=head1 NAME

S306ASG - Collects Application Server Guard Information

=head1 DESCRIPTION

This module collects the Application Server Guard-related information.

The following reports can be generated and are regrouped under C<AS Guard>:

=cut

echo tput('bold'),'Processing ASG module ...',tput('off')

# Initialization
var $ORACLE_HOME = getSetting('ORACLE_HOME','')
var $ASG_HOME    = catDir($ORACLE_HOME,'dsa')

var $TOC = '%TOC%'
var $TOP = '[[#Top][Back to top]]'
pretoc '1:AS Guard Information'

# Load the common macros
run library()

=head2 Configuration Files

Collects all files from the F<conf> directory.

=cut

debug ' Inside ASG module, gathering configuration files'
pretoc '2:Configuration Files'
call sort_files(3,0,catFile($ASG_HOME,'dsa.conf'),\
                    grepDir(catDir($ASG_HOME,'conf'),'.*','pn'))
unpretoc

=head2 Log Files

Collects all files from the F<log> directory.

=cut

debug ' Inside ASG module, gathering log files'
pretoc '2:Log Files'
var $dir = catDir($ASG_HOME,'log')
if testDir('d',$dir)
 call sort_files(3,0,grepDir($dir,'.*','pn'))
unpretoc

=head2 not_found - Not Found

Used as a warning when none of the Application Server Guard information is
found.

=cut

if !isTocCreated()
{debug ' Inside ASG module, no file found'
 report not_found
 write 'No Application Server Guard information was found. This does not mean \
        there was necessarily a problem with RDA, but it should be \
        investigated.'
 toc '2:[[',getFile(),'][rda_report][Not Found]]'
}

=begin credits

=over 10

=item RDA 4.10:  Daniel Mortimer.

=item RDA 4.10:  Russell Hodgson.

=back

=end credits

=head1 COPYRIGHT NOTICE

Copyright (c) 2002, 2012, Oracle and/or its affiliates. All rights reserved.

=head1 TRADEMARK NOTICE

Oracle and Java are registered trademarks of Oracle and/or its
affiliates. Other names may be trademarks of their respective owners.

=cut
