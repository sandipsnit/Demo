# S310J2EE.cfg: Collects J2EE/OC4J Information
# $Id: S310J2EE.cfg,v 2.9 2012/08/29 13:48:30 mschenke Exp $
# ARCS: $Header: /home/cvs/cvs/RDA_4/src/scripting/lib/modules/S310J2EE.cfg,v 2.9 2012/08/29 13:48:30 mschenke Exp $
#
# Copyright (c) 2002, 2012, Oracle and/or its affiliates. All rights reserved.
#
# Change history
# 20120828  KRA  Extend installation type detection.

###############################################################################
# Collect J2EE/OC4J setup information
###############################################################################

#------------------------------------------------------------------------------
# Module definition
#------------------------------------------------------------------------------
col=${J2EE_IN_USE}
dsc="Collects J2EE/OC4J Information"
req=S000INI
rpt=J2EE_IN_USE
ttl="Oracle Product Settings"
var=force_j2ee_tests

#------------------------------------------------------------------------------
# Setting definitions
#------------------------------------------------------------------------------
[force_j2ee_tests]
typ=B
alt=req_by_bee
dft=0
nam=-
var=get_install

[req_by_bee]
typ=B
alt=req_by_dev
dft=${BEE_IN_USE}
nam=-
var=get_install

[req_by_dev]
typ=B
alt=req_by_ias
dft=${DEVELOPER_IN_USE}
nam=-
var=get_install

[req_by_ias]
typ=B
alt=req_by_ovmm
dft=${WEB_APPS_IN_USE}
nam=-TMP_IN_USE
var=get_install

[req_by_ovmm]
typ=B
alt=get_install
dft=${OVMM_IN_USE}
nam=-TMP_IN_USE
var=get_install

[get_install]
typ=P
alt=check_rcu
dft="product"
dsc="Installation Type"
nam=-TMP_INSTALL
var=check_install

[check_install]
typ=I
alt=check_rcu
dft="match:TMP_INSTALL:^(Classic Application Server 11g|\
                         Oracle Forms and Reports 11g|\
                         Oracle Identity Management 11g|\
                         Oracle Portal, Forms, Reports and Discoverer 11g|\
                         Oracle SOA Suite 11g|\
                         Oracle WebCenter Portal Suite 11g|\
                         Oracle WebCenter Suite 11g|\
                         Oracle WebTier|\
                         SOA Application Server 11g|\
                         Webcenter Application Server 11g)"
dsc="Check for AS 11g install"
nam=-
var=no_j2ee

[check_rcu]
typ=D
alt=check_top1
dft=${ORACLE_HOME}/rcu
dsc="Oracle home rcu directory"
nam=-
var=no_j2ee

[no_j2ee]
typ=B
dft=0
dsc="Is J2EE/OC4J in use?"
nam=J2EE_IN_USE

[check_top1]
typ=D
alt=J2EE_IN_USE
dft=${ORACLE_HOME}/j2ee
dsc="Check if the J2EE/OC4J directory exists"
nam=-
var=j2ee_in_use

[j2ee_in_use]
typ=B
dft=1
dsc="Is J2EE/OC4J in use?"
nam=J2EE_IN_USE
var=force_alt_j2ee,J2EE_ALT_JDK

[J2EE_IN_USE]
typ=B
dft=${TMP_IN_USE:${RDA_DEFAULT:0}}
dsc="Is J2EE/OC4J in use?"
inp="Is the Oracle J2EE/OC4J used in this Oracle home (Y/N)?"
var=force_alt_j2ee,J2EE_ALT_JDK

#------------------------------------------------------------------------------
# Prior 11g setting definitions
#------------------------------------------------------------------------------
[force_alt_j2ee]
typ=B
alt=check_top2
dft=0
dsc="Do you want RDA to consider an alternative location systematically?"
nam=-
var=j2ee_alt_top

[check_top2]
typ=D
alt=j2ee_alt_top
dft=${ORACLE_HOME}/j2ee
dsc="Check if the J2EE/OC4J directory exists"
nam=-
var=J2EE_ALT_TOP

[j2ee_alt_top]
typ=B
dft=1
dsc="Is an alternative J2EE/OC4J environment used?"
nam=J2EE_ALT_TOP
var=J2EE_TOP

[J2EE_ALT_TOP]
typ=B
alt=j2ee_top
dft=0
dsc="Is an alternative J2EE/OC4J environment used?"
inp="Is an alternative J2EE/OC4J environment used (Y/N)?"
var=J2EE_TOP

[j2ee_top]
typ=D
dft=${ORACLE_HOME}/j2ee
dsc="Location for the J2EE/OC4J files and configuration and log directories"
nam=J2EE_TOP

[J2EE_TOP]
typ=D
dft=${DFT_J2EE_TOP:${ORACLE_HOME}/j2ee}
dsc="Location for the J2EE/OC4J files and configuration and log directories"
err="Warning: The specified directory does not -yet- exist"
inp="Enter the location of the J2EE/OC4J configuration and log files"
val=W

#------------------------------------------------------------------------------
# Common setting definitions
#------------------------------------------------------------------------------
[J2EE_ALT_JDK]
typ=B
alt=j2ee_jdk
dft=0
dsc="Is an alternative JDK used?"
inp="Is an alternative JDK used (Y/N)?"
var=J2EE_JDK

[j2ee_jdk]
typ=D
dft=${ORACLE_HOME}/jdk
dsc="Location for the JDK used for the OC4J"
nam=J2EE_JDK

[J2EE_JDK]
typ=D
dft=${ORACLE_HOME}/jdk
dsc="Location for the JDK used for the OC4J"
err="Warning: The specified directory does not -yet- exist"
inp="Enter the location of the JDK used for the OC4J" 	
val=W
