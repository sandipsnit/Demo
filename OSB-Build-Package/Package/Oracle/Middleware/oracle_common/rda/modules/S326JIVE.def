# S326JIVE.def: Collects Jive Information
# $Id: S326JIVE.def,v 2.5 2012/01/03 13:34:45 mschenke Exp $
# ARCS: $Header: /home/cvs/cvs/RDA_4/src/scripting/lib/modules/S326JIVE.def,v 2.5 2012/01/03 13:34:45 mschenke Exp $
#
# Change History
# 20120103  MSC  Change the copyright notice.

=head1 NAME

S326JIVE - Collects Jive Information

=head1 DESCRIPTION

This module collects the Jive-related diagnostic information.

The following report can be generated and are regrouped under C<Jive>:

=cut

echo tput('bold'),'Processing JIVE module ...',tput('off')

# Initialization
var $JIVE_HOME = getSetting('JIVE_HOME')

var $TOC = '%TOC%'
var $TOP = '[[#Top][Back to top]]'
pretoc '1:Jive'

# Load common macros
run library()

=head2 prop - jive.properties

Gathers F<jive.properties> file.

=cut

report prop
debug ' Inside JIVE module, getting jive.properties file'
prefix
 write '---+ JIVE_HOME/database/jive.properties'
call writeFile(catFile($JIVE_HOME,'database','jive.properties'))
if isCreated(true)
 toc '2:[[',getFile(),'][rda_report][jive.properties]]'

=head2 start - jive_startup.xml

Gathers F<jive_startup.xml> file.

=cut

report start
debug ' Inside JIVE module, getting jive_startup.xml file'
prefix
 write '---+ JIVE_HOME/jive_startup.xml'
call writeFile(catFile($JIVE_HOME,'jive_startup.xml'))
if isCreated(true)
 toc '2:[[',getFile(),'][rda_report][jive_startup.xml]]'

=head2 user - jive_usersearch.xml

Gathers F<jive_usersearch.xml> file.

=cut

report user
debug ' Inside JIVE module, getting jive_usersearch.xml file'
prefix
 write '---+ JIVE_HOME/search/user/jive_usersearch.xml'
call writeFile(catFile($JIVE_HOME,'search','user','jive_usersearch.xml'))
if isCreated(true)
 toc '2:[[',getFile(),'][rda_report][jive_usersearch.xml]]'

=head2 Log Files

Finds all files in the JIVE_HOME/log directory.

=cut

debug ' Inside JIVE module, listing log files'
pretoc '2:Log files'
call sort_files(3,$TAIL,grepDir(catDir($JIVE_HOME,'logs'),'.*','p'))
unpretoc 2

=head1 SEE ALSO

L<library.def|modules::library>

=begin credits

=over 10

=item RDA 4.14: Pramod Vasista.

=back

=end credits

=head1 COPYRIGHT NOTICE

Copyright (c) 2002, 2012, Oracle and/or its affiliates. All rights reserved.

=head1 TRADEMARK NOTICE

Oracle and Java are registered trademarks of Oracle and/or its
affiliates. Other names may be trademarks of their respective owners.

=cut
