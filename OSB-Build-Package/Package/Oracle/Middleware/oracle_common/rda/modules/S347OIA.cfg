# S347OIA.cfg: Collects Oracle Identity Analytics Information
# $Id: S347OIA.cfg,v 1.3 2012/05/24 06:04:46 mschenke Exp $
# ARCS: $Header: /home/cvs/cvs/RDA_4/src/scripting/lib/modules/S347OIA.cfg,v 1.3 2012/05/24 06:04:46 mschenke Exp $
#
# Copyright (c) 2002, 2012, Oracle and/or its affiliates. All rights reserved.
#
# Change history
# 20120524  KRA  Improve validation.

###############################################################################
# Collect Oracle Identity Analytics setup information
###############################################################################

#------------------------------------------------------------------------------
# Module definition
#------------------------------------------------------------------------------
col=${OIA_IN_USE}
dsc="Collects Oracle Identity Analytics Information"
exe=OIAcfg
req=S000INI
rpt=OIA_IN_USE
ttl="Oracle Product Settings"
var=force_oia_tests

#------------------------------------------------------------------------------
# Setting definitions
#------------------------------------------------------------------------------
[force_oia_tests]
typ=B
alt=OIA_IN_USE
dft=0
nam=-
var=oia_in_use

[oia_in_use]
typ=B
dft=1
dsc="Is Oracle Identity Analytics in use?"
nam=OIA_IN_USE
var=OIA_HOME,chk_oia_hom

[no_oia]
typ=B
dft=0
dsc="Is Oracle Identity Analytics in use?"
nam=OIA_IN_USE

[OIA_IN_USE]
typ=B
dft="<<COND:SELECTED_MODULE,1,RDA_DEFAULT,1,0"
dsc="Is Oracle Identity Analytics in use?"
inp="Do you want RDA to collect Oracle Identity Analytics information \
     (formerly Sun Role Manager) (Y/N)?"
var=OIA_HOME,chk_oia_hom

[OIA_HOME]
typ=D
dsc="Oracle Identity Analytics home directory"
inp="Specify the Oracle Identity Analytics home directory"

[chk_oia_hom]
typ=D
alt=oia_comment,no_oia
dft="<<Search:OIA_HOME:p:^(conf|reports)$"
dsc="Check for the presence of a related directory in the OIA home directory"
nam=-
var=OIA_WAS_TYPE,oia_was_type

[oia_comment]
typ=C
dsc="Report bad Oracle Identity Analytics home for such a collection"
inp="The specified Oracle Identity Analytics home directory does not exist or \
     does not contain some Oracle Identity Analytics installation \
     related-files. The collection is disabled.\n\n\
     Hit 'Return' to continue"

#------------------------------------------------------------------------------
# Settings for Web application server operations
#------------------------------------------------------------------------------
[OIA_WAS_TYPE]
typ=M
bef="Web application server type:"
cas=0
dft="WLS"
dsc="Web application server type"
err="Please enter a number from 1 to 4"
inp="Enter the item number"
itm="1|Oracle Weblogic Server|2|IBM WebSphere|3|Tomcat|4|JBoss"
mnu="<<I"
rsp="1|WLS|WLS|WLS|2|WSP|WSP|WSP|3|TOM|TOM|TOM|4|JBS|JBS|JBS"
val=F

[oia_was_type]
typ=I
dft="decode:OIA_WAS_TYPE:JBS:oia_jbs_home,OIA_RBACXWAR_PATH:\
                         TOM:oia_tom_home,OIA_RBACXWAR_PATH:\
                         WLS:oia_wls_domain_home,OIA_RBACXWAR_PATH:\
                         WSP:oia_wsp_profile_home,OIA_RBACXWAR_PATH"
dsc="Apply the type-related setup"
nam=-

#------------------------------------------------------------------------------
# Setting definitions for JBoss Server
#------------------------------------------------------------------------------
[oia_jbs_home]
typ=D
dft=${OIA_WAS_PATH}
dsc="JBoss Server home"
err="Warning: The specified directory does not -yet- exist"
inp="Enter the JBoss Server home to be used for data analysis"
nam=OIA_WAS_PATH
val=W

#------------------------------------------------------------------------------
# Setting definitions for Tomcat Server
#------------------------------------------------------------------------------
[oia_tom_home]
typ=D
dft=${OIA_WAS_PATH}
dsc="Tomcat Server home"
err="Warning: The specified directory does not -yet- exist"
inp="Enter the Tomcat Server home to be used for data analysis"
nam=OIA_WAS_PATH
val=W

#------------------------------------------------------------------------------
# Setting definitions for Oracle WebLogic Server
#------------------------------------------------------------------------------
[oia_wls_domain_home]
typ=D
dft=${OIA_WAS_PATH:${ENV.DOMAIN_HOME}}
dsc="Oracle WebLogic Server domain home"
err="Warning: The specified directory does not -yet- exist"
inp="Enter the Oracle WebLogic Server domain home to be used for data \
     analysis (For example for UNIX, <BEA Home>/user_projects/domains/<domain> \
     or <Middleware Home>/user_projects/domains/<domain>)"
nam=OIA_WAS_PATH
val=W
var=chk_wls_servers

[chk_wls_servers]
typ=B
alt=missing
dft=0
dsc="Check which server homes are present in the domain home directory"
exe=chk_wls_servers
nam=-
var=oia_wls_servers

[missing]
typ=B
dsc="Used to reject settings"
nam=-

# --- Select the server(s) ----------------------------------------------------
[oia_wls_servers]
typ=M
add="*|All servers|*|all_wls_servers"
ask=0
bef="Oracle WebLogic Server list:"
dft="${TMP_WLS_DFT_SERVERS}"
dsc="Oracle WebLogic server list"
dup="Server already selected"
end="."
err="Enter a menu item number only"
inp="Enter the number corresponding to the server directory name, or * to \
     select all servers, or ${end} to terminate the list"
itm="${TMP_WLS_ITM_SERVERS}"
mnu="<<I"
nam=OIA_WLS_SERVERS
one="*"
rsp="^"
sep="|"
val=E

[all_wls_servers]
typ=T
dft=${TMP_WLS_ALL_SERVERS}
dsc="List all Oracle WebLogic servers"
nam=OIA_WLS_SERVERS

#------------------------------------------------------------------------------
# Setting definitions for IBM WebSphere Server
#------------------------------------------------------------------------------
[oia_wsp_profile_home]
typ=D
dft=${OIA_WAS_PATH}
dsc="IBM WebSphere Server profile home"
err="Warning: The specified directory does not -yet- exist"
inp="Enter the IBM WebSphere Server profile home to be used for data analysis"
nam=OIA_WAS_PATH
val=W
var=chk_wsp_servers

[chk_wsp_servers]
typ=B
alt=missing
dft=0
dsc="Check which server homes are present in the profile home directory"
exe=chk_wsp_servers
nam=-
var=oia_wsp_servers

# --- Select the server(s) ----------------------------------------------------
[oia_wsp_servers]
typ=M
add="*|All servers|*|all_wsp_servers"
ask=0
bef="IBM WebSphere Server list:"
dft="${TMP_WSP_DFT_SERVERS}"
dsc="IBM WebSphere server list"
dup="Server already selected"
end="."
err="Enter a menu item number only"
inp="Enter the number corresponding to the server directory name, or * to \
     select all servers, or ${end} to terminate the list"
itm="${TMP_WSP_ITM_SERVERS}"
mnu="<<I"
nam=OIA_WSP_SERVERS
one="*"
rsp="^"
sep="|"
val=E

[all_wsp_servers]
typ=T
dft=${TMP_WSP_ALL_SERVERS}
dsc="List all IBM WebSphere servers"
nam=OIA_WSP_SERVERS

#------------------------------------------------------------------------------
# Common Web application server settings
#------------------------------------------------------------------------------
[OIA_RBACXWAR_PATH]
typ=D
dsc="Exploded rbacx.war file path"
err="Warning: The specified directory does not -yet- exist"
inp="Enter the full directory path to the exploded rbacx.war file"
val=W
