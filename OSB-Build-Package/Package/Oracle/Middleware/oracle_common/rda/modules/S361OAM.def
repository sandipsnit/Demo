# S361OAM.def: Collects Oracle Access Manager Information
# $Id: S361OAM.def,v 1.5 2012/01/03 13:34:46 mschenke Exp $
# ARCS: $Header: /home/cvs/cvs/RDA_4/src/scripting/lib/modules/S361OAM.def,v 1.5 2012/01/03 13:34:46 mschenke Exp $
#
# Change History
# 20120103  MSC  Change the copyright notice.

=head1 NAME

S361OAM - Collects Oracle Access Manager Information

=head1 DESCRIPTION

This module collects Oracle Access Manager-related information. The
following reports can be generated and are regrouped under C<Oracle Access
Manager>:

=head1 REPORTS

=cut

echo tput('bold'),'Processing OAM module ...',tput('off')

# Initialization
var $ORACLE_HOME = getSetting('ORACLE_HOME','')

var $TOC = '%TOC%'
var $TOP = '[[#Top][Back to top]]'
pretoc '1:Oracle Access Manager'

# Load the common macros
run WLSlib()

# Set the current target
call setCurrent(addTarget('OH_OAM',{ORACLE_HOME=>$ORACLE_HOME}))

=head1 ORACLE HOME COLLECTIONS

=head2 abbr - Abbreviations

Displays the RDA abbreviations defined for the Oracle home collection.

=cut

if testDir('d',catDir($ORACLE_HOME,'oam'))
{debug ' Inside OAM module, collecting defined abbreviations'
 report abbr
 prefix
 {write '---+ Oracle Home Abbreviations'
  write '|*Abbreviation*|*Location*|'
 }
 var %hsh = getSymbols()
 loop $key (keys(%hsh))
  write '|',$key,' |',catDir(@{$hsh{$key}}),' |'
 if isCreated(true)
  toc '2:[[',getFile(),'][rda_report][Abbreviations]]'

=head2 Manifest Information

Gathers the Oracle home manifest information.

=cut

 debug ' Inside OAM module, getting Oracle home manifest information \
         (can take time)'
 pretoc '2:Manifest Information'
 call dsp_manifest(3,$ORACLE_HOME)
 unpretoc
}

=head1 COMMON HOME INFORMATION

Includes the reports generated by the IREQ module about the common home.

=cut

toc '%PUSH("%SPLIT%")%'
toc '%PUSH("1+:Common Product Home")%'
toc '%INCLUDE("',${CUR.GROUP},'_IREQ_OAM_CH.toc")%'
toc '%POP2%'

=head1 ORACLE WEBLOGIC SERVER DOMAIN COLLECTIONS

Includes all reports collected for the specified Oracle WebLogic Server domain.

=cut

toc '%PUSH("%SPLIT%")%'
toc '%PUSH("1+:Oracle WebLogic Server Overview")%'
toc '%INCLUDE("',${CUR.GROUP},'_WREQ_OAM_TOP.toc")%'
toc '%POP2%'
toc '%PUSH("%SPLIT%")%'
toc '%PUSH("1+:Oracle WebLogic Server Domain")%'
toc '%INCLUDE("',${CUR.GROUP},'_WREQ_OAM_DOM.toc")%'
toc '%POP2%'

unpretoc

# Restore the default target
call setCurrent()

=head1 SEE ALSO

L<S301WREQ.def|modules::S301WREQ>,
L<S313IREQ.def|modules::S313IREQ>,
L<WLSlib.def|modules::WLSlib>

=begin credits

=over 10

=item RDA 4.23:  Colin Purdon.

=item RDA 4.24:  Greg Cook, Andrew Salt.

=back

=end credits

=head1 COPYRIGHT NOTICE

Copyright (c) 2002, 2012, Oracle and/or its affiliates. All rights reserved.

=head1 TRADEMARK NOTICE

Oracle and Java are registered trademarks of Oracle and/or its
affiliates. Other names may be trademarks of their respective owners.

=cut
