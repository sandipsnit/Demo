# S365COHR.def: Collects Oracle Coherence Information
# $Id: S365COHR.def,v 2.5 2012/01/03 13:34:46 mschenke Exp $
# ARCS: $Header: /home/cvs/cvs/RDA_4/src/scripting/lib/modules/S365COHR.def,v 2.5 2012/01/03 13:34:46 mschenke Exp $
#
# Change History
# 20120103  MSC  Change the copyright notice.

=head1 NAME

S365COHR - Collects Oracle Coherence Information

=head1 DESCRIPTION

This module collects Oracle Coherence-related information.

The following reports can be generated and are regrouped under C<Oracle
Coherence>:

=cut

echo tput('bold'),'Processing COHR module ...',tput('off')

# Initialization
var $COHR_HOME = getSetting('COHERENCE_HOME','')
var $TAIL      = getSetting('RDA_TAIL',1000)

var $TOC = '%TOC%'
var $TOP = '[[#Top][Back to top]]'
pretoc '1:Oracle Coherence'

# Load the common macros
run library()

=head2 Configuration Files

Gathers Oracle Coherence-related configuration files.

=cut

debug ' Inside COHR module, collecting the configuration files'
loop $src (grepDir(catDir($COHR_HOME,'bin'),cond(isWindows(),'\.cmd$',\
                                                 isCygwin(), '\.cmd$',\
                                                             '\.sh$'),'ip'))
{loop $str (grepFile($src,'COHERENCE_OPTS="?-D.*=.*"?$'))
 {var ($typ,$fil) = match($str,'COHERENCE_OPTS="?-D(.*?)=(.*?)"?$')
  call addDataValue($typ,$fil)
 }
}
loop $typ (getDataKeys())
{pretoc '2:',$typ
 call sort_files(3,$TAIL,getDataValue($typ))
 unpretoc
}
unpretoc

=head1 SEE ALSO

L<library.def|modules::library>

=begin credits

=over 10

=item RDA 4.17: Miguel Hernandez.

=back

=end credits

=head1 COPYRIGHT NOTICE

Copyright (c) 2002, 2012, Oracle and/or its affiliates. All rights reserved.

=head1 TRADEMARK NOTICE

Oracle and Java are registered trademarks of Oracle and/or its
affiliates. Other names may be trademarks of their respective owners.

=cut
