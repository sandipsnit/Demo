# S367JDEV.cfg: Collects Oracle JDeveloper Information
# $Id: S367JDEV.cfg,v 2.7 2012/01/20 11:28:27 mschenke Exp $
# ARCS: $Header: /home/cvs/cvs/RDA_4/src/scripting/lib/modules/S367JDEV.cfg,v 2.7 2012/01/20 11:28:27 mschenke Exp $ 
#
# Copyright (c) 2002, 2012, Oracle and/or its affiliates. All rights reserved.
#
# Change history
# 20120118  KRA  Support Oracle WebLogic collection.

###############################################################################
# Collect Oracle JDeveloper setup information
###############################################################################

#------------------------------------------------------------------------------
# Module definition
#------------------------------------------------------------------------------
col=${JDEV_IN_USE}
dsc="Collects Oracle JDeveloper Information"
exe=ASITcfg
req=S000INI,*?JDEV_REQ_WREQ:S301WREQ
rpt=JDEV_IN_USE
trg=?JDEV_REQ_WREQ:S301WREQ
ttl="Oracle Product Settings"
var=force_jdev_tests

#------------------------------------------------------------------------------
# Setting definitions
#------------------------------------------------------------------------------
[force_jdev_tests]
typ=B
alt=JDEV_IN_USE
dft=0
nam=-
var=jdev_in_use

[jdev_in_use]
typ=B
dft=1
dsc="Is Oracle JDeveloper information requested?"
nam=JDEV_IN_USE
var=get_install

[JDEV_IN_USE]
typ=B
dft="<<COND:SELECTED_MODULE,1,RDA_DEFAULT,1,0"
dsc="Is Oracle JDeveloper information requested?"
inp="Do you want RDA to collect Oracle JDeveloper information (Y/N)?"
var=get_install

[get_install]
typ=P
alt=check_jdev1
dft="product"
dsc="Installation Type"
nam=-TMP_INSTALL
var=check_install

[check_install]
typ=I
alt=check_jdev1
dft="match:TMP_INSTALL:^JDeveloper"
dsc="Check the installation type"
nam=-
var=jdev_home

[check_jdev1]
typ=D
alt=check_jdev2
dft=${ORACLE_HOME}/jdeveloper
dsc="Is jdeveloper directory present in the ORACLE_HOME?"
nam=-TMP_JDEV_HOME
var=JDEV_HOME,check_home

[check_jdev2]
typ=D
alt=JDEV_HOME,check_home
dft=${ORACLE_PARENT}/jdeveloper
dsc="Is jdeveloper directory present in the ORACLE_PARENT?"
nam=-TMP_JDEV_HOME
var=JDEV_HOME,check_home

[jdev_home]
typ=D
dft=${ORACLE_HOME}
dsc="Oracle JDeveloper home directory"
nam=-TMP_JDEV_HOME
var=JDEV_HOME,check_home

[JDEV_HOME]
typ=D
dft=${TMP_JDEV_HOME}
dsc="Oracle JDeveloper home directory"
err="Warning: The specified directory does not -yet- exist"
inp="Enter the full path of the Oracle JDeveloper home directory"
val=W

[check_home]
typ=D
alt=jdev_comment,no_jdev
dft=${JDEV_HOME}/jdev
dsc="Check for the presence of jdev subdirectory"
nam=-TMP_JDEV
var=check_jdev3

[jdev_comment]
typ=C
dsc="Report bad JDeveloper home for such a collection"
inp="The specified JDeveloper home directory does not exist or does not \
     contain some JDeveloper installation related-files. The collection is \
     disabled.\n\n\
     Hit 'Return' to continue"

[no_jdev]
typ=B
dft=0
dsc="Is Oracle JDeveloper information requested?"
nam=JDEV_IN_USE

[check_jdev3]
typ=D
alt=no_jdev
dft=${JDEV_HOME}/..
dsc="Oracle JDeveloper middleware home directory"
nam=JDEV_MW_HOME
var=check_jdev4

[check_jdev4]
typ=F
dft="${JDEV_MW_HOME}/registry.xml"
dsc="Is jdeveloper present in an OFM environment?"
nam=-
var=tmp_jdev_file,dft_domain_u,dft_domain_w,JDEV_DOM_REQ_DOMAIN

[tmp_jdev_file]
typ=F
dft=${TMP_JDEV}/bin/version.properties
dsc="version.properties file"
nam=-TMP_JDEV_FILE
var=jdev_full_version

[jdev_full_version]
typ=T
dft="<<CONFIG:TMP_JDEV_FILE:1:^VER_FULL=(.*)$"
dsc="jdeveloper full version"
nam=-TMP_VER

[dft_domain_u]
typ=D
dft="${ENV.HOME}/.jdeveloper/system${TMP_VER}/DefaultDomain"
dsc="Default domain directory"
fam=Unix
nam=-TMP_DOM

[dft_domain_w]
typ=D
dft="${ENV.APPDATA}/JDeveloper/system${TMP_VER}/DefaultDomain"
dsc="Default domain directory"
fam=Cygwin,Windows
nam=-TMP_DOM

#------------------------------------------------------------------------------
# Setting definitions for Oracle WebLogic Server
#------------------------------------------------------------------------------
[JDEV_DOM_REQ_DOMAIN]
typ=D
dft=${TMP_DOM}
dsc="Oracle WebLogic Server domain home"
err="Warning: The specified directory does not -yet- exist"
inp="Enter the Oracle WebLogic Server domain home to be used for data analysis"
val=W
var=chk_servers,jdev_top_focus,jdev_dom_focus,jdev_req_wreq

[chk_servers]
typ=B
alt=missing
dft=0
dsc="Check which server homes are present in the domain home directory"
exe=chk_servers
nam=-
var=jdev_wls_servers

[missing]
typ=B
dsc="Used to reject settings"
nam=-

#------------------------------------------------------------------------------
# Select the server(s)
#------------------------------------------------------------------------------
[jdev_wls_servers]
typ=M
add="*|All servers|*|all_servers"
ask=0
bef="Oracle WebLogic Server list:"
dft="${TMP_DFT_SERVERS}"
dsc="Server list"
dup="Server already selected"
end="."
err="Enter a menu item number only"
inp="Enter the number corresponding to the server directory name, or * to \
     select all servers, or ${end} to terminate the list"
itm="${TMP_ITM_SERVERS}"
mnu="<<I"
nam=JDEV_DOM_WLS_SERVERS
one="*"
rsp="^"
sep="|"
val=E

[all_servers]
typ=T
dft=${TMP_ALL_SERVERS}
dsc="List all servers"
nam=JDEV_DOM_WLS_SERVERS

[jdev_top_focus]
typ=T
dft="Generic"
dsc="Focus areas for WebLogic middleware collection"
nam=JDEV_TOP_FOCUS

[jdev_dom_focus]
typ=T
dft="MinDomCfg,MinSrvCfg"
dsc="Focus areas for Oracle WebLogic Server domain collection"
nam=JDEV_DOM_FOCUS

[jdev_req_wreq]
typ=B
dft=1
dsc="Does JDEV require Oracle WebLogic Request Handler collection?"
nam=JDEV_REQ_WREQ
