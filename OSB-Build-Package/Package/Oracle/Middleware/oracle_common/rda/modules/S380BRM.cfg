# S380BRM.cfg: Collects Oracle Business to Business (B2B) Information
# $Id: S380BRM.cfg,v 2.12 2012/01/02 17:25:17 mschenke Exp $
# ARCS: $Header: /home/cvs/cvs/RDA_4/src/scripting/lib/modules/S380BRM.cfg,v 2.12 2012/01/02 17:25:17 mschenke Exp $
#
# Copyright (c) 2002, 2012, Oracle and/or its affiliates. All rights reserved.
#
# Change history
# 20120102  MSC  Change the copyright notice.

###############################################################################
# Collect the Oracle Communications BRM setup information
###############################################################################

#------------------------------------------------------------------------------
# Module definition
#------------------------------------------------------------------------------
col=${BRM_IN_USE}
dsc="Collects Oracle Communications Billing and Revenue Management Information"
req=S000INI
rpt=BRM_PORTAL,BRM_EXTRACT,BRM_REGISTRY
ttl="Oracle Product Settings"
var=force_prsf_tests

#------------------------------------------------------------------------------
# Setting definitions
#------------------------------------------------------------------------------
[force_prsf_tests]
typ=B
alt=get_release,check_release
fam=Cygwin,Unix,Windows
nam=-
var=prsf_in_use

[get_release]
typ=T
dft="<<Extern:RDA/Extern/PrRegRd:get_release:\
     ${ENV.IFW_HOME},${ENV.INT_HOME},${ENV.PIN_HOME}"
dsc="Oracle Communications Billing and Revenue Management release"
nam=-TMP_RELEASE

[check_release]
typ=I
alt=no_prsf
dft="match:TMP_RELEASE:\d"
dsc="Check Oracle Communications Billing and Revenue Management release"
nam=-
var=BRM_IN_USE

[no_prsf]
typ=B
dft=0
dsc="Gather Oracle Communications Billing and Revenue Management information?"
nam=BRM_IN_USE

[prsf_in_use]
typ=B
dft=1
dsc="Gather Oracle Communications Billing and Revenue Management information?"
nam=BRM_IN_USE
var=BRM_PORTAL,BRM_AGE,BRM_TAIL

[BRM_IN_USE]
typ=B
dft=${TMP_RELEASE}
dsc="Gather Oracle Communications Billing and Revenue Management information?"
inp="Do you want RDA to collect Oracle Communications Billing and Revenue \
     Management information (Y/N)?"
var=BRM_PORTAL,BRM_AGE,BRM_TAIL

[BRM_PORTAL]
typ=B
alt=BRM_REGISTRY,has_registry
dft=${ENV.PIN_HOME}
dsc="Gather BRM Base information?"
inp="Do you want RDA to collect BRM Base information (Y/N)?"
man="Performed for UNIX and Windows only"
var=get_pinctl

[get_pinctl]
typ=F
alt=BRM_PINCTL,chk_pinctl
dft="${ENV.PIN_HOME}/bin/pin_ctl.conf"
dsc="Determine default pin_ctl.conf file"
nam=-TMP_PINCTL
var=BRM_PINCTL,chk_pinctl

[BRM_PINCTL]
typ=F
dft=${TMP_PINCTL}
dsc="pin_ctl.conf file to analyze"
err="The specified file does not exist."
inp="Enter the full path to the pin_ctl.conf file"
lvl=1
val=W

[chk_pinctl]
typ=F
alt=BRM_REGISTRY,has_registry
dft=${BRM_PINCTL}
dsc="Check pin_ctl.conf existence"
nam=-
var=BRM_EXTRACT

[BRM_EXTRACT]
typ=B
alt=BRM_REGISTRY,has_registry
dft=0
dsc="Should RDA extract registry files to analyze from pin_ctl.conf?"
inp="Should RDA extract registry files to analyze from ${BRM_PINCTL} (Y/N)?"
lvl=1
var=brm_one_home

[brm_one_home]
typ=B
dft=1
dsc="Are all registry files based on the same Pipeline Manager home?"
fam=Unix
nam=BRM_ONE_HOME
var=BRM_INT_HOME

[BRM_REGISTRY]
typ=F
dsc="List of pipeline registry files to analyze"
end="."
fam=Unix
inp="Enter the absolute path of pipeline registry file to analyze or ${end} \
     to terminate the list"
err="The specified file does not exist"
man="Performed for UNIX only"
sep="|"
val=F

[has_registry]
typ=B
dft=${BRM_REGISTRY}
dsc="Are registry files specified?"
nam=-
var=BRM_ONE_HOME

[BRM_ONE_HOME]
typ=B
alt=prsf_reg_sets,set
dft=1
dsc="Are all registry files based on the same Pipeline Manager home?"
fam=Unix
inp="Are all registry files based on the same Pipeline Manager home (Y/N)?"
var=BRM_INT_HOME

[BRM_AGE]
typ=N
dft=7
dsc="Age limit (in days) of the diagnostic trace files to be collected"
err="The number of days must be a positive number"
inp="Enter the age limit (in days) for the diagnostic files to be collected"
lvl=1
ref="R[0,["
val=F

[BRM_TAIL]
typ=N
dft=5000
dsc="Maximum number of lines to extract from log files"
err="The number of lines must be an integer greater than zero"
inp="Enter how many lines you want RDA to extract from the end of the log \
     files?"
lvl=1
ref="I]0,["
val=F

#------------------------------------------------------------------------------
# Common Pipeline Manager home
#------------------------------------------------------------------------------
[BRM_INT_HOME]
typ=D
dft=${ENV.IFW_HOME:${ENV.INT_HOME}}
dsc="Common Pipeline Manager home (IFW_HOME/INT_HOME)"
err="The specified directory does not exist"
inp="Enter the absolute path of Pipeline Manager home (IFW_HOME/INT_HOME)"
val=F
var=chk_one_log

[chk_one_log]
typ=D
alt=no_one_log,BRM_INT_HOME
dft="${BRM_INT_HOME}/log"
nam=-
val=W

[no_one_log]
typ=C
inp="\nThe specified directory ${BRM_INT_HOME} does not contain a log \
     subdirectory!\n "
vis=0

#------------------------------------------------------------------------------
# Multiple Pipeline Manager homes
#------------------------------------------------------------------------------
[prsf_reg_sets]
typ=T
dft="<<Extern:RDA/Extern/PrRegRd:set_reg_sets:${ENV.IFW_HOME:${ENV.INT_HOME}}"
dsc="BRM Base registry sets"
nam=BRM_REG_SETS
sep="|"

[set]
typ=L
dft=${BRM_REG_SETS}
sep="|"
var=set_reg_set,set_int_home

[set_reg_set]
typ=F
dft=${BRM_REG_${set}}
dsc="Registry file for ${set}"
nam=BRM_REG_${set}

[set_int_home]
typ=D
dft=${BRM_INT_${set}}
inp="Pipeline Manager home (IFW_HOME/INT_HOME) for ${BRM_REG_${set}}"
err="The specified directory does not exist"
inp="Enter the absolute path of Pipeline Manager home (IFW_HOME/INT_HOME) for \
     ${BRM_REG_${set}}"
nam=BRM_INT_${set}
val=F
var=chk_int_log

[chk_int_log]
typ=D
alt=no_int_log,set_int_home
dft="${BRM_INT_${set}}/log"
nam=-
val=W

[no_int_log]
typ=C
inp="\nThe specified directory ${BRM_INT_${set}} does not have a log \
     subdirectory!\n "
vis=0
