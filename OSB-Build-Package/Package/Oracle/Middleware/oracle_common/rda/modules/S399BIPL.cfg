# S399BIPL.cfg: Collects Business Intelligence Publisher Information
# $Id: S399BIPL.cfg,v 1.6 2012/01/02 17:25:17 mschenke Exp $
# ARCS: $Header: /home/cvs/cvs/RDA_4/src/scripting/lib/modules/S399BIPL.cfg,v 1.6 2012/01/02 17:25:17 mschenke Exp $
#
# Copyright (c) 2002, 2012, Oracle and/or its affiliates. All rights reserved.
#
# Change history
# 20120102  MSC  Change the copyright notice.

###############################################################################
# Collect Oracle Business Intelligence Publisher setup information
###############################################################################

#------------------------------------------------------------------------------
# Module definition
#------------------------------------------------------------------------------
col=${BIPL_IN_USE}
dsc="Collects Oracle Business Intelligence Publisher Information"
exe=ASITcfg
req=S000INI,*?BIPL_REQ_WREQ:S301WREQ,*?BIPL_REQ_IREQ:S313IREQ
rpt=BIPL_IN_USE
trg=?BIPL_REQ_WREQ:S301WREQ,?BIPL_REQ_IREQ:S313IREQ
ttl="Oracle Product Settings"
var=force_bipl_tests

#------------------------------------------------------------------------------
# Setting definitions
#------------------------------------------------------------------------------
[force_bipl_tests]
typ=B
alt=BIPL_IN_USE
dft=0
nam=-
var=bipl_in_use

[bipl_in_use]
typ=B
dft=1
dsc="Gather Oracle Business Intelligence Publisher information?"
nam=BIPL_IN_USE
var=check_bipl

[BIPL_IN_USE]
typ=B
dft="<<COND:SELECTED_MODULE,1,RDA_DEFAULT,1,0"
dsc="Is Oracle Business Intelligence Publisher information requested?"
inp="Do you want RDA to analyze Oracle Business Intelligence Publisher (Y/N)?"
var=check_bipl

[check_bipl]
typ=D
alt=get_install
dft=${ORACLE_HOME}/bifoundation
dsc="Oracle home bifoundation directory"
nam=-
var=BIPL_CH_REQ_COMMON,bipl_instance_root,BIPL_DOM_REQ_DOMAIN

[get_install]
typ=P
alt=BIPL_HOME,BIPL_WAS_TYPE,check_was_type,BIPL_TAIL,BIPL_LOG_AGE
dft="product"
dsc="Installation Type"
nam=-TMP_INSTALL
var=check_install

[check_install]
typ=I
alt=BIPL_HOME,BIPL_WAS_TYPE,check_was_type,BIPL_TAIL,BIPL_LOG_AGE
dft="match:TMP_INSTALL:^Oracle Business Intelligence Shiphome"
dsc="Check for AS 11g install"
nam=-
var=BIPL_CH_REQ_COMMON,bipl_instance_root,BIPL_DOM_REQ_DOMAIN

#------------------------------------------------------------------------------
# Setting definitions for common home
#------------------------------------------------------------------------------
[BIPL_CH_REQ_COMMON]
typ=D
alt=missing
dft="${ORACLE_HOME}/../oracle_common"
dsc="Common Product home"
var=bipl_ch_focus,bipl_req_ireq

[bipl_ch_focus]
typ=T
dft="Manifest"
dsc="Focus areas for common home collection"
nam=BIPL_CH_FOCUS

#------------------------------------------------------------------------------
# Setting definitions for Oracle Instance
#------------------------------------------------------------------------------
[bipl_instance_root]
typ=D
alt=chk_oracle_instance,BIPL_INSTANCE_ROOT
dft=${INSTANCE_ROOT}
dsc="Instance root directory"
nam=BIPL_INSTANCE_ROOT
var=chk_instances

[chk_oracle_instance]
typ=I
dft="exists:ORACLE_INSTANCE"
dsc="Check the ORACLE_INSTANCE environment variable existence"
nam=-
var=dft_instance_root

[dft_instance_root]
typ=D
dft="${ENV.ORACLE_INSTANCE}/.."
dsc="Default instance root directory"
nam=-TMP_INSTANCE_ROOT

[BIPL_INSTANCE_ROOT]
typ=D
dft=${TMP_INSTANCE_ROOT}
dsc="Instance root directory"
err="Warning: The specified directory does not -yet- exist"
inp="Enter the location of the directory containing the instance homes to \
     analyze (For example the parent directory of the path specified by an \
     ORACLE_INSTANCE environment variable)"
var=chk_instances

[chk_instances]
typ=B
alt=bipl_comment
dft=0
dsc="Get the directories present in the instance root directory"
exe=chk_instances
nam=-
var=bipl_instances,set_loop,bipl_req_ireq

[bipl_comment]
typ=C
dsc="Report bad Oracle instance root directory"
inp="The specified Oracle instance root directory is either invalid or does \
     not contain some Oracle BI instance related-files. \
     Collection will not contain complete instance data.\n\n\
     Hit 'Return' to continue"

#------------------------------------------------------------------------------
# Select instances
#------------------------------------------------------------------------------
[bipl_instances]
typ=M
add="*|All instances|*|all_instances"
bef="Instance list:"
col=1
dft="${TMP_DFT_INSTANCES}"
dsc="Instance list"
dup="Instance already selected"
end="."
err="Enter a menu item number only"
inp="Enter the number corresponding to the instance directory name, or * to \
     select all instances, or ${end} to terminate the list"
itm="${TMP_ITM_INSTANCES}"
nam=BIPL_INSTANCES
one="*"
rsp="${TMP_RSP_INSTANCES}"
sep="|"
val=E

[all_instances]
typ=T
dft=${TMP_ALL_INSTANCES}
dsc="List all instances"
nam=-BIPL_INSTANCES

[set_loop]
typ=L
dft="${BIPL_INSTANCES}"
dsc="Examine all directories"
nam=-cnt
sep="|"
var=set_req_instance

[set_req_instance]
typ=D
dft="${BIPL_OI${cnt}_REQ_INSTANCE}"
dsc="Instance ${cnt}"
nam=BIPL_OI${cnt}_REQ_INSTANCE
var=set_oh_focus,set_oi_focus

[set_oh_focus]
typ=T
dft="HTTP,Manifest,OPMN"
dsc="Focus areas for Oracle home associated to the instance home"
nam=BIPL_OH${cnt}_FOCUS

[set_oi_focus]
typ=T
dft="HTTP,OPMN"
dsc="Focus areas for instance home"
nam=BIPL_OI${cnt}_FOCUS

[bipl_req_ireq]
typ=B
dft=1
dsc="Does BIPL require Oracle Instance Request Handler collection?"
nam=BIPL_REQ_IREQ

[BIPL_DOM_REQ_DOMAIN]
typ=D
dft=${DOMAIN_HOME:${ENV.DOMAIN_HOME}}
dsc="Oracle WebLogic server domain home"
err="Warning: The specified directory does not -yet- exist"
inp="Enter the Oracle WebLogic Server domain home to be used for data analysis"
val=W
var=chk_servers,bipl_top_focus,bipl_dom_focus,bipl_req_wreq

[chk_servers]
typ=B
alt=missing
dft=0
dsc="Check which server homes are present in the domain home directory"
exe=chk_servers
nam=-
var=bipl_wls_servers

[missing]
typ=B
dsc="Used to reject settings"
nam=-

#------------------------------------------------------------------------------
# Select the server(s)
#------------------------------------------------------------------------------
[bipl_wls_servers]
typ=M
add="*|All servers|*|all_servers"
bef="Oracle WebLogic Server list:"
dft="${TMP_DFT_SERVERS}"
dsc="Server list"
dup="Server already selected"
end="."
err="Enter a menu item number only"
inp="Enter the number corresponding to the server directory name, or * to \
     select all servers, or ${end} to terminate the list"
itm="${TMP_ITM_SERVERS}"
mnu="<<I"
nam=BIPL_DOM_WLS_SERVERS
one="*"
rsp="^"
sep="|"
val=E

[all_servers]
typ=T
dft=${TMP_ALL_SERVERS}
dsc="List all servers"
nam=BIPL_DOM_WLS_SERVERS

[bipl_top_focus]
typ=T
dft="Generic,Manifest"
dsc="Focus areas for Oracle WebLogic Server middleware collection"
nam=BIPL_TOP_FOCUS

[bipl_dom_focus]
typ=T
dft="BIPL,ExtDomCfg,ExtSrvCfg,MinDomCfg,MinSrvCfg"
dsc="Focus areas for Oracle WebLogic Server domain collection"
nam=BIPL_DOM_FOCUS

[bipl_req_wreq]
typ=B
dft=1
dsc="Does BIPL require Oracle WebLogic Server request handler collection?"
nam=BIPL_REQ_WREQ

#------------------------------------------------------------------------------
# Prior 11g setting definitions
#------------------------------------------------------------------------------
[BIPL_HOME]
typ=D
dft=${ENV.SAROOTDIR}
dsc="Oracle BI server installation directory"
err="Warning: The specified directory does not -yet- exist"
inp="Specify the Oracle BI server installation directory"
val=W

[BIPL_WAS_TYPE]
typ=M
cas=0
dft="OAS"
dsc="Web application server type"
err="Enter 1, 2, or 3 only"
inp="Enter the Web application server type"
itm="1|Oracle Application Server|2|Tomcat|3|IBM WebSphere|4|OC4J"
mnu="<<I"
rsp="1|OAS|OAS|OAS|2|TOM|TOM|TOM|3|WSP|WSP|WSP|4|OC4J|OC4J|OC4J"
val=E

[check_was_type]
typ=I
dft="decode:BIPL_WAS_TYPE:OAS:BIPL_OAS_HOME:\
                          TOM:BIPL_TOMCAT_HOME:\
                          WSP:BIPL_WSP_HOME"
dsc="Determine which additional information is required"
nam=-

[BIPL_OAS_HOME]
typ=D
dft=${ORACLE_HOME}
dsc="Oracle Application Server home directory"
err="Warning: The specified directory does not exist"
inp="Enter the home directory for the Application Server"
val=W

[BIPL_TOMCAT_HOME]
typ=D
dsc="Tomcat Application Server home directory"
err="Warning: The specified directory does not exist"
inp="Enter the home directory for the Tomcat Application Server"
val=W

[BIPL_WSP_HOME]
typ=D
dsc="IBM WebSphere Application Server home directory"
err="Warning: The specified directory does not exist"
inp="Enter the home directory for the IBM WebSphere Application Server"
val=W

[BIPL_TAIL]
typ=N
dft=5000
dsc="Maximum number of lines to extract from each log file"
err="The number of lines must be an integer greater than zero"
inp="How many lines do you want RDA to extract starting from the end of each \
     log file?"
lvl=1
ref="I]0,["
val=F

[BIPL_LOG_AGE]
typ=N
dft=5
dsc="Age limit (in days) of the log files to be collected"
err="The number of days must be a positive number"
inp="Enter the age limit (in days) for the log files to be collected"
lvl=1
ref="R[0,["
val=F
