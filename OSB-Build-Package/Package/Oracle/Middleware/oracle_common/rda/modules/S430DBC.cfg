# S430DBC.cfg: Collects Database Control Information
# $Id: S430DBC.cfg,v 2.6 2012/01/02 17:25:17 mschenke Exp $
# ARCS: $Header: /home/cvs/cvs/RDA_4/src/scripting/lib/modules/S430DBC.cfg,v 2.6 2012/01/02 17:25:17 mschenke Exp $
#
# Copyright (c) 2002, 2012, Oracle and/or its affiliates. All rights reserved.
#
# Change history
# 20120102  MSC  Change the copyright notice.

###############################################################################
# Collect the Database Control Server setup information
###############################################################################

#------------------------------------------------------------------------------
# Module definition
#------------------------------------------------------------------------------
col=${DBCONTROL_SERVER_IN_USE}
dsc="Collects Database Control Information"
inv=get_db_version
man="This module is not considered if the Oracle home contains database \
     software earlier than Oracle Database 10g. This check is performed only \
     when the inventory information is available."
req=S000INI
rpt=DBCONTROL_SERVER_IN_USE
ttl="Oracle Product Settings"
var=DBCONTROL_SERVER_IN_USE

#------------------------------------------------------------------------------
# Setting definitions
#------------------------------------------------------------------------------
[get_db_version]
typ=P
alt=DBCONTROL_SERVER_IN_USE
dft="find:version:oracle.rdbms"
dsc="Get the database version"
nam=-TMP_DB_VERSION
var=check_db_version

[check_db_version]
typ=I
alt=no_dbcontrol_server
dft="match:TMP_DB_VERSION:^(1[01]\.\d+\.)"
dsc="Check the database version"
nam=-
var=DBCONTROL_SERVER_IN_USE

[no_dbcontrol_server]
typ=B
dft=0
dsc="Is Grid Server in use?"
nam=DBCONTROL_SERVER_IN_USE

[DBCONTROL_SERVER_IN_USE]
typ=B
dft=${RDA_DEFAULT:0}
dsc="Is Oracle Enterprise Manager Database Control in use?"
inp="Is the Oracle Enterprise Manager Database Control in use (Y/N)?"
var=check_base,DBC_EMDIAG_IN_USE

[check_base]
typ=I
alt=DBC_BASE
dft="unmatch:DBC_BASE:^((?i)(${RDA.HOST}|${RDA.NODE})\_.+)?$"
dsc="Check if the base will be a menu entry"
nam=-
var=dbc_base

[DBC_BASE]
typ=M
add="0|Specify another directory|-|dbc_base"
alt=dbc_base
bef="Possible Oracle Enterprise Manager Database Control directories are:"
dft="^"
dsc="Database Control Server directory"
err="Specify the item number"
itm="<<List:ORACLE_HOME:1:^((${RDA.HOST}|${RDA.NODE})\_.+)$"
mnu="<<N"
rsp="^"
inp="\nSelect the item corresponding to the Oracle Enterprise Manager Database \
     Control directory name"
val=E

[dbc_base]
typ=D
ctx=${ORACLE_HOME}
dft=${DBC_BASE}
dsc="Oracle Enterprise Manager Database Control Server directory"
err="Warning: The specified directory does not -yet- exist"
inp="Enter the Oracle Enterprise Manager Database Control home directory location as \
     a relative path from the Oracle home directory"
nam=DBC_BASE
val=W

[DBC_EMDIAG_IN_USE]
typ=B
dft=${RDA_DEFAULT:0}
dsc="Is Database Control EMDIAG kit information requested?"
inp="Do you want EMDIAG kit results on the Database Control Repository (Y/N)?"
var=DBC_EMDIAG_TOP,DBC_AUDIT_AGE,DBC_VIOLATION_AGE

[DBC_EMDIAG_TOP]
typ=D
clr=-
dsc="Database Control EMDIAG kit directory"
err="Warning: The specified directory does not -yet- exist"
inp="To collect the log files from a local EMDIAG kit installation, enter the \
     EMDIAG kit top-level directory location, where its 'log' directory is \
     present. Otherwise, enter '${clr}'."
val=W

[DBC_AUDIT_AGE]
typ=N
dft=30
dsc="Age limit (in days) of the audit events to be collected"
err="The number of days must be an integer greater than zero"
inp="Specify the age limit (in days) of the audit events to be collected"
lvl=1
ref="I]0,["
val=E

[DBC_VIOLATION_AGE]
typ=N
dft=15
dsc="Age limit (in days) of the violations to be collected"
err="The number of days must be an integer greater than zero"
inp="Specify the age limit (in days) of the violations to be collected"
lvl=1
ref="I]0,["
val=E

