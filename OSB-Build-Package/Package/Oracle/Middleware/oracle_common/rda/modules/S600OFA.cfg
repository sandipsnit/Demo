# S600OFA.cfg: Collects Oracle Fusion Applications Information
# $Id: S600OFA.cfg,v 1.7 2012/05/31 10:43:08 mschenke Exp $
# ARCS: $Header: /home/cvs/cvs/RDA_4/src/scripting/lib/modules/S600OFA.cfg,v 1.7 2012/05/31 10:43:08 mschenke Exp $
#
# Copyright (c) 2002, 2012, Oracle and/or its affiliates. All rights reserved.
#
# Change history
# 20120531  KRA  Add Basic focus.

###############################################################################
# Collect the Oracle Fusion Applications setup information
###############################################################################

#------------------------------------------------------------------------------
# Module definition
#------------------------------------------------------------------------------
col=${OFA_IN_USE}
dsc="Collects Oracle Fusion Applications Information"
exe=OFAsetup
req=S000INI,*?OFA_REQ_WREQ:S301WREQ
rpt=OFA_IN_USE
trg=?OFA_REQ_WREQ:S301WREQ
ttl="Oracle Product Settings"
var=force_ofa_tests

#------------------------------------------------------------------------------
# Setting definitions
#------------------------------------------------------------------------------
[force_ofa_tests]
typ=B
alt=OFA_IN_USE
dft=0
dsc="Are the Oracle Fusion Applications tests required by the profile?"
nam=-
var=ofa_in_use

[no_ofa]
typ=B
dft=0
dsc="Is Oracle Fusion Applications information requested?"
nam=OFA_IN_USE

[ofa_in_use]
typ=B
dft=1
dsc="Is Oracle Fusion Applications information requested?"
nam=OFA_IN_USE
var=ofa_root

[OFA_IN_USE]
typ=B
dft="<<COND:SELECTED_MODULE,1,RDA_DEFAULT,1,0"
dsc="Is Oracle Fusion Applications information requested?"
inp="Do you want RDA to analyze Oracle Fusion Applications (Y/N)?"
var=ofa_root

[ofa_root]
typ=D
dft=${OFA_ROOT}
dsc="Oracle Fusion Applications home directory"
err="Warning: The specified directory does not -yet- exist"
inp="Enter the Oracle Fusion Applications home to be used for data analysis"
nam=OFA_ROOT
val=W
var=chk_nodes

[chk_nodes]
typ=B
alt=edit_ofa_root
dft=0
dsc="Check which nodes are present"
exe=chk_nodes
nam=-
var=ask_nodes,set_nod_loop,ofa_req_wreq

[edit_ofa_root]
typ=B
alt=no_ofa
dft=0
dsc="Do you want to modify the Oracle Fusion Applications home location?"
inp="The specified Oracle Fusion Applications home directory is either \
     invalid or does not contain some Oracle WebLogic Server related-files. \
     The collection will be disabled.\n\n\
     Do you want to modify the Oracle Fusion Applications home path (Y/N)?"
nam=-
var=ofa_root

#------------------------------------------------------------------------------
# Select the node(s)
#------------------------------------------------------------------------------
[ask_nodes]
typ=M
add="*|All nodes|*|all_nodes"
ask=0
bef="Node list:"
dft="${TMP_DFT_NODES}"
dsc="Node list"
dup="Node already selected"
end="."
err="Enter a menu item number only"
inp="Enter the number corresponding to the node directory name, or * to \
     select all nodes, or ${end} to terminate the list"
itm="${TMP_ITM_NODES}"
mnu="<<I"
nam=OFA_NODES
one="*"
rsp="${TMP_RSP_NODES}"
sep="|"
val=E

[all_nodes]
typ=T
dft=${TMP_ALL_NODES}
dsc="List all nodes"
nam=-OFA_NODES

[set_nod_loop]
typ=L
dft="${OFA_NODES}"
dsc="Examine all directories"
nam=-TMP_NOD_CNT
sep="|"
var=get_nod_basename,set_req_node

[get_nod_basename]
typ=T
dft="${OFA_NOD${TMP_NOD_CNT}}"
dsc="Node name"
nam=-nod

[set_req_node]
typ=D
dft="${OFA_NOD${TMP_NOD_CNT}_WLS_NODE}"
dsc="Node ${TMP_NOD_CNT}"
nam=OFA_NOD${TMP_NOD_CNT}_WLS_NODE
var=chk_domains

[chk_domains]
typ=B
alt=missing
dft=0
dsc="Check which domain homes are present in the node"
exe=chk_domains
nam=-
var=ask_domains,set_loop

[missing]
typ=B
dsc="Used to reject settings"
nam=-

#------------------------------------------------------------------------------
# Select the domain(s)
#------------------------------------------------------------------------------
[ask_domains]
typ=M
add="*|All domains|*|all_domains"
ask=0
bef="Oracle WebLogic Domain list for '${nod}' Node:"
dft="${TMP_DFT_DOMAINS}"
dsc="Domain list for Node ${TMP_NOD_CNT}"
dup="Domain already selected"
end="."
err="Enter a menu item number only"
inp="Enter the number corresponding to the domain directory name, or * to \
     select all domains, or ${end} to terminate the list"
itm="${TMP_ITM_DOMAINS}"
mnu="<<I"
nam=OFA_NOD${TMP_NOD_CNT}_DOMAINS
one="*"
rsp="${TMP_RSP_DOMAINS}"
sep="|"
val=E

[all_domains]
typ=T
dft=${TMP_ALL_DOMAINS}
dsc="List all domains"
nam=-OFA_NOD${TMP_NOD_CNT}_DOMAINS

[set_loop]
typ=L
dft="${OFA_NOD${TMP_NOD_CNT}_DOMAINS}"
dsc="Examine all directories"
nam=-TMP_CNT
sep="|"
var=get_dom_basename,set_req_domain,set_top_focus,set_dom_focus

[get_dom_basename]
typ=T
dft="${OFA_NOD${TMP_NOD_CNT}_DOM${TMP_CNT}}"
dsc="Domain name"
nam=-dom

[set_req_domain]
typ=D
dft="${OFA_NOD${TMP_NOD_CNT}_DOM${TMP_CNT}_REQ_DOMAIN}"
dsc="Domain ${TMP_CNT} (Node ${TMP_NOD_CNT})"
nam=OFA_NOD${TMP_NOD_CNT}_DOM${TMP_CNT}_REQ_DOMAIN
var=chk_servers

[set_top_focus]
typ=T
dft="Basic,Generic"
dsc="Focus areas for Oracle WebLogic Server middleware collection"
nam=OFA_NOD${TMP_NOD_CNT}_TOP${TMP_CNT}_FOCUS

[set_dom_focus]
typ=T
dft="OFA,SOA"
dsc="Focus areas for Oracle WebLogic Server domain collection"
nam=OFA_NOD${TMP_NOD_CNT}_DOM${TMP_CNT}_FOCUS

[chk_servers]
typ=B
alt=missing
dft=0
dsc="Check which server homes are present in the domain home directory"
exe=chk_servers
nam=-
var=ask_servers

#------------------------------------------------------------------------------
# Select the server(s)
#------------------------------------------------------------------------------
[ask_servers]
typ=M
add="*|All servers|*|all_servers"
ask=0
bef="Oracle WebLogic Server list for '${dom}' Domain ('${nod}' Node):"
dft="${TMP_DFT_SERVERS}"
dsc="Server list for Domain ${TMP_CNT} (Node ${TMP_NOD_CNT})"
dup="Server already selected"
end="."
err="Enter a menu item number only"
inp="Enter the number corresponding to the server directory name, or * to \
     select all servers, or ${end} to terminate the list"
itm="${TMP_ITM_SERVERS}"
mnu="<<I"
nam=OFA_NOD${TMP_NOD_CNT}_DOM${TMP_CNT}_WLS_SERVERS
one="*"
rsp="^"
sep="|"
val=E

[all_servers]
typ=T
dft=${TMP_ALL_SERVERS}
dsc="List all servers"
nam=OFA_NOD${TMP_NOD_CNT}_DOM${TMP_CNT}_WLS_SERVERS

[ofa_req_wreq]
typ=B
dft=1
dsc="Does OFA require Oracle WebLogic Request Handler collection?"
nam=OFA_REQ_WREQ

