# S730PWEB.cfg: Collects PeopleSoft Information from Web Application Server
# $Id: S730PWEB.cfg,v 2.7 2012/01/02 17:25:18 mschenke Exp $
# ARCS: $Header: /home/cvs/cvs/RDA_4/src/scripting/lib/modules/S730PWEB.cfg,v 2.7 2012/01/02 17:25:18 mschenke Exp $
#
# Copyright (c) 2002, 2012, Oracle and/or its affiliates. All rights reserved.
#
# Change history
# 20120102  MSC  Change the copyright notice.

###############################################################################
# Collect PeopleSoft setup information for Web Application Server
###############################################################################

#------------------------------------------------------------------------------
# Module definition
#------------------------------------------------------------------------------
col=${PWEB_IN_USE}
dsc="Collects PeopleSoft Information from Web Application Server"
req=S720PSFT,*?PWEB_REQ_IAS:S300IAS,*?PWEB_REQ_IAS:S310J2EE,\
             *?PWEB_REQ_WLS:S301WLS
rpt=PWEB_IN_USE
trg=?PWEB_REQ_IAS:S300IAS,?PWEB_REQ_IAS:S310J2EE,?PWEB_REQ_WLS:S301WLS
ttl="Oracle Product Settings"
var=force_pweb_tests

#------------------------------------------------------------------------------
# Setting definitions
#------------------------------------------------------------------------------
[force_pweb_tests]
typ=B
alt=check_psft
dft=0
nam=-
var=pweb_in_use

[check_psft]
typ=B
alt=no_pweb
dft=${PSFT_IN_USE}
nam=-
var=PWEB_IN_USE

[no_pweb]
typ=B
dft=0
dsc="Is PeopleSoft information from Web Application Server requested?"
nam=PWEB_IN_USE

[pweb_in_use]
typ=B
dft=1
dsc="Is PeopleSoft information from Web Application Server requested?"
nam=PWEB_IN_USE
var=install_dir,PWEB_TYPE,PWEB_PATH,PWEB_VERSION,PWEB_REQ_IAS,PWEB_REQ_WLS

[PWEB_IN_USE]
typ=B
dft=${RDA_DEFAULT:0}
dsc="Is PeopleSoft information from Web Application Server requested?"
inp="Should RDA analyze PeopleSoft information from Web Application Server \
     (Y/N)?"
var=install_dir,PWEB_TYPE,PWEB_PATH,PWEB_VERSION,PWEB_REQ_IAS,PWEB_REQ_WLS

[install_dir]
typ=D
dft=${PSFT_HOME}/webserv
nam=-TMP_INSTALL_DIR
var=install_log,get_definition,get_type,get_path,get_version,

[install_log]
typ=F
dft="<<Search:TMP_INSTALL_DIR:pr2:^piaInstallLog\.xml$"
nam=-TMP_INSTALL_LOG

[get_definition]
typ=T
dft="<<CONFIG:TMP_INSTALL_LOG:1:(<WebServer\sPath=.*)"
nam=-TMP_DEFINITION

[get_type]
typ=I
dft='re:TMP_DEFINITION:1:Type="([^"]*)"'
nam=-TMP_PWEB_TYPE

[get_path]
typ=I
dft='re:TMP_DEFINITION:1:WebServer\sPath="([^"]*)"'
nam=-TMP_PWEB_PATH

[get_version]
typ=I
dft='re:TMP_DEFINITION:1:Version="([^"]*)"'
nam=-TMP_PWEB_VERSION

[PWEB_TYPE]
typ=M
dft=${TMP_PWEB_TYPE:oas}
bef="This module supports the following web application server types:"
dsc="Web Application Server type"
err="Not a valid menu item"
inp="\nSelect the Web Application Server type"
itm="1|Oracle Application Server|\
     2|Oracle WebLogic Server|\
     3|IBM WebSphere Server"
mnu="<<N"
rsp="1|oas|oas|oas|\
     2|weblogic|wls|weblogic|weblogic|weblogic|\
     3|websphere|wsp|websphere|websphere|websphere"
val=F

[PWEB_PATH]
typ=D
dft=${TMP_PWEB_PATH}
dsc="Web Application Server home directory"
err="The specified directory does not -yet- exist"
inp="Enter the Web Application Server home directory"
val=E

[PWEB_VERSION]
typ=T
dft=${TMP_PWEB_VERSION}
dsc="Web Application Server version"
err="Not a valid Web Application Server version"
inp="Enter the Web Application Server version"

[PWEB_REQ_IAS]
typ=I
dft="member:PWEB_TYPE:oas"
dsc="Oracle Internet Application Server involved?"

[PWEB_REQ_WLS]
typ=I
dft="member:PWEB_TYPE:weblogic"
dsc="Oracle WebLogic Server involved?"
