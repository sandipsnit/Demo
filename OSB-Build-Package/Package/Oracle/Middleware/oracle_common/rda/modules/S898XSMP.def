# S898XSMP.def: Samples User Defined Data
# $Id: S898XSMP.def,v 2.5 2012/01/03 13:34:47 mschenke Exp $
# ARCS: $Header: /home/cvs/cvs/RDA_4/src/scripting/lib/modules/S898XSMP.def,v 2.5 2012/01/03 13:34:47 mschenke Exp $
#
# Change History
# 20120103  MSC  Change the copyright notice.

=head1 NAME

S898XSMP - Samples User Specified Data

=head1 DESCRIPTION

This module performs the extra user-defined samplings. Sample files are created
only when the command produces output.

You can add extra commands for collecting data. The report name is specified
as the first argument. It must start with a letter.

  <rda> -X RDA::Extra add_smpl name command ...

The list of extra collection requests can be obtained as follows:

  <rda> -X RDA::Extra list

You can remove extra elements selectively from the list as follows:

  <rda> -X RDA::Extra del_extra pos ...

C<pos> represents the position of the element in the list. Alternatively, the
list can be cleared completely by running the setup again for the
corresponding module. For example:

  <rda> -S XTRA

=cut

# Only execute the module in sampling mode
if !getSetting('SMPL_CURRENT')
 return

# Initialization
var $FACTOR = getSetting('XSMP_FACTOR',1)

# Execute user defined commands
report extra
loop $key (grepSetting('^EXTRA_SMPL'))
{if getSetting($key,undef,true)
 {var ($ttl,@cmd) = split('\n',last)
  report $ttl
  call writeCommand(join(' ',@cmd),$FACTOR)
 }
}

=head1 SEE ALSO

L<S998XTRA.def|modules::S998XTRA>

=head1 COPYRIGHT NOTICE

Copyright (c) 2002, 2012, Oracle and/or its affiliates. All rights reserved.

=head1 TRADEMARK NOTICE

Oracle and Java are registered trademarks of Oracle and/or its
affiliates. Other names may be trademarks of their respective owners.

=cut
