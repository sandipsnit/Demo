<?xml version='1.0'?>

<!-- Copyright (c) 2007, 2008, Oracle and/or its affiliates.
All rights reserved. -->

<!-- $Header: emas/sysman/admin/metadata/oc4j.xml /st_emasgc_project-21452/2 2008/12/05 12:21:43 cmrozien Exp $ -->

<!--
   This file deinfes all OC4J metrics/

   MODIFIED    (MM/DD/YY)
   cmrozien     12/04/08 - remove obsolete oc4j_soa_composite.xmlp
   sreddy       09/20/08 - remove log metrics
   msasidha     05/21/08 - bug 6474045
   bevoss       05/07/08 - Remove cmdb mas references
   klmichae     04/08/08 - change jta metric columns
   edgallag     03/27/08 - Make metric names unique
   asanyal      03/20/08 - 
   klmichae     02/01/08 - add additional columns to instance rollup metric
-->

<!-- This XML document can be obtained at
'http://klmichae-sun:7777/j2ee/servlet/AggreSpy?format=targetmetadata'.
Save it to a file named 'dms_klmichae-sun_7777.xml' under
%EMD_HOME%/sysman/admin/metadata directory of your Oracle
Enterprise Management Daemon (EMD) installation.
Also copy thee following XML block into
your targets.xml file under %EMD_HOME%/sysman/emd directory.

<Target TYPE='oc4j' NAME='oc4j' VERSION='2.0'>
 <Property NAME='HTTPMachine' VALUE='klmichae-sun' />
 <Property NAME='OracleHome' VALUE='/ade/klmichae_emdw_ade/oracle' />
 <Property NAME='version' VALUE='9.0.3'>
</Target> 

To monitor IAS processes in a remote host, insert the
following 'OPMNPort' property inside <Target> tag.
It takes precedent over 'OracleHome' property.

 <Property NAME='OPMNPort' VALUE='6200' />

EMD's global proxy settings is used by default. Users are
allows to use their own proxy settings or to turn default
proxy off.  To turn off default proxy, insert the
following 'useDefaultProxy' property inside <Target>
tag:

 <Property NAME='useDefaultProxy' VALUE='false' />

To specify a desired proxy, insert the following properties
inside <Target> tag with appropriate values:

 <Property NAME='useDefaultProxy' VALUE='false' />
 <Property NAME='proxyHostOverride' VALUE='%PROXY_HOST%' />
 <Property NAME='proxyPortOverride' VALUE='%PROXY_PORT%' />

To connect to a Basic authorization protected IAS site,
insert the following properties inside <Target> tag with
appropriate values:

 <Property NAME='authRealm' VALUE='%REALM%' />
 <Property NAME='authUser' VALUE='%USERNAME%' />
 <Property NAME='authPasswd' VALUE='%PASSWORD%' />

-->

<!DOCTYPE TargetMetadata SYSTEM "../dtds/TargetMetadata.dtd" [
<!ENTITY oc4j_ws_metrics SYSTEM "./oc4j_ws_metrics.xmlp">
<!ENTITY adf_metric SYSTEM "./adf.xmlp">
]>

<TargetMetadata META_VER='11.00000' TYPE='oc4j' CATEGORY_PROPERTIES="VersionCategory">
<Display>
 <Label NLSID='oracle_dms_name'>OC4J</Label>
 <ShortName NLSID='oracle_dms_name'>OC4J</ShortName>
 <Description NLSID='oracle_dms_desc'>OC4J Description</Description>
</Display>

  <AssocTarget ASSOCIATION_NAME="ias" ASSOC_TARGET_TYPE="oracle_ias"/>
  <AssocTarget ASSOCIATION_NAME="farm" ASSOC_TARGET_TYPE="oracle_mas_farm"/>

  &oc4j_ws_metrics;
  &adf_metric;

  <!-- Metric ApplicationInfo -->
  <Metric NAME="ApplicationInfo" TYPE="RAW" CONFIG="TRUE">
    <ValidMidTierVersions START_VER="10.2.0.0.0" />
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
    </ValidIf>
    <TableDescriptor TABLE_NAME="MGMT_OC4J_APPLICATIONINFO">
      <ColumnDescriptor NAME="ApplicationName"  COLUMN_NAME="APPLICATIONNAME"  TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="ParentName"       COLUMN_NAME="PARENTNAME"       TYPE="STRING" />
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="OSLineToken" ON_TARGET="TRUE">
      <Property NAME="scriptsDir" SCOPE="SYSTEMGLOBAL">scriptsDir</Property>
      <Property NAME="oracleHome" SCOPE="INSTANCE">OracleHome</Property>
      <Property NAME="targetName" SCOPE="INSTANCE">DISPLAY_NAME</Property>
      <Property NAME="VersionCategory" SCOPE="INSTANCE">VersionCategory</Property>
      <Property NAME="perlBin" SCOPE="SYSTEMGLOBAL">perlBin</Property>
      <Property NAME="command" SCOPE="GLOBAL">"%perlBin%/perl" "%scriptsDir%/ias/oc4j/getAppInfo.pl" "%oracleHome%" "%targetName%" "%VersionCategory%"</Property>
      <Property NAME="startsWith" SCOPE="GLOBAL">em_result=</Property>
      <Property NAME="warningStartsWith" SCOPE="GLOBAL">em_warning=</Property>
      <Property NAME="delimiter" SCOPE="GLOBAL">|</Property>
    </QueryDescriptor>
  </Metric>

  <!-- Metric DataSources -->
  <!-- Version of the metric for 10.2.0.2.0 and later OMS -->
  <Metric NAME="DataSources" TYPE="RAW" CONFIG="TRUE">
    <ValidMidTierVersions START_VER="10.2.0.2.0" />
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus" />
    </ValidIf>
    <TableDescriptor TABLE_NAME="MGMT_OC4J_DATASOURCES">
      <ColumnDescriptor NAME="Name"              COLUMN_NAME="NAME"              TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="Application"       COLUMN_NAME="APPLICATION"       TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="Location"          COLUMN_NAME="LOCATION"          TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="Class"             COLUMN_NAME="CLASS"             TYPE="STRING" />
      <ColumnDescriptor NAME="Driver"            COLUMN_NAME="DRIVER"            TYPE="STRING" />
      <ColumnDescriptor NAME="URL"               COLUMN_NAME="URL"               TYPE="STRING" />
      <ColumnDescriptor NAME="MaxConnections"    COLUMN_NAME="MAXCONNECTIONS"    TYPE="NUMBER" />
      <ColumnDescriptor NAME="MinConnections"    COLUMN_NAME="MINCONNECTIONS"    TYPE="NUMBER" />
      <ColumnDescriptor NAME="WaitTimeout"       COLUMN_NAME="WAITTIMEOUT"       TYPE="NUMBER" />
      <ColumnDescriptor NAME="InactivityTimeout" COLUMN_NAME="INACTIVITYTIMEOUT" TYPE="NUMBER" />
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="OSLineToken" ON_TARGET="TRUE">
      <Property NAME="scriptsDir" SCOPE="SYSTEMGLOBAL">scriptsDir</Property>
      <Property NAME="oracleHome" SCOPE="INSTANCE">OracleHome</Property>
      <Property NAME="targetName" SCOPE="INSTANCE">DISPLAY_NAME</Property>
      <Property NAME="perlBin" SCOPE="SYSTEMGLOBAL">perlBin</Property>
      <Property NAME="command" SCOPE="GLOBAL">"%perlBin%/perl" "%scriptsDir%/ias/oc4j/getDataSources.pl" "%oracleHome%" "%targetName%"</Property>
      <Property NAME="startsWith" SCOPE="GLOBAL">em_result=</Property>
      <Property NAME="warningStartsWith" SCOPE="GLOBAL">em_warning=</Property>
      <Property NAME="delimiter" SCOPE="GLOBAL">|</Property>
    </QueryDescriptor>
  </Metric>
  <!-- Version of the metric for 10.2.0.1.0 OMS -->
  <Metric NAME="DataSources" TYPE="RAW" CONFIG="TRUE">
    <ValidMidTierVersions START_VER="10.2.0.0.0" END_VER="10.2.0.2.0" />
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus" />
    </ValidIf>
    <TableDescriptor TABLE_NAME="MGMT_OC4J_DATASOURCES">
      <ColumnDescriptor NAME="Name"              COLUMN_NAME="NAME"              TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="Location"          COLUMN_NAME="LOCATION"          TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="Class"             COLUMN_NAME="CLASS"             TYPE="STRING" />
      <ColumnDescriptor NAME="Driver"            COLUMN_NAME="DRIVER"            TYPE="STRING" />
      <ColumnDescriptor NAME="URL"               COLUMN_NAME="URL"               TYPE="STRING" />
      <ColumnDescriptor NAME="MaxConnections"    COLUMN_NAME="MAXCONNECTIONS"    TYPE="NUMBER" />
      <ColumnDescriptor NAME="MinConnections"    COLUMN_NAME="MINCONNECTIONS"    TYPE="NUMBER" />
      <ColumnDescriptor NAME="WaitTimeout"       COLUMN_NAME="WAITTIMEOUT"       TYPE="NUMBER" />
      <ColumnDescriptor NAME="InactivityTimeout" COLUMN_NAME="INACTIVITYTIMEOUT" TYPE="NUMBER" />
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="OSLineToken" ON_TARGET="TRUE">
      <Property NAME="scriptsDir" SCOPE="SYSTEMGLOBAL">scriptsDir</Property>
      <Property NAME="oracleHome" SCOPE="INSTANCE">OracleHome</Property>
      <Property NAME="targetName" SCOPE="INSTANCE">DISPLAY_NAME</Property>
      <Property NAME="perlBin" SCOPE="SYSTEMGLOBAL">perlBin</Property>
      <Property NAME="command" SCOPE="GLOBAL">"%perlBin%/perl" "%scriptsDir%/ias/oc4j/getDataSources.pl" "%oracleHome%" "%targetName%" "default-app-only"</Property>
      <Property NAME="startsWith" SCOPE="GLOBAL">em_result=</Property>
      <Property NAME="warningStartsWith" SCOPE="GLOBAL">em_warning=</Property>
      <Property NAME="delimiter" SCOPE="GLOBAL">|</Property>
    </QueryDescriptor>
  </Metric>

  <!-- Metric NativeDataSources -->
  <Metric NAME="NativeDataSources" TYPE="RAW" CONFIG="TRUE">
    <ValidMidTierVersions START_VER="10.2.0.2.0" />
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="1013plus"/>
    </ValidIf>
    <TableDescriptor TABLE_NAME="MGMT_OC4J_NATIVEDATASOURCES">
      <ColumnDescriptor NAME="Name"              COLUMN_NAME="NAME"              TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="Application"       COLUMN_NAME="APPLICATION"       TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="Location"          COLUMN_NAME="LOCATION"          TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="Class"             COLUMN_NAME="CLASS"             TYPE="STRING" />
      <ColumnDescriptor NAME="URL"               COLUMN_NAME="URL"               TYPE="STRING" />
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="OSLineToken" ON_TARGET="TRUE">
      <Property NAME="scriptsDir" SCOPE="SYSTEMGLOBAL">scriptsDir</Property>
      <Property NAME="oracleHome" SCOPE="INSTANCE">OracleHome</Property>
      <Property NAME="targetName" SCOPE="INSTANCE">DISPLAY_NAME</Property>
      <Property NAME="perlBin" SCOPE="SYSTEMGLOBAL">perlBin</Property>
      <Property NAME="command" SCOPE="GLOBAL">"%perlBin%/perl" "%scriptsDir%/ias/oc4j/getNativeDataSources.pl" "%oracleHome%" "%targetName%"</Property>
      <Property NAME="startsWith" SCOPE="GLOBAL">em_result=</Property>
      <Property NAME="warningStartsWith" SCOPE="GLOBAL">em_warning=</Property>
      <Property NAME="delimiter" SCOPE="GLOBAL">|</Property>
    </QueryDescriptor>
  </Metric>

  <!-- Metric ManagedDataSources -->
  <Metric NAME="ManagedDataSources" TYPE="RAW" CONFIG="TRUE">
    <ValidMidTierVersions START_VER="10.2.0.2.0" />
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="1013plus"/>
    </ValidIf>
    <TableDescriptor TABLE_NAME="MGMT_OC4J_MANAGEDDATASOURCES">
      <ColumnDescriptor NAME="Name"              COLUMN_NAME="NAME"              TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="Application"        COLUMN_NAME="APPLICATION"      TYPE="STRING" IS_KEY="TRUE"/>
      <ColumnDescriptor NAME="Location"          COLUMN_NAME="LOCATION"          TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="ConnectionPool"    COLUMN_NAME="CONNECTIONPOOL"    TYPE="STRING" />
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="OSLineToken" ON_TARGET="TRUE">
      <Property NAME="scriptsDir" SCOPE="SYSTEMGLOBAL">scriptsDir</Property>
      <Property NAME="oracleHome" SCOPE="INSTANCE">OracleHome</Property>
      <Property NAME="targetName" SCOPE="INSTANCE">DISPLAY_NAME</Property>
      <Property NAME="perlBin" SCOPE="SYSTEMGLOBAL">perlBin</Property>
      <Property NAME="command" SCOPE="GLOBAL">"%perlBin%/perl" "%scriptsDir%/ias/oc4j/getManagedDataSources.pl" "%oracleHome%" "%targetName%"</Property>
      <Property NAME="startsWith" SCOPE="GLOBAL">em_result=</Property>
      <Property NAME="warningStartsWith" SCOPE="GLOBAL">em_warning=</Property>
      <Property NAME="delimiter" SCOPE="GLOBAL">|</Property>
    </QueryDescriptor>
  </Metric>

  <!-- Metric ConnectionPools -->
  <Metric NAME="ConnectionPools" TYPE="RAW" CONFIG="TRUE">
    <ValidMidTierVersions START_VER="10.2.0.2.0" />
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="1013plus"/>
    </ValidIf>
    <TableDescriptor TABLE_NAME="MGMT_OC4J_CONNECTIONPOOLS">
      <ColumnDescriptor NAME="Name"              COLUMN_NAME="NAME"              TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="Application"      COLUMN_NAME="APPLICATION"  TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="Class"             COLUMN_NAME="CLASS"             TYPE="STRING" />
      <ColumnDescriptor NAME="URL"               COLUMN_NAME="URL"               TYPE="STRING" />
      <ColumnDescriptor NAME="MaxConnections"    COLUMN_NAME="MAXCONNECTIONS"    TYPE="NUMBER" />
      <ColumnDescriptor NAME="MinConnections"    COLUMN_NAME="MINCONNECTIONS"    TYPE="NUMBER" />
      <ColumnDescriptor NAME="WaitTimeout"       COLUMN_NAME="WAITTIMEOUT"       TYPE="NUMBER" />
      <ColumnDescriptor NAME="InactivityTimeout" COLUMN_NAME="INACTIVITYTIMEOUT" TYPE="NUMBER" />
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="OSLineToken" ON_TARGET="TRUE">
      <Property NAME="scriptsDir" SCOPE="SYSTEMGLOBAL">scriptsDir</Property>
      <Property NAME="oracleHome" SCOPE="INSTANCE">OracleHome</Property>
      <Property NAME="targetName" SCOPE="INSTANCE">DISPLAY_NAME</Property>
      <Property NAME="perlBin" SCOPE="SYSTEMGLOBAL">perlBin</Property>
      <Property NAME="command" SCOPE="GLOBAL">"%perlBin%/perl" "%scriptsDir%/ias/oc4j/getConnectionPools.pl" "%oracleHome%" "%targetName%"</Property>
      <Property NAME="startsWith" SCOPE="GLOBAL">em_result=</Property>
      <Property NAME="warningStartsWith" SCOPE="GLOBAL">em_warning=</Property>
      <Property NAME="delimiter" SCOPE="GLOBAL">|</Property>
    </QueryDescriptor>
  </Metric>

  <!-- Metric DataSourcesTopo -->
  <Metric NAME="DataSourcesTopo" TYPE="RAW" USAGE_TYPE="COLLECT_UPLOAD">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus"/>
    </ValidIf>
    <ValidMidTierVersions START_VER="10.2.0.2.0" />
    <TableDescriptor TABLE_NAME="MGMT_TOPO_OC4J_DATASOURCES">
      <ColumnDescriptor NAME="Name"              COLUMN_NAME="NAME"              TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="Application"       COLUMN_NAME="APPLICATION"       TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="Location"          COLUMN_NAME="LOCATION"          TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="URL"               COLUMN_NAME="URL"               TYPE="STRING" />
    </TableDescriptor>
    <ExecutionDescriptor>
      <GetTable NAME="DataSources" />
    </ExecutionDescriptor>
  </Metric>
  <Metric NAME="DataSourcesTopo" TYPE="RAW" USAGE_TYPE="COLLECT_UPLOAD">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus"/>
    </ValidIf>
    <ValidMidTierVersions START_VER="10.2.0.0.0" END_VER="10.2.0.2.0" />
    <TableDescriptor TABLE_NAME="MGMT_TOPO_OC4J_DATASOURCES">
      <ColumnDescriptor NAME="Name"              COLUMN_NAME="NAME"              TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="Location"          COLUMN_NAME="LOCATION"          TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="URL"               COLUMN_NAME="URL"               TYPE="STRING" />
    </TableDescriptor>
    <ExecutionDescriptor>
      <GetTable NAME="DataSources" />
    </ExecutionDescriptor>
  </Metric>

  <!-- Metric NativeDataSourcesTopo -->
  <Metric NAME="NativeDataSourcesTopo" TYPE="RAW" USAGE_TYPE="COLLECT_UPLOAD">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="1013plus"/>
    </ValidIf>
    <ValidMidTierVersions START_VER="10.2.0.2.0" />
    <TableDescriptor TABLE_NAME="MGMT_TOPO_OC4J_NATIVEDS">
      <ColumnDescriptor NAME="Name"              COLUMN_NAME="NAME"              TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="Application"       COLUMN_NAME="APPLICATION"       TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="Location"          COLUMN_NAME="LOCATION"          TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="URL"               COLUMN_NAME="URL"               TYPE="STRING" />
    </TableDescriptor>
    <ExecutionDescriptor>
      <GetTable NAME="NativeDataSources" />
    </ExecutionDescriptor>
  </Metric>

  <!-- Metric ConnectionPoolsTopo -->
  <Metric NAME="ConnectionPoolsTopo" TYPE="RAW" USAGE_TYPE="COLLECT_UPLOAD">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="1013plus"/>
    </ValidIf>
    <ValidMidTierVersions START_VER="10.2.0.2.0" />
    <TableDescriptor TABLE_NAME="MGMT_TOPO_OC4J_CONNPOOLS">
      <ColumnDescriptor NAME="Name"              COLUMN_NAME="NAME"              TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="Application"       COLUMN_NAME="APPLICATION"       TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="URL"               COLUMN_NAME="URL"               TYPE="STRING" />
    </TableDescriptor>
    <ExecutionDescriptor>
      <GetTable NAME="ConnectionPools" />
    </ExecutionDescriptor>
  </Metric>

  <!-- Metric AppRoutingIds -->  
  <Metric NAME="AppRoutingIds" TYPE="RAW" USAGE_TYPE="COLLECT_UPLOAD">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="1013plus"/>
    </ValidIf>
    <ValidMidTierVersions START_VER="10.2.0.2.0" />
    <TableDescriptor TABLE_NAME="MGMT_TOPO_OC4J_ROUTINGIDS">
      <ColumnDescriptor NAME="Application"        COLUMN_NAME="APPLICATION"      TYPE="STRING" IS_KEY="TRUE"/>
      <ColumnDescriptor NAME="RoutingId"          COLUMN_NAME="ROUTING_ID"       TYPE="STRING" IS_KEY="FALSE"/>
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="OSLineToken" ON_TARGET="TRUE">
      <Property NAME="scriptsDir" SCOPE="SYSTEMGLOBAL">scriptsDir</Property>
      <Property NAME="oracleHome" SCOPE="INSTANCE">OracleHome</Property>
      <Property NAME="targetName" SCOPE="INSTANCE">DISPLAY_NAME</Property>
      <Property NAME="VersionCategory" SCOPE="INSTANCE">VersionCategory</Property>
      <Property NAME="perlBin" SCOPE="SYSTEMGLOBAL">perlBin</Property>
      <Property NAME="command" SCOPE="GLOBAL">"%perlBin%/perl" "%scriptsDir%/ias/oc4j/getAppRoutingIds.pl" "%oracleHome%" "%targetName%" "%VersionCategory%"</Property>
      <Property NAME="startsWith" SCOPE="GLOBAL">em_result=</Property>
      <Property NAME="warningStartsWith" SCOPE="GLOBAL">em_warning=</Property>
      <Property NAME="delimiter" SCOPE="GLOBAL">|</Property>
    </QueryDescriptor>
  </Metric>

  <!-- Metric WebModuleRoutingFlags -->  
  <Metric NAME="WebModuleRoutingFlags" TYPE="RAW" USAGE_TYPE="COLLECT_UPLOAD">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="1013plus"/>
    </ValidIf>
    <ValidMidTierVersions START_VER="10.2.0.2.0" />
    <TableDescriptor TABLE_NAME="MGMT_TOPO_OC4J_OHSROUTING">
      <ColumnDescriptor NAME="WebModule"        COLUMN_NAME="WEBMODULE"    TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="Application"      COLUMN_NAME="APPLICATION"  TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="RootContext"      COLUMN_NAME="ROOT_CONTEXT" TYPE="STRING" IS_KEY="TRUE"/>
      <ColumnDescriptor NAME="OhsRouting"       COLUMN_NAME="OHS_ROUTING"  TYPE="NUMBER" IS_KEY="FALSE"/>
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="OSLineToken" ON_TARGET="TRUE">
      <Property NAME="scriptsDir" SCOPE="SYSTEMGLOBAL">scriptsDir</Property>
      <Property NAME="oracleHome" SCOPE="INSTANCE">OracleHome</Property>
      <Property NAME="targetName" SCOPE="INSTANCE">DISPLAY_NAME</Property>
      <Property NAME="VersionCategory" SCOPE="INSTANCE">VersionCategory</Property>
      <Property NAME="perlBin" SCOPE="SYSTEMGLOBAL">perlBin</Property>
      <Property NAME="command" SCOPE="GLOBAL">"%perlBin%/perl" "%scriptsDir%/ias/oc4j/getWebModuleRoutingFlags.pl" "%oracleHome%" "%targetName%" "%VersionCategory%"</Property>
      <Property NAME="startsWith" SCOPE="GLOBAL">em_result=</Property>
      <Property NAME="warningStartsWith" SCOPE="GLOBAL">em_warning=</Property>
      <Property NAME="delimiter" SCOPE="GLOBAL">|</Property>
    </QueryDescriptor>
  </Metric>

  <!-- Metric OC4J configuration files Password Indirection -->
  <Metric NAME="Password_Indirection" TYPE="RAW" CONFIG="TRUE">
    <ValidMidTierVersions START_VER="10.2.0.0.0" />
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
    </ValidIf>
    <TableDescriptor TABLE_NAME="ESM_COLLECTION">
      <ColumnDescriptor NAME="PROPERTY"       COLUMN_NAME="PROPERTY"       TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="VALUE"          COLUMN_NAME="VALUE"          TYPE="STRING" IS_KEY="FALSE" />
      <ColumnDescriptor NAME="VALUE2"         COLUMN_NAME="VALUE2"         TYPE="STRING" IS_KEY="TRUE" />
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="OSLineToken" ON_TARGET="TRUE">
      <Property NAME="scriptsDir" SCOPE="SYSTEMGLOBAL">scriptsDir</Property>
      <Property NAME="oracleHome" SCOPE="INSTANCE">OracleHome</Property>
      <Property NAME="targetName" SCOPE="INSTANCE">DISPLAY_NAME</Property>
      <Property NAME="perlBin" SCOPE="SYSTEMGLOBAL">perlBin</Property>
      <Property NAME="command" SCOPE="GLOBAL">"%perlBin%/perl" "%scriptsDir%/ias/oc4j/getPasswordIndirection.pl" "%oracleHome%" "%targetName%"</Property>
      <Property NAME="startsWith" SCOPE="GLOBAL">em_result=</Property>
      <Property NAME="warningStartsWith" SCOPE="GLOBAL">em_warning=</Property>
      <Property NAME="delimiter" SCOPE="GLOBAL">|</Property>
    </QueryDescriptor>
  </Metric>

  <!-- Metric ResourceConfig -->
  <Metric NAME="ResourceConfig" TYPE="RAW" CONFIG="TRUE">
    <ValidMidTierVersions START_VER="10.2.0.0.0" />
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
    </ValidIf>
    <TableDescriptor TABLE_NAME="MGMT_OC4J_RESOURCECONFIG">
      <ColumnDescriptor NAME="StartHeap"        COLUMN_NAME="STARTHEAP"        TYPE="NUMBER" />
      <ColumnDescriptor NAME="MaxHeap"          COLUMN_NAME="MAXHEAP"          TYPE="NUMBER" />
      <ColumnDescriptor NAME="NumJVMs"          COLUMN_NAME="NUMJVMS"          TYPE="NUMBER" />
   </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="OSLineToken" ON_TARGET="TRUE">
      <Property NAME="scriptsDir" SCOPE="SYSTEMGLOBAL">scriptsDir</Property>
      <Property NAME="oracleHome" SCOPE="INSTANCE">OracleHome</Property>
      <Property NAME="targetName" SCOPE="INSTANCE">DISPLAY_NAME</Property>
      <Property NAME="perlBin" SCOPE="SYSTEMGLOBAL">perlBin</Property>
      <Property NAME="command" SCOPE="GLOBAL">"%perlBin%/perl" "%scriptsDir%/ias/oc4j/getResourceConfig.pl" "%oracleHome%" "%targetName%"</Property>
      <Property NAME="startsWith" SCOPE="GLOBAL">em_result=</Property>
      <Property NAME="warningStartsWith" SCOPE="GLOBAL">em_warning=</Property>
      <Property NAME="delimiter" SCOPE="GLOBAL">|</Property>
    </QueryDescriptor>
  </Metric>

  <!-- Metric PortRanges -->
  <Metric NAME="PortRanges" TYPE="RAW" CONFIG="TRUE">
    <ValidMidTierVersions START_VER="10.2.0.0.0" />
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
    </ValidIf>
    <TableDescriptor TABLE_NAME="MGMT_OC4J_PORTRANGES">
      <ColumnDescriptor NAME="ID"               COLUMN_NAME="ID"               TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="Range"            COLUMN_NAME="RANGE"            TYPE="STRING" />
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="OSLineToken" ON_TARGET="TRUE">
      <Property NAME="scriptsDir" SCOPE="SYSTEMGLOBAL">scriptsDir</Property>
      <Property NAME="oracleHome" SCOPE="INSTANCE">OracleHome</Property>
      <Property NAME="targetName" SCOPE="INSTANCE">DISPLAY_NAME</Property>
      <Property NAME="perlBin" SCOPE="SYSTEMGLOBAL">perlBin</Property>
      <Property NAME="command" SCOPE="GLOBAL">"%perlBin%/perl" "%scriptsDir%/ias/oc4j/getPortRanges.pl" "%oracleHome%" "%targetName%"</Property>
      <Property NAME="startsWith" SCOPE="GLOBAL">em_result=</Property>
      <Property NAME="warningStartsWith" SCOPE="GLOBAL">em_warning=</Property>
      <Property NAME="delimiter" SCOPE="GLOBAL">|</Property>
    </QueryDescriptor>
  </Metric>

  <!-- Metric WebModuleURLs -->
  <Metric NAME="WebModuleURLs" TYPE="RAW" CONFIG="TRUE">
    <ValidMidTierVersions START_VER="10.2.0.0.0" />
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
    </ValidIf>
    <TableDescriptor TABLE_NAME="MGMT_OC4J_WEBMODULEURLS">
      <ColumnDescriptor NAME="ModuleName"       COLUMN_NAME="MODULENAME"       TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="ApplicationName"  COLUMN_NAME="APPLICATIONNAME"  TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="URL"              COLUMN_NAME="URL"              TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="LoadOnStartup"    COLUMN_NAME="LOADONSTARTUP"    TYPE="NUMBER" />
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="OSLineToken" ON_TARGET="TRUE">
      <Property NAME="scriptsDir" SCOPE="SYSTEMGLOBAL">scriptsDir</Property>
      <Property NAME="oracleHome" SCOPE="INSTANCE">OracleHome</Property>
      <Property NAME="targetName" SCOPE="INSTANCE">DISPLAY_NAME</Property>
      <Property NAME="VersionCategory" SCOPE="INSTANCE">VersionCategory</Property>
      <Property NAME="perlBin" SCOPE="SYSTEMGLOBAL">perlBin</Property>
      <Property NAME="command" SCOPE="GLOBAL">"%perlBin%/perl" "%scriptsDir%/ias/oc4j/getWebModuleMappings.pl" "%oracleHome%" "%targetName%" "%VersionCategory%"</Property>
      <Property NAME="startsWith" SCOPE="GLOBAL">em_result=</Property>
      <Property NAME="warningStartsWith" SCOPE="GLOBAL">em_warning=</Property>
      <Property NAME="delimiter" SCOPE="GLOBAL">|</Property>
    </QueryDescriptor>
  </Metric>

  <!-- Metric WebModuleSettings -->
  <Metric NAME="WebModuleSettings" TYPE="RAW" CONFIG="TRUE">
    <ValidMidTierVersions START_VER="10.2.0.0.0" />
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
    </ValidIf>
    <TableDescriptor TABLE_NAME="MGMT_OC4J_WEBMODULESETTINGS">
      <ColumnDescriptor NAME="ApplicationName"  COLUMN_NAME="APPLICATIONNAME"  TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="ModuleName"       COLUMN_NAME="MODULENAME"       TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="JSPMode"          COLUMN_NAME="JSPMODE"          TYPE="STRING" />
      <ColumnDescriptor NAME="SessionTimeout"   COLUMN_NAME="SESSIONTIMEOUT"   TYPE="NUMBER" />
      <ColumnDescriptor NAME="Distributable"    COLUMN_NAME="DISTRIBUTABLE"    TYPE="NUMBER" />
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="OSLineToken" ON_TARGET="TRUE">
      <Property NAME="scriptsDir" SCOPE="SYSTEMGLOBAL">scriptsDir</Property>
      <Property NAME="oracleHome" SCOPE="INSTANCE">OracleHome</Property>
      <Property NAME="targetName" SCOPE="INSTANCE">DISPLAY_NAME</Property>
      <Property NAME="VersionCategory" SCOPE="INSTANCE">VersionCategory</Property>
      <Property NAME="perlBin" SCOPE="SYSTEMGLOBAL">perlBin</Property>
      <Property NAME="command" SCOPE="GLOBAL">"%perlBin%/perl" "%scriptsDir%/ias/oc4j/getWebModuleSettings.pl" "%oracleHome%" "%targetName%" "%VersionCategory%"</Property>
      <Property NAME="startsWith" SCOPE="GLOBAL">em_result=</Property>
      <Property NAME="warningStartsWith" SCOPE="GLOBAL">em_warning=</Property>
      <Property NAME="delimiter" SCOPE="GLOBAL">|</Property>
    </QueryDescriptor>
  </Metric>

  <!-- Metric GlobalWebSettings -->
  <Metric NAME="GlobalWebSettings" TYPE="RAW" CONFIG="TRUE">
    <ValidMidTierVersions START_VER="10.2.0.0.0" />
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
    </ValidIf>
    <TableDescriptor TABLE_NAME="MGMT_OC4J_GLOBALWEBSETTINGS">
      <ColumnDescriptor NAME="JSPMode"          COLUMN_NAME="JSPMODE"          TYPE="STRING" />
      <ColumnDescriptor NAME="SessionTimeout"   COLUMN_NAME="SESSIONTIMEOUT"   TYPE="NUMBER" />
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="OSLineToken" ON_TARGET="TRUE">
      <Property NAME="scriptsDir" SCOPE="SYSTEMGLOBAL">scriptsDir</Property>
      <Property NAME="oracleHome" SCOPE="INSTANCE">OracleHome</Property>
      <Property NAME="targetName" SCOPE="INSTANCE">DISPLAY_NAME</Property>
      <Property NAME="perlBin" SCOPE="SYSTEMGLOBAL">perlBin</Property>
      <Property NAME="command" SCOPE="GLOBAL">"%perlBin%/perl" "%scriptsDir%/ias/oc4j/getGlobalWebSettings.pl" "%oracleHome%" "%targetName%"</Property>
      <Property NAME="startsWith" SCOPE="GLOBAL">em_result=</Property>
      <Property NAME="warningStartsWith" SCOPE="GLOBAL">em_warning=</Property>
      <Property NAME="delimiter" SCOPE="GLOBAL">|</Property>
    </QueryDescriptor>
  </Metric>

  <!-- Metric Modules -->
  <Metric NAME="Modules" TYPE="RAW" CONFIG="TRUE" KEYS_ONLY="TRUE">
    <ValidMidTierVersions START_VER="10.2.0.0.0" />
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
    </ValidIf>
    <TableDescriptor TABLE_NAME="MGMT_OC4J_MODULES">
      <ColumnDescriptor NAME="ApplicationName"  COLUMN_NAME="APPLICATIONNAME"  TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="ModuleName"       COLUMN_NAME="MODULENAME"       TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="ModuleType"       COLUMN_NAME="MODULETYPE"       TYPE="STRING" IS_KEY="TRUE" />
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="OSLineToken" ON_TARGET="TRUE">
      <Property NAME="scriptsDir" SCOPE="SYSTEMGLOBAL">scriptsDir</Property>
      <Property NAME="oracleHome" SCOPE="INSTANCE">OracleHome</Property>
      <Property NAME="targetName" SCOPE="INSTANCE">DISPLAY_NAME</Property>
      <Property NAME="VersionCategory" SCOPE="INSTANCE">VersionCategory</Property>
      <Property NAME="perlBin" SCOPE="SYSTEMGLOBAL">perlBin</Property>
      <Property NAME="command" SCOPE="GLOBAL">"%perlBin%/perl" "%scriptsDir%/ias/oc4j/listModules.pl" "%oracleHome%" "%targetName%" "%VersionCategory%"</Property>
      <Property NAME="startsWith" SCOPE="GLOBAL">em_result=</Property>
      <Property NAME="warningStartsWith" SCOPE="GLOBAL">em_warning=</Property>
      <Property NAME="delimiter" SCOPE="GLOBAL">|</Property>
    </QueryDescriptor>
  </Metric>

  <!-- Metric DeployedApps -->
  <Metric NAME="DeployedApps" TYPE="RAW" CONFIG="TRUE" KEYS_ONLY="TRUE">
    <ValidMidTierVersions START_VER="10.2.0.0.0" />
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
    </ValidIf>
    <TableDescriptor TABLE_NAME="MGMT_OC4J_DEPLOYEDAPPS">
      <ColumnDescriptor NAME="ApplicationName"  COLUMN_NAME="APPLICATIONNAME"  TYPE="STRING" IS_KEY="TRUE" />
    </TableDescriptor>
    <ExecutionDescriptor>
      <GetTable NAME="Modules" />
      <GroupBy NAME="a" FROM_TABLE="Modules">
        <By NAME="ApplicationName" />
      </GroupBy>
    </ExecutionDescriptor>
  </Metric>

  <!-- Metric ConfigFiles -->
  <Metric NAME="ConfigFiles" TYPE="RAW" CONFIG="TRUE">
    <ValidMidTierVersions START_VER="10.2.0.0.0" />
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
    </ValidIf>
    <TableDescriptor TABLE_NAME="MGMT_OC4J_CONFIGFILES">
      <ColumnDescriptor NAME="DisplayFilePath"  COLUMN_NAME="DISPLAYFILEPATH"  TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="FilePath"         COLUMN_NAME="FILEPATH"         TYPE="STRING" />
      <ColumnDescriptor NAME="FileSize"         COLUMN_NAME="FILESIZE"         TYPE="NUMBER" />
      <ColumnDescriptor NAME="ModificationTime" COLUMN_NAME="MODIFICATIONTIME" TYPE="STRING" IS_DATE="TRUE" />
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="OSLineToken" ON_TARGET="TRUE">
      <Property NAME="scriptsDir" SCOPE="SYSTEMGLOBAL">scriptsDir</Property>
      <Property NAME="oracleHome" SCOPE="INSTANCE">OracleHome</Property>
      <Property NAME="targetName" SCOPE="INSTANCE">DISPLAY_NAME</Property>
      <Property NAME="perlBin" SCOPE="SYSTEMGLOBAL">perlBin</Property>
      <Property NAME="command" SCOPE="GLOBAL">"%perlBin%/perl" "%scriptsDir%/ias/oc4j/listConfigFiles.pl" "%oracleHome%" "false" "" "%targetName%"</Property>
      <Property NAME="startsWith" SCOPE="GLOBAL">em_result=</Property>
      <Property NAME="warningStartsWith" SCOPE="GLOBAL">em_warning=</Property>
      <Property NAME="delimiter" SCOPE="GLOBAL">|</Property>
    </QueryDescriptor>
  </Metric>
  
  <Metric NAME="ConfigFiles_Upload" TYPE="RAW">
    <ValidMidTierVersions START_VER="10.2.0.0.0" />
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
    </ValidIf>
    <TableDescriptor TABLE_NAME="MGMT_OC4J_CONFIGFILES_UPLOAD">
      <ColumnDescriptor NAME="FilePath"         COLUMN_NAME="FILECONTENT"         TYPE="CLOB" IS_FILENAME="TRUE"/>
      <ColumnDescriptor NAME="DisplayFilePath"  COLUMN_NAME="FILEPATH"  TYPE="STRING" IS_KEY="TRUE" />
      <ColumnDescriptor NAME="ModificationTime" COLUMN_NAME="MODIFICATIONTIME" TYPE="STRING" IS_DATE="TRUE" />
      <ColumnDescriptor NAME="TagetName" COLUMN_NAME="TARGET_NAME" TYPE="STRING" />
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="OSLineToken" ON_TARGET="TRUE">
      <Property NAME="TARGET_NAME" SCOPE="INSTANCE">NAME</Property> 	
      <Property NAME="scriptsDir" SCOPE="SYSTEMGLOBAL">scriptsDir</Property>
      <Property NAME="oracleHome" SCOPE="INSTANCE">OracleHome</Property>
      <Property NAME="targetName" SCOPE="INSTANCE">DISPLAY_NAME</Property>
      <Property NAME="perlBin" SCOPE="SYSTEMGLOBAL">perlBin</Property>
      <Property NAME="command" SCOPE="GLOBAL">"%perlBin%/perl" "%scriptsDir%/ias/oc4j/listConfigFiles.pl" "%oracleHome%" "true" "%NAME%" "%targetName%"</Property>
      <Property NAME="startsWith" SCOPE="GLOBAL">em_result=</Property>
      <Property NAME="warningStartsWith" SCOPE="GLOBAL">em_warning=</Property>
      <Property NAME="delimiter" SCOPE="GLOBAL">|</Property>
    </QueryDescriptor>
  </Metric>

<!-- Metric Response -->
<Metric NAME="Response" TYPE="TABLE">
  <Display>
    <Label NLSID="oc4j_response">Response</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="Status" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_response_status">UpDown Status</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="OSLineToken" ON_TARGET="TRUE">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="900"/>
      </ValidIf>
      <Property NAME="scriptsDir" SCOPE="SYSTEMGLOBAL">scriptsDir</Property>
      <Property NAME="oraclehome" SCOPE="INSTANCE">OracleHome</Property>
      <Property NAME="targetDisplayName" SCOPE="INSTANCE">DISPLAY_NAME</Property>
      <Property NAME="perlBin" SCOPE="SYSTEMGLOBAL">perlBin</Property>
      <Property NAME="command" SCOPE="GLOBAL">"%perlBin%/perl" "%scriptsDir%/oc4jresponse.pl" "%oraclehome%" "%targetDisplayName%"</Property>
      <Property NAME="startsWith" SCOPE="GLOBAL">em_result=</Property>
      <Property NAME="delimiter" SCOPE="GLOBAL">|</Property>
    </QueryDescriptor>
  <ExecutionDescriptor>
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="904plus;1013plus"/>
  </ValidIf>

    <!-- Find the rows in the opmn_process table that belong to this OC4J -->
    <GetTable NAME="opmn_process" ASSOC_TARGET="ias" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="up_process" FROM_TABLE="opmn_process">
      <Filter COLUMN_NAME="status.value" OPERATOR="EQ">Alive</Filter> 
    </GetView>
    <GetView  NAME="oc4j_process" FROM_TABLE="up_process">
      <Filter COLUMN_NAME="type.value" OPERATOR="EQ">OC4J</Filter> 
    </GetView>
    <GetView  NAME="this_oc4j_process" FROM_TABLE="oc4j_process">
      <Filter COLUMN_NAME="opmn_process_type" SCOPE="INSTANCE" OPERATOR="EQ">DISPLAY_NAME</Filter> 
    </GetView>

    <!-- If we find a row, this OC4J is up.  Otherwise, it is down -->
    <GroupBy NAME="result" FROM_TABLE="this_oc4j_process">
      <AggregateColumn  NAME="rows"
                        COLUMN_NAME ="type.value"
                        OPERATOR="COUNT" />
      <ComputeColumn    NAME="Status"
                        EXPR="(rows > 0) ? 1 : 0"/>
    </GroupBy>    
  </ExecutionDescriptor>
  <QueryDescriptor FETCHLET_ID="JMX">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
    </ValidIf>
         <Property NAME="serviceURL" SCOPE="ASSOCTGT" ASSOCIATION_NAME="farm">serviceURL</Property>
         <Property NAME="UserName" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">UserName</Property>
         <Property NAME="password" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">password</Property>
         <Property NAME="metric" SCOPE="GLOBAL">pcs_component:Response</Property>
         <Property NAME="topologyNodeID" SCOPE="INSTANCE">topologyNodeID</Property>
         <Property NAME="topologyNodeID.parameter" SCOPE="INSTANCE">topologyNodeID</Property>
         <Property NAME="MetricService" SCOPE="GLOBAL">true</Property>
         <Property NAME="columnOrder" SCOPE="GLOBAL">Status</Property>
         <Property NAME="useCache" SCOPE="GLOBAL">false</Property>
         <Property NAME="admlMap" SCOPE="GLOBAL">
           <![CDATA[<argument type="java.util.Map"><value><item><key>topologyNodeID.parameter</key><value type="java.lang.String">%topologyNodeID.parameter%</value></item></value></argument>]]>
         </Property>
  </QueryDescriptor>
</Metric>

<!-- Metric oc4j_pid -->
<Metric NAME="oc4j_pid" TYPE="TABLE" USAGE_TYPE="HIDDEN" HELP="NO_HELP">
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="900"/>
  </ValidIf>
  <Display>
    <Label NLSID="oc4j_pid">OC4J Pids</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="Pid" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_pid_Pid">PID</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="Process" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_pid_process">Process</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>
<ExecutionDescriptor> 

    <!-- Create filter so that we get metrics only for this oc4j instance -->
    <GetTable NAME="oc4j_opmn" USE_CACHE="FALSE"/> 
    <GetView  NAME="this_oc4j" FROM_TABLE="oc4j_opmn">
      <Filter COLUMN_NAME="oc4j_instance.value" SCOPE="INSTANCE" OPERATOR="EQ">DISPLAY_NAME</Filter> 
    </GetView>

    <!-- Get all the process ids for this oc4j instance -->
    <GetTable NAME="opmn_process" USE_CACHE="FALSE"/> 
    <JoinTables NAME="ret"> 
        <Table NAME="this_oc4j" />
        <Table NAME="opmn_process" />
        <Column NAME="Pid" TABLE_NAME="opmn_process" COLUMN_NAME="pid.value"/> 
        <Column NAME="Process"     TABLE_NAME="this_oc4j"    COLUMN_NAME="Process"/> 
        <Where  FROM_TABLE="this_oc4j" JOIN_TABLE="opmn_process" 
          FROM_KEY="vmId.value"  JOIN_KEY="uid.value"/> 
    </JoinTables> 
</ExecutionDescriptor> 
</Metric>

<!-- Metric _ResourceUsage -->
  <Metric NAME="_ResourceUsage" TYPE="TABLE" USAGE_TYPE="HIDDEN" HELP="NO_HELP">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900"/>
    </ValidIf>
    <Display>
      <Label NLSID="oc4j_ResourceUsage">Resource Usage</Label>
    </Display>
    <TableDescriptor>
        <ColumnDescriptor NAME="cpu.component" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
            <Label NLSID="oc4j_resource_cpu_component">CPU Usage (%)</Label>
          </Display>
        </ColumnDescriptor>
      <ColumnDescriptor NAME="memory.component" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_resource_memory_component">Memory Usage (MB)</Label>
        </Display>
      </ColumnDescriptor>
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="OSLineToken" ON_TARGET="TRUE">
      <Property NAME="scriptsDir" SCOPE="SYSTEMGLOBAL">scriptsDir</Property>
      <Property NAME="emdRoot" SCOPE="SYSTEMGLOBAL">emdRoot</Property>
      <Property NAME="oraclehome" SCOPE="INSTANCE">OracleHome</Property>
      <Property NAME="perlBin" SCOPE="SYSTEMGLOBAL">perlBin</Property>
      <Property NAME="targetDisplayName" SCOPE="INSTANCE">DISPLAY_NAME</Property>
      <Property NAME="command" SCOPE="GLOBAL">"%perlBin%/perl" "%scriptsDir%/oc4jresource.pl" "%emdRoot%" "%oraclehome%" "%targetDisplayName%"</Property>
      <Property NAME="startsWith" SCOPE="GLOBAL">em_result=</Property>
      <Property NAME="warningStartsWith" SCOPE="GLOBAL">em_warning=</Property>
      <Property NAME="delimiter" SCOPE="GLOBAL">|</Property>
    </QueryDescriptor>
  </Metric>


<!-- Metric ResourceUsage -->
<Metric NAME="ResourceUsage" TYPE="TABLE">
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="900"/>
  </ValidIf>
  <Display>
    <Label NLSID="oc4j_ResourceUsage">Resource Usage</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="cpu.component" TYPE="NUMBER" IS_KEY="FALSE">
        <Display FOR_SUMMARY_UI="TRUE">
          <Label NLSID="oc4j_resource_cpu_component">CPU Usage (%)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="cpu.other" TYPE="NUMBER" IS_KEY="FALSE">
       <Display>
       <Label NLSID="oc4j_resource_cpu_other">Other CPU Usage (%)</Label>
      </Display></ColumnDescriptor>
      <ColumnDescriptor NAME="cpu.idle" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_resource_cpu_idle">CPU Idle Time (%)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="memory.component" TYPE="NUMBER" IS_KEY="FALSE">
        <Display FOR_SUMMARY_UI="TRUE">
          <Label NLSID="oc4j_resource_memory_component">Memory Usage (MB)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="memory.total" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_resource_memory_total">Total Memory (MB)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="memoryPercentage.component" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_resource_memoryPercentage_component">Memory Usage (%)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="memory.free" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_resource_memory_free">Free Memory (MB)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="memory.other" TYPE="NUMBER" IS_KEY="FALSE">
       <Display>
       <Label NLSID="oc4j_resource_memory_other">Other Memory Usage (MB)</Label>
      </Display></ColumnDescriptor>
      <ColumnDescriptor NAME="memoryPercentage.other" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_resource_memoryPercentage_other">Other Memory Usage (%)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="memoryPercentage.free" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_resource_memoryPercentage_free">Free Memory (%)</Label>
        </Display>
      </ColumnDescriptor>

  </TableDescriptor>
    <ExecutionDescriptor>

      <GetTable NAME="Load" ASSOC_TARGET="host"/>
      <GetTable NAME="_ResourceUsage"/>
      <JoinTables NAME="LoadAndResource">
        <Table NAME="Load"/>
        <Table NAME="_ResourceUsage"/>
        <Column NAME="cpu.component" TABLE_NAME="_ResourceUsage"/>
        <Column NAME="memory.component" TABLE_NAME="_ResourceUsage"/>
        <Column NAME="cpu.total" TABLE_NAME="Load" COLUMN_NAME="cpuUtil"/>
        <Column NAME="memoryKB.total" TABLE_NAME="Load" COLUMN_NAME="realMem"/>
        <Column NAME="memoryKB.free" TABLE_NAME="Load" COLUMN_NAME="freeMem"/>
      </JoinTables>
     
      <GroupBy NAME="result" FROM_TABLE="LoadAndResource">
        <AggregateColumn  NAME="cpu.component"
                          COLUMN_NAME="cpu.component"
                          OPERATOR="AVG"/>
        <AggregateColumn  NAME="_cpu.total"
                          COLUMN_NAME="cpu.total"
                          OPERATOR="AVG"/>
        <ComputeColumn    NAME="cpu.total"
                          EXPR="(cpu.component > _cpu.total) ? cpu.component : _cpu.total"/>
        <ComputeColumn    NAME="cpu.other"
                          EXPR="cpu.total-cpu.component"/>
        <ComputeColumn    NAME="cpu.idle"
                          EXPR="100-cpu.total"/>
        <AggregateColumn  NAME="memory.component"
                          COLUMN_NAME = "memory.component"
                          OPERATOR="AVG"/>
        <AggregateColumn  NAME="memoryKB.total"
                          COLUMN_NAME = "memoryKB.total"
                          OPERATOR="AVG"/>
        <AggregateColumn  NAME="memoryKB.free"
                          COLUMN_NAME = "memoryKB.free"
                          OPERATOR="AVG"/>
        <ComputeColumn    NAME="memory.total"
                          EXPR="memoryKB.total/1024"/>
        <ComputeColumn    NAME="memory.free"
                          EXPR="memoryKB.free/1024"/>
        <ComputeColumn    NAME="memory.other"
                          EXPR="memory.total-memory.component-memory.free"/>
        <ComputeColumn    NAME="memoryPercentage.component"
                          EXPR="(memory.component*100)/memory.total"/>
        <ComputeColumn    NAME="memoryPercentage.other"
                          EXPR="(memory.other*100)/memory.total"/>
        <ComputeColumn    NAME="memoryPercentage.free"
                          EXPR="(memory.free*100)/memory.total"/>
      </GroupBy>

    </ExecutionDescriptor>
</Metric>

<!-- Metric ResourceUsage -->
<Metric NAME="ResourceUsage" TYPE="TABLE">
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="904plus;1013plus;11plus"/>
  </ValidIf>
  <Display>
    <Label NLSID="oc4j_ResourceUsage">Resource Usage</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="cpu.component" TYPE="NUMBER" IS_KEY="FALSE">
        <Display FOR_SUMMARY_UI="TRUE">
          <Label NLSID="oc4j_resource_cpu_component">CPU Usage (%)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="cpu.other" TYPE="NUMBER" IS_KEY="FALSE">
       <Display>
       <Label NLSID="oc4j_resource_cpu_other">Other CPU Usage (%)</Label>
      </Display></ColumnDescriptor>
      <ColumnDescriptor NAME="cpu.idle" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_resource_cpu_idle">CPU Idle Time (%)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="memory.component" TYPE="NUMBER" IS_KEY="FALSE">
        <Display FOR_SUMMARY_UI="TRUE">
          <Label NLSID="oc4j_resource_memory_component">Memory Usage (MB)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="memoryPercentage.component" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_resource_memoryPercentage_component">Memory Usage (%)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="memory.other" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_resource_memory_other">Other Memory Usage (MB)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="memory.free" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_resource_memory_free">Free Memory (MB)</Label>
        </Display>
      </ColumnDescriptor>

  </TableDescriptor>
  <ExecutionDescriptor>
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="904plus;1013plus"/>
    </ValidIf>

    <!-- Find the rows in the opmn_process table that belong to this OC4J -->
    <GetTable NAME="opmn_process" ASSOC_TARGET="ias" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="oc4j_process" FROM_TABLE="opmn_process">
      <Filter COLUMN_NAME="type.value" OPERATOR="EQ">OC4J</Filter> 
    </GetView>
    <GetView  NAME="this_oc4j_process" FROM_TABLE="oc4j_process">
      <Filter COLUMN_NAME="opmn_process_type" SCOPE="INSTANCE" OPERATOR="EQ">DISPLAY_NAME</Filter> 
    </GetView>

    <!-- Add the total memory and number of processors to the component_process -->
    <GetTable NAME="opmn_host_statistics" ASSOC_TARGET="ias" USE_CACHE="TRUE_IF_COLLECT"/>
    <JoinTables NAME="opmn_process_with_host_metrics"> 
      <Table NAME="opmn_host_statistics" />
      <Table NAME="this_oc4j_process" />
    </JoinTables> 
    
    <!-- Compute the cpu % and memory % numbers for each process -->
    <GroupBy NAME="component_process_by_process" FROM_TABLE="opmn_process_with_host_metrics">
      <By NAME="pid.value"/>
      <AggregateColumn  NAME="upTime.component"
                        COLUMN_NAME ="upTime.value"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="upTime.delta"
                        COLUMN_NAME ="upTime.delta"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="cpuTime.value"
                        COLUMN_NAME ="cpuTime.value"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="cpuTime.delta"
                        COLUMN_NAME ="cpuTime.delta"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="interval"
                        COLUMN_NAME ="interval"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="privateMemory.value"
                        COLUMN_NAME ="privateMemory.value"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="sharedMemory.value"
                        COLUMN_NAME ="sharedMemory.value"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="memory.total"
                        COLUMN_NAME = "memory.total"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="numProcessors.value"
                        COLUMN_NAME = "numProcessors.value"
                        OPERATOR="AVG" />                       
      <ComputeColumn    NAME="cpu.component"
                        EXPR="(interval*1000 > upTime.component) ? ((cpuTime.value*100)/(interval*1000))/numProcessors.value : ((cpuTime.delta*100)/upTime.delta)/numProcessors.value"/>
    </GroupBy>    

    <!-- Sum up the numbers for all processes for this component -->
    <GroupBy NAME="component_metrics" FROM_TABLE="component_process_by_process">
      <AggregateColumn  NAME="cpu.component"
                        COLUMN_NAME ="cpu.component"
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="privateMemory.sum"
                        COLUMN_NAME ="privateMemory.value"
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="sharedMemory.max"
                        COLUMN_NAME ="sharedMemory.value"
                        OPERATOR="MAX" />
      <ComputeColumn    NAME="memory.component"
                        EXPR="privateMemory.sum+sharedMemory.max" />
      <AggregateColumn  NAME="memory.total"
                        COLUMN_NAME = "memory.total"
                        OPERATOR="AVG" />
    </GroupBy>    

    <!-- Add in the idle cpu and free memory metrics -->
    <JoinTables NAME="component_with_system">
      <Table NAME="component_metrics" />
      <Table NAME="opmn_host_statistics" />
    </JoinTables>

    <!-- Add in metrics for other cpu and memory -->
    <GroupBy NAME="result" FROM_TABLE="component_with_system">
      <AggregateColumn  NAME="cpu.component"
                        COLUMN_NAME ="cpu.component"
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="_cpu.idle"
                        COLUMN_NAME ="cpu.idle"
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="cpu.idle"
                        EXPR="(100-cpu.component > _cpu.idle ) ? _cpu.idle : (100-cpu.component)"/>
      <ComputeColumn    NAME="cpu.other"
                        EXPR="100-cpu.component-cpu.idle"/>

      <AggregateColumn  NAME="memory.total"
                        COLUMN_NAME = "memory.total"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="memoryKB.component"
                        COLUMN_NAME ="memory.component"
                        OPERATOR="SUM" />
      <ComputeColumn    NAME="memoryMB.component"
                        EXPR="memoryKB.component/1024"/>
      <ComputeColumn    NAME="memory.component"
                        EXPR="(memoryMB.component > memory.total) ? memory.total : memoryMB.component"/>
      <ComputeColumn    NAME="memoryPercentage.component"
                        EXPR="(memory.component/memory.total)*100"/>
      <AggregateColumn  NAME="_memory.free"
                        COLUMN_NAME ="memory.free"
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="memory.free"
                        EXPR="((memory.total-memory.component) > _memory.free) ? _memory.free : (((memory.total-memory.component) > 0) ? memory.total-memory.component : 0)"/>
      <ComputeColumn    NAME="memory.other"
                        EXPR="memory.total-memory.component-memory.free"/>
    </GroupBy>    

  </ExecutionDescriptor>
  <QueryDescriptor FETCHLET_ID="JMX">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
    </ValidIf>
         <Property NAME="serviceURL" SCOPE="ASSOCTGT" ASSOCIATION_NAME="farm">serviceURL</Property>
         <Property NAME="UserName" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">UserName</Property>
         <Property NAME="password" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">password</Property>
         <Property NAME="metric" SCOPE="GLOBAL">pcs_component:ResourceUsage</Property>
         <Property NAME="topologyNodeID" SCOPE="INSTANCE">topologyNodeID</Property>
         <Property NAME="MetricService" SCOPE="GLOBAL">true</Property>
         <Property NAME="columnOrder" SCOPE="GLOBAL">cpu.component;cpu.other;cpu.idle;memory.component;memoryPercentage.component;memory.other;memory.free</Property>
         <Property NAME="topologyNodeID.parameter" SCOPE="INSTANCE">topologyNodeID</Property>
         <Property NAME="admlMap" SCOPE="GLOBAL">
           <![CDATA[<argument type="java.util.Map"><value><item><key>topologyNodeID.parameter</key><value type="java.lang.String">%topologyNodeID.parameter%</value></item></value></argument>]]>
         </Property>
  </QueryDescriptor>
</Metric>
<!-- Metric JVMResourceUsage -->
<Metric NAME="JVMResourceUsage" TYPE="TABLE" USAGE_TYPE="HIDDEN" HELP="NO_HELP">
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="900"/>
  </ValidIf>
  <Display>
    <Label NLSID="jvm_resource">JVM Resource Usage</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="pid.value" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="resource_pid">PID of the JVM</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="cpu.value" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="resource_cpu">CPU Usage (%)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="memory.value" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="resource_memory">Memory Usage (MB)</Label>
        </Display>
      </ColumnDescriptor>

  </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="OSLineToken" ON_TARGET="TRUE">
      <Property NAME="scriptsDir" SCOPE="SYSTEMGLOBAL">scriptsDir</Property>
      <Property NAME="oraclehome" SCOPE="INSTANCE">OracleHome</Property>
      <Property NAME="targetDisplayName" SCOPE="INSTANCE">DISPLAY_NAME</Property>
      <Property NAME="perlBin" SCOPE="SYSTEMGLOBAL">perlBin</Property>
      <Property NAME="command" SCOPE="GLOBAL">"%perlBin%/perl" "%scriptsDir%/oc4jjvmresource.pl" "%oraclehome%" "%targetDisplayName%"</Property>
      <Property NAME="startsWith" SCOPE="GLOBAL">em_result=</Property>
      <Property NAME="delimiter" SCOPE="GLOBAL">|</Property>
    </QueryDescriptor>
</Metric>

<!-- Metric oc4j_overview -->
<Metric NAME="oc4j_overview" TYPE="TABLE" USAGE_TYPE="REALTIME_ONLY" HELP="NO_HELP">
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" /> 
  </ValidIf>
  <Display>
    <Label NLSID="oc4j_overview">OC4J Overview Metrics</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="heap.value" TYPE="NUMBER">
        <Display>
          <Label NLSID="oc4j_instance_rollup_heap_value">OC4J Instance - Heap Usage (MB)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="startTime.value" TYPE="NUMBER">
        <Display>
          <Label NLSID="oc4j_instance_rollup_startTime_value">OC4J Instance - Start Time (ms since Epoch)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="session.active" TYPE="NUMBER">
        <Display>
          <Label NLSID="oc4j_instance_rollup_session_active">OC4J Instance - Active Sessions</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.active" TYPE="NUMBER">
        <Display>
          <Label NLSID="oc4j_instance_rollup_processRequest_active">OC4J Instance - Active Requests</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.time" TYPE="NUMBER">
        <Display>
          <Label NLSID="oc4j_instance_rollup_processRequest_time">OC4J Instance - Request Processing Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.throughput" TYPE="NUMBER">
        <Display>
          <Label NLSID="oc4j_instance_rollup_processRequest_throughput">OC4J Instance - Requests Per Second</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.active" TYPE="NUMBER">
        <Display>
          <Label NLSID="oc4j_instance_rollup_ejbMethod_active_OC4JI">OC4J Instance - Active EJB Methods</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.time" TYPE="NUMBER">
        <Display>
          <Label NLSID="oc4j_instance_rollup_ejbMethod_time_OC4J_I">OC4J Instance - EJB Method Execution Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.throughput" TYPE="NUMBER">
        <Display>
          <Label NLSID="oc4j_instance_rollup_ejbMethod_throughput">OC4J Instance - EJB Method Execution Rate (per second)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="jvm.active" TYPE="NUMBER" TRANSIENT="TRUE">
        <Display>
          <Label NLSID="oc4j_instance_rollup_jvm_active">OC4J Instance - Active JVMs</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="jdbcConnections.active" TYPE="NUMBER">
        <Display>
          <Label NLSID="oc4j_instance_rollup_jdbcConnections_active">OC4J Instance - Open JDBC Connections</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="jdbcConnections.total" TYPE="NUMBER">
        <Display>
          <Label NLSID="oc4j_instance_rollup_jdbcConnections_total">OC4J Instance - Total JDBC Connections</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="transactions.active" TYPE="NUMBER">
        <Display>
          <Label NLSID="oc4j_instance_rollup_transactions_active">OC4J Instance - Active Transactions</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="transactions.committed" TYPE="NUMBER">
        <Display>
          <Label NLSID="oc4j_instance_rollup_transactions_committed">OC4J Instance - Committed Transactions</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="transactions.aborted" TYPE="NUMBER">
        <Display>
          <Label NLSID="oc4j_instance_rollup_transactions_aborted">OC4J Instance - Aborted Transactions</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="cpu.component" TYPE="NUMBER">
        <Display>
          <Label NLSID="oc4j_resource_cpu_component">CPU Usage (%)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="memory.component" TYPE="NUMBER">
        <Display>
          <Label NLSID="oc4j_resource_memory_component">Memory Usage (MB)</Label>
        </Display>
      </ColumnDescriptor>      
  </TableDescriptor>
  <ExecutionDescriptor>
    <!-- These metrics are real-time metrics, so don't use cached values -->
    <GetTable NAME="oc4j_instance_rollup" USE_CACHE="FALSE"/>
    <GetTable NAME="ResourceUsage" USE_CACHE="FALSE"/>
    <JoinTables NAME="result"> 
      <Table NAME="oc4j_instance_rollup" />
      <Table NAME="ResourceUsage" />
    </JoinTables> 
  </ExecutionDescriptor>
</Metric>

<!-- Metric oc4j_instance_rollup (pre 11) -->
<Metric NAME="oc4j_instance_rollup" TYPE="TABLE">
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" /> 
  </ValidIf>
  <Display>
    <Label NLSID="oc4j_instance_rollup">OC4J Instance Metrics</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="heap.value" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_instance_rollup_heap_value">OC4J Instance - Heap Usage (MB)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="startTime.value" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_instance_rollup_startTime_value">OC4J Instance - Start Time (ms since Epoch)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="session.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display FOR_SUMMARY_UI="TRUE">
          <Label NLSID="oc4j_instance_rollup_session_active">OC4J Instance - Active Sessions</Label>
          <ShortName NLSID='oc4j_instance_rollup_session_active_short'>Active Sessions</ShortName>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display FOR_SUMMARY_UI="TRUE">
          <Label NLSID="oc4j_instance_rollup_processRequest_active">OC4J Instance - Active Requests</Label>
          <ShortName NLSID='oc4j_instance_rollup_processRequest_active_short'>Active Requests</ShortName>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.time" TYPE="NUMBER" IS_KEY="FALSE">
        <Display FOR_SUMMARY_UI="TRUE">
          <Label NLSID="oc4j_instance_rollup_processRequest_time">OC4J Instance - Request Processing Time (seconds)</Label>
          <ShortName NLSID='oc4j_instance_rollup_processRequest_time_short'>Request Time (sec)</ShortName>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.throughput" TYPE="NUMBER" IS_KEY="FALSE">
        <Display FOR_SUMMARY_UI="TRUE">
          <Label NLSID="oc4j_instance_rollup_processRequest_throughput">OC4J Instance - Requests Per Second</Label>
          <ShortName NLSID='oc4j_instance_rollup_processRequest_throughput_short'>Requests Per Second</ShortName>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display FOR_SUMMARY_UI="TRUE">
          <Label NLSID="oc4j_instance_rollup_ejbMethod_active_OC4JI">OC4J Instance - Active EJB Methods</Label>
          <ShortName NLSID='oc4j_instance_rollup_ejbMethod_active'>Active EJB Methods</ShortName>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.time" TYPE="NUMBER" IS_KEY="FALSE">
        <Display FOR_SUMMARY_UI="TRUE">
          <Label NLSID="oc4j_instance_rollup_ejbMethod_time_OC4J_I">OC4J Instance - EJB Method Execution Time (seconds)</Label>
          <ShortName NLSID='oc4j_instance_rollup_ejbMethod_time_short'>EJB Method Time(sec)</ShortName>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.throughput" TYPE="NUMBER" IS_KEY="FALSE">
        <Display FOR_SUMMARY_UI="TRUE">
          <Label NLSID="oc4j_instance_rollup_ejbMethod_throughput">OC4J Instance - EJB Method Execution Rate (per second)</Label>
          <ShortName NLSID='oc4j_instance_rollup_ejbMethod_throughput_short'>EJBs Per Second</ShortName>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="jvm.active" TYPE="NUMBER" IS_KEY="FALSE" TRANSIENT="TRUE">
        <Display>
          <Label NLSID="oc4j_instance_rollup_jvm_active">OC4J Instance - Active JVMs</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="jdbcConnections.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display FOR_SUMMARY_UI="TRUE">
          <Label NLSID="oc4j_instance_rollup_jdbcConnections_active">OC4J Instance - Open JDBC Connections</Label>
          <ShortName NLSID='oc4j_instance_rollup_jdbcConnections_active_short'>JDBC Connections</ShortName>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="jdbcConnections.total" TYPE="NUMBER" IS_KEY="FALSE" TRANSIENT="TRUE">
        <Display>
          <Label NLSID="oc4j_instance_rollup_jdbcConnections_total">OC4J Instance - Total JDBC Connections</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="transactions.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_instance_rollup_transactions_active">OC4J Instance - Active Transactions</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="transactions.committed" TYPE="NUMBER" IS_KEY="FALSE" TRANSIENT="TRUE">
        <Display>
          <Label NLSID="oc4j_instance_rollup_transactions_committed">OC4J Instance - Committed Transactions</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="transactions.aborted" TYPE="NUMBER" IS_KEY="FALSE" TRANSIENT="TRUE">
        <Display>
          <Label NLSID="oc4j_instance_rollup_transactions_aborted">OC4J Instance - Aborted Transactions</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>
  <ExecutionDescriptor>

    <!-- Create filter so that we get metrics only for this oc4j instance -->
    <GetTable NAME="oc4j_opmn" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="this_oc4j" FROM_TABLE="oc4j_opmn">
      <Filter COLUMN_NAME="oc4j_instance.value" SCOPE="INSTANCE" OPERATOR="EQ">DISPLAY_NAME</Filter> 
    </GetView>

    <!-- Get all the web module metrics for this oc4j instance -->
    <GetTable NAME="oc4j_context" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="filtered_oc4j_context" FROM_TABLE="oc4j_context">
      <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
    </GetView>
    <GroupBy NAME="sum_oc4j_context" FROM_TABLE="filtered_oc4j_context">
        <AggregateColumn  NAME="processRequest.deltaTimeSum" 
                          COLUMN_NAME ="processRequest.deltaTime"
                          OPERATOR="SUM" />
        <AggregateColumn  NAME ="processRequest.deltaCompletedSum" 
                          COLUMN_NAME ="processRequest.deltaCompleted"
                          OPERATOR="SUM" />
        <AggregateColumn  NAME="interval"
                          COLUMN_NAME="interval"          
                          OPERATOR="AVG" />
        <ComputeColumn    NAME="processRequest.time"            
                          EXPR="(processRequest.deltaCompletedSum != 0) ? processRequest.deltaTimeSum/processRequest.deltaCompletedSum : 0"/>
        <ComputeColumn    NAME="processRequest.throughput"            
                          EXPR="processRequest.deltaCompletedSum/interval"/>
        <AggregateColumn  NAME="processRequest.active"
                          COLUMN_NAME="processRequest.active"
                          OPERATOR="SUM"/>
        <AggregateColumn  NAME="session.active"
                          COLUMN_NAME="sessionActivation.active"
                          OPERATOR="SUM"/>
    </GroupBy>
    <GetTable NAME="oc4j_ejb_method" USE_CACHE="TRUE_IF_COLLECT"/>

    <!-- Get all the EJB method metrics for this oc4j instance -->
    <GetView NAME="filtered_oc4j_ejb_method" FROM_TABLE="oc4j_ejb_method">
        <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
    </GetView>
    <GroupBy NAME="sum_oc4j_ejb_method" FROM_TABLE="filtered_oc4j_ejb_method">
      <AggregateColumn  NAME="ejbMethod.deltaCompletedSum"
                        COLUMN_NAME="wrapper.deltaCompleted"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="ejbMethod.deltaTimeSum"
                        COLUMN_NAME="wrapper.deltaTime"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="interval"
                        COLUMN_NAME="interval"          
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="ejbMethod.throughput"            
                        EXPR="ejbMethod.deltaCompletedSum/interval"/>
      <ComputeColumn    NAME="ejbMethod.time"            
                        EXPR="(ejbMethod.deltaCompletedSum != 0) ? ejbMethod.deltaTimeSum/ejbMethod.deltaCompletedSum : 0"/>
      <AggregateColumn  NAME="ejbMethod.active"
                        COLUMN_NAME="wrapper.active"          
                        OPERATOR="SUM" />
    </GroupBy>      

    <!-- Get the process related metrics for this OC4J instance -->
    <GetTable NAME="JVM" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView NAME="filtered_JVM" FROM_TABLE="JVM">
        <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
    </GetView>
    <GroupBy NAME="sum_JVM" FROM_TABLE="filtered_JVM">
      <AggregateColumn  NAME="totalMemory.value.sum" 
                        COLUMN_NAME="totalMemory.value"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="freeMemory.value.sum" 
                        COLUMN_NAME="freeMemory.value"          
                        OPERATOR="SUM" />
      <ComputeColumn    NAME="heap.value"
                        EXPR="(totalMemory.value.sum-freeMemory.value.sum)/1024"/>
      <AggregateColumn  NAME="startTime.value" 
                        COLUMN_NAME ="startTime.value"          
                        OPERATOR="MIN" />
      <AggregateColumn  NAME="jvm.active" 
                        COLUMN_NAME ="startTime.value"          
                        OPERATOR="COUNT" />
    </GroupBy>      

    <!-- Get all the JDBC related metrics for this OC4J instance -->
    <GetTable NAME="JDBC_Connection" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView NAME="filtered_JDBC_Connection" FROM_TABLE="JDBC_Connection">
        <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
    </GetView>
    <GroupBy NAME="sum_JDBC_Connection" FROM_TABLE="filtered_JDBC_Connection" >
      <AggregateColumn  NAME="connection.active"
                        COLUMN_NAME="CreateStatement.time"          
                        OPERATOR="COUNT"/>
    </GroupBy>
    <GetTable NAME="JDBC_DataSource" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView NAME="filtered_JDBC_DataSource" FROM_TABLE="JDBC_DataSource">
        <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
    </GetView>
    <GroupBy NAME="sum_JDBC_DataSource" FROM_TABLE="filtered_JDBC_DataSource" >
      <AggregateColumn  NAME="datasource.open.sum"
                        COLUMN_NAME="ConnectionOpenCount.count"          
                        OPERATOR="SUM"/>
    </GroupBy>      
    <GetTable NAME="JDBC_Driver" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView NAME="filtered_JDBC_Driver" FROM_TABLE="JDBC_Driver">
        <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
    </GetView>
    <GroupBy NAME="sum_JDBC_Driver" FROM_TABLE="filtered_JDBC_Driver" >
      <AggregateColumn  NAME="driver.open.sum"
                        COLUMN_NAME="ConnectionOpenCount.count"          
                        OPERATOR="SUM"/>
    </GroupBy>      

    <!-- Get all the transaction related metrics for this oc4j instance -->
    <GetTable NAME="oc4j_txnMgr" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView NAME="filtered_oc4j_txnMgr" FROM_TABLE="oc4j_txnMgr">
        <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
    </GetView>
    <GroupBy NAME="sum_oc4j_txnMgr" FROM_TABLE="filtered_oc4j_txnMgr" >
      <AggregateColumn  NAME="transactions.active"
                        COLUMN_NAME="open_transactions.value"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="transactions.committed"
                        COLUMN_NAME="committed_transactions.value"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="transactions.aborted"
                        COLUMN_NAME="aborted_transactions.value"          
                        OPERATOR="SUM"/>
    </GroupBy>   

    <!-- Combine all the metric values into a single table -->
    <JoinTables NAME="result" OUTER="TRUE">
      <Table NAME="sum_oc4j_context"/>
      <Table NAME="sum_oc4j_ejb_method"/>        
      <Table NAME="sum_JVM"/>        
      <Table NAME="sum_JDBC_Connection"/>              
      <Table NAME="sum_JDBC_DataSource"/>              
      <Table NAME="sum_JDBC_Driver"/>        
      <Table NAME="sum_oc4j_txnMgr"/>        
      <Column NAME="processRequest.time"        TABLE_NAME="sum_oc4j_context"/>
      <Column NAME="processRequest.throughput"  TABLE_NAME="sum_oc4j_context"/>
      <Column NAME="processRequest.active"      TABLE_NAME="sum_oc4j_context"/>
      <Column NAME="session.active"             TABLE_NAME="sum_oc4j_context"/>

      <!-- When we don't have ejbs show zeros -->
      <Column NAME="_ejbMethod.active"           
       COLUMN_NAME="ejbMethod.active"           TABLE_NAME="sum_oc4j_ejb_method"/>
      <Column NAME="_ejbMethod.time"             
       COLUMN_NAME="ejbMethod.time"             TABLE_NAME="sum_oc4j_ejb_method"/>
      <Column NAME="_ejbMethod.throughput"       
       COLUMN_NAME="ejbMethod.throughput"       TABLE_NAME="sum_oc4j_ejb_method"/>
      <ComputeColumn NAME="ejbMethod.active"
                     EXPR="_ejbMethod.active"
                     DEFAULT_WHEN_EMPTY="TRUE"/>
      <ComputeColumn NAME="ejbMethod.time"
                     EXPR="_ejbMethod.time"
                     DEFAULT_WHEN_EMPTY="TRUE"/>
      <ComputeColumn NAME="ejbMethod.throughput"
                     EXPR="_ejbMethod.throughput"
                     DEFAULT_WHEN_EMPTY="TRUE"/>
      <Column NAME="heap.value"                 TABLE_NAME="sum_JVM"/>
      <Column NAME="startTime.value"            TABLE_NAME="sum_JVM"/>
      <Column NAME="jvm.active"                 TABLE_NAME="sum_JVM"/>

      <Column NAME="datasource.open.sum"          TABLE_NAME="sum_JDBC_DataSource"/>
      <Column NAME="driver.open.sum"              TABLE_NAME="sum_JDBC_Driver"/>
      <ComputeColumn    NAME="jdbcConnections.total"
                        EXPR="datasource.open.sum + driver.open.sum"
                        DEFAULT_WHEN_EMPTY="TRUE"/>

      <Column NAME="connection.active"          TABLE_NAME="sum_JDBC_Connection"/>
      <ComputeColumn    NAME="jdbcConnections.active"            
                        EXPR="connection.active"
                        DEFAULT_WHEN_EMPTY="TRUE"/>

      <!-- When we don't have transaction metrics show zeros -->
      <Column NAME="_transactions.active"        
              COLUMN_NAME="transactions.active" TABLE_NAME="sum_oc4j_txnMgr"/>
      <ComputeColumn NAME="transactions.active"   
                     EXPR="_transactions.active"
                     DEFAULT_WHEN_EMPTY="TRUE"/>
      <Column NAME="_transactions.committed"        
              COLUMN_NAME="transactions.committed" TABLE_NAME="sum_oc4j_txnMgr"/>
      <ComputeColumn NAME="transactions.committed"   
                     EXPR="_transactions.committed"
                     DEFAULT_WHEN_EMPTY="TRUE"/>
      <Column NAME="_transactions.aborted"        
              COLUMN_NAME="transactions.aborted" TABLE_NAME="sum_oc4j_txnMgr"/>
      <ComputeColumn NAME="transactions.aborted"   
                     EXPR="_transactions.aborted"
                     DEFAULT_WHEN_EMPTY="TRUE"/>
    </JoinTables>

  </ExecutionDescriptor> 
</Metric>

<!-- Metric oc4j_instance_rollup (V11 - has additional columns) -->
<Metric NAME="oc4j_instance_rollup" TYPE="TABLE">
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
  </ValidIf>
  <Display>
    <Label NLSID="oc4j_instance_rollup">OC4J Instance Metrics</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="heap.value" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_instance_rollup_heap_value">OC4J Instance - Heap Usage (MB)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="startTime.value" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_instance_rollup_startTime_value">OC4J Instance - Start Time (ms since Epoch)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="session.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display FOR_SUMMARY_UI="TRUE">
          <Label NLSID="oc4j_instance_rollup_session_active">OC4J Instance - Active Sessions</Label>
          <ShortName NLSID='oc4j_instance_rollup_session_active_short'>Active Sessions</ShortName>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display FOR_SUMMARY_UI="TRUE">
          <Label NLSID="oc4j_instance_rollup_processRequest_active">OC4J Instance - Active Requests</Label>
          <ShortName NLSID='oc4j_instance_rollup_processRequest_active_short'>Active Requests</ShortName>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.time" TYPE="NUMBER" IS_KEY="FALSE">
        <Display FOR_SUMMARY_UI="TRUE">
          <Label NLSID="oc4j_instance_rollup_processRequest_time">OC4J Instance - Request Processing Time (seconds)</Label>
          <ShortName NLSID='oc4j_instance_rollup_processRequest_time_short'>Request Time (sec)</ShortName>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.throughput" TYPE="NUMBER" IS_KEY="FALSE">
        <Display FOR_SUMMARY_UI="TRUE">
          <Label NLSID="oc4j_instance_rollup_processRequest_throughput">OC4J Instance - Requests Per Second</Label>
          <ShortName NLSID='oc4j_instance_rollup_processRequest_throughput_short'>Requests Per Second</ShortName>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display FOR_SUMMARY_UI="TRUE">
          <Label NLSID="oc4j_instance_rollup_ejbMethod_active_OC4JI">OC4J Instance - Active EJB Methods</Label>
          <ShortName NLSID='oc4j_instance_rollup_ejbMethod_active'>Active EJB Methods</ShortName>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.time" TYPE="NUMBER" IS_KEY="FALSE">
        <Display FOR_SUMMARY_UI="TRUE">
          <Label NLSID="oc4j_instance_rollup_ejbMethod_time_OC4J_I">OC4J Instance - EJB Method Execution Time (seconds)</Label>
          <ShortName NLSID='oc4j_instance_rollup_ejbMethod_time_short'>EJB Method Time(sec)</ShortName>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.throughput" TYPE="NUMBER" IS_KEY="FALSE">
        <Display FOR_SUMMARY_UI="TRUE">
          <Label NLSID="oc4j_instance_rollup_ejbMethod_throughput">OC4J Instance - EJB Method Execution Rate (per second)</Label>
          <ShortName NLSID='oc4j_instance_rollup_ejbMethod_throughput_short'>EJBs Per Second</ShortName>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="jvm.active" TYPE="NUMBER" IS_KEY="FALSE" TRANSIENT="TRUE">
        <Display>
          <Label NLSID="oc4j_instance_rollup_jvm_active">OC4J Instance - Active JVMs</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="jdbcConnections.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display FOR_SUMMARY_UI="TRUE">
          <Label NLSID="oc4j_instance_rollup_jdbcConnections_active">OC4J Instance - Open JDBC Connections</Label>
          <ShortName NLSID='oc4j_instance_rollup_jdbcConnections_active_short'>JDBC Connections</ShortName>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="jdbcConnections.total" TYPE="NUMBER" IS_KEY="FALSE" TRANSIENT="TRUE">
        <Display>
          <Label NLSID="oc4j_instance_rollup_jdbcConnections_total">OC4J Instance - Total JDBC Connections</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="jdbcConnections.throughput" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_instance_rollup_jdbcConnections_rate">OC4J Instance - JDBC Connections Opened per Minute</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="transactions.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_instance_rollup_transactions_active">OC4J Instance - Active Transactions</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="transactions.committed" TYPE="NUMBER" IS_KEY="FALSE" TRANSIENT="TRUE">
        <Display>
          <Label NLSID="oc4j_instance_rollup_transactions_committed">OC4J Instance - Committed Transactions</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="transactionCommit.throughput" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_instance_rollup_trans_commit_rate">OC4J Instance - Committed Transactions per Minute</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="transactions.aborted" TYPE="NUMBER" IS_KEY="FALSE" TRANSIENT="TRUE">
        <Display>
          <Label NLSID="oc4j_instance_rollup_transactions_aborted">OC4J Instance - Aborted Transactions</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="transactionAbort.throughput" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_instance_rollup_trans_abort_rate">OC4J Instance - Aborted Transactions per Minute</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>
  <QueryDescriptor FETCHLET_ID="JMX">
         <Property NAME="serviceURL" SCOPE="ASSOCTGT" ASSOCIATION_NAME="farm">serviceURL</Property>
         <Property NAME="UserName" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">UserName</Property>
         <Property NAME="password" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">password</Property>
         <Property NAME="metric" SCOPE="GLOBAL">oc4j:oc4j_instance_rollup</Property>
         <Property NAME="topologyNodeID" SCOPE="INSTANCE">topologyNodeID</Property>
         <Property NAME="MetricService" SCOPE="GLOBAL">true</Property>
         <Property NAME="columnOrder" SCOPE="GLOBAL">heap.value;startTime.value;session.active;processRequest.active;processRequest.time;processRequest.throughput;ejbMethod.active;ejbMethod.time;ejbMethod.throughput;jvm.active;jdbcConnections.active;jdbcConnections.total;jdbcConnections.throughput;transactions.active;transactions.committed;transactionCommit.throughput;transactions.aborted;transactionAbort.throughput</Property>
  </QueryDescriptor>
</Metric>

<!-- Metric oc4j_ear_rollup (pre v11) -->
<Metric NAME="oc4j_ear_rollup" TYPE="TABLE">
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
  </ValidIf>
  <Display>
    <Label NLSID="oc4j_ear_rollup">OC4J Application Metrics</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="name" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_ear_rollup_name">Application Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="session.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ear_rollup_session_active">Application - Active Sessions</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ear_rollup_processRequest_active">Application - Active Requests</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.time" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ear_rollup_processRequest_time">Application - Request Processing Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.throughput" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ear_rollup_processRequest_throughput">Application - Requests Per Second</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ear_rollup_ejbMethod_active">Application - Active EJB Methods</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.time" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_instance_rollup_ejbMethod_time_App">Application - EJB Method Execution Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.throughput" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ear_rollup_ejbMethod_time">Application - EJB Method Execution Rate (per second)</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>
  <ExecutionDescriptor>
    <!-- Create filter so that we get metrics only for this oc4j instance -->
    <GetTable NAME="oc4j_opmn" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="this_oc4j" FROM_TABLE="oc4j_opmn">
      <Filter COLUMN_NAME="oc4j_instance.value" SCOPE="INSTANCE" OPERATOR="EQ">DISPLAY_NAME</Filter> 
    </GetView>

    <!-- Get all the web module metrics for this oc4j instance -->
    <GetTable NAME="oc4j_context" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="filtered_oc4j_context" FROM_TABLE="oc4j_context">
      <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
    </GetView>
    <GroupBy NAME="sum_oc4j_context" FROM_TABLE="filtered_oc4j_context">
      <By               NAME="oc4j_ear"/>
      <AggregateColumn  NAME="processRequest.deltaTimeSum" 
                        COLUMN_NAME ="processRequest.deltaTime"
                        OPERATOR="SUM" />
      <AggregateColumn  NAME ="processRequest.deltaCompletedSum" 
                        COLUMN_NAME ="processRequest.deltaCompleted"
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="interval"
                        COLUMN_NAME="interval"          
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="processRequest.time"            
                        EXPR="(processRequest.deltaCompletedSum != 0) ? processRequest.deltaTimeSum/processRequest.deltaCompletedSum : 0"/>
      <ComputeColumn    NAME="processRequest.throughput"            
                        EXPR="processRequest.deltaCompletedSum/interval"/>
      <AggregateColumn  NAME="processRequest.active"
                        COLUMN_NAME="processRequest.active"
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="session.active"
                        COLUMN_NAME="sessionActivation.active"
                        OPERATOR="SUM"/>
    </GroupBy>

    <!-- Get all EJB method metrics for this OC4J instance -->
    <GetTable NAME="oc4j_ejb_method" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView NAME="filtered_oc4j_ejb_method" FROM_TABLE="oc4j_ejb_method">
        <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
    </GetView>
    <GroupBy NAME="sum_oc4j_ejb_method" FROM_TABLE="filtered_oc4j_ejb_method">
      <By               NAME="oc4j_ear"/>
      <AggregateColumn  NAME="ejbMethod.deltaCompletedSum"
                        COLUMN_NAME="wrapper.deltaCompleted"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="ejbMethod.deltaTimeSum"
                        COLUMN_NAME="wrapper.deltaTime"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="interval"
                        COLUMN_NAME="interval"          
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="ejbMethod.throughput"            
                        EXPR="ejbMethod.deltaCompletedSum/interval"/>
      <ComputeColumn    NAME="ejbMethod.time"            
                        EXPR="(ejbMethod.deltaCompletedSum != 0) ? ejbMethod.deltaTimeSum/ejbMethod.deltaCompletedSum : 0"/>
      <AggregateColumn  NAME="ejbMethod.active"
                        COLUMN_NAME="wrapper.active"          
                        OPERATOR="SUM" />
    </GroupBy>      

    <!-- Combine the web module and ejb information by J2EE application 
         First, join the web module information with the EJB information  -->
    <JoinTables NAME="result1" OUTER="TRUE">
      <Table NAME="sum_oc4j_context"/>
      <Table NAME="sum_oc4j_ejb_method"/>        
      <Column NAME="name" COLUMN_NAME="oc4j_ear" TABLE_NAME="sum_oc4j_context"/>
      <Column NAME="processRequest.time"        TABLE_NAME="sum_oc4j_context"/>
      <Column NAME="processRequest.throughput"  TABLE_NAME="sum_oc4j_context"/>
      <Column NAME="processRequest.active"      TABLE_NAME="sum_oc4j_context"/>
      <Column NAME="session.active"             TABLE_NAME="sum_oc4j_context"/>
      <Column NAME="ejbMethod.active"           TABLE_NAME="sum_oc4j_ejb_method"/>
      <Column NAME="ejbMethod.time"             TABLE_NAME="sum_oc4j_ejb_method"/>
      <Column NAME="ejbMethod.throughput"       TABLE_NAME="sum_oc4j_ejb_method"/>
      <Where  FROM_TABLE="sum_oc4j_context" JOIN_TABLE="sum_oc4j_ejb_method" 
        FROM_KEY="oc4j_ear" JOIN_KEY="oc4j_ear"/> 
    </JoinTables>

    <!-- Now join the EJB information with the web module information  -->
    <JoinTables NAME="result2" OUTER="TRUE">
      <Table NAME="sum_oc4j_ejb_method"/>        
      <Table NAME="sum_oc4j_context"/>
      <Column NAME="name" COLUMN_NAME="oc4j_ear" TABLE_NAME="sum_oc4j_ejb_method"/>
      <Column NAME="processRequest.time"        TABLE_NAME="sum_oc4j_context"/>
      <Column NAME="processRequest.throughput"  TABLE_NAME="sum_oc4j_context"/>
      <Column NAME="processRequest.active"      TABLE_NAME="sum_oc4j_context"/>
      <Column NAME="session.active"             TABLE_NAME="sum_oc4j_context"/>
      <Column NAME="ejbMethod.active"           TABLE_NAME="sum_oc4j_ejb_method"/>
      <Column NAME="ejbMethod.time"             TABLE_NAME="sum_oc4j_ejb_method"/>
      <Column NAME="ejbMethod.throughput"       TABLE_NAME="sum_oc4j_ejb_method"/>
      <Where  FROM_TABLE="sum_oc4j_ejb_method" JOIN_TABLE="sum_oc4j_context" 
        FROM_KEY="oc4j_ear" JOIN_KEY="oc4j_ear"/> 
    </JoinTables>

    <!-- Combine the two result tables -->
    <Union NAME="result_with_empty" DISTINCT="TRUE">     
        <Table NAME="result1" />
        <Table NAME="result2" />
    </Union>

    <!-- Show zeros for empty columns -->
    <GroupBy NAME="result" FROM_TABLE="result_with_empty">
      <By               NAME="name"/>
      <AggregateColumn  NAME="_processRequest.time"
                        COLUMN_NAME="processRequest.time"          
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="processRequest.time"            
                        EXPR="_processRequest.time"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      <AggregateColumn  NAME="_processRequest.throughput"
                        COLUMN_NAME="processRequest.throughput"          
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="processRequest.throughput"            
                        EXPR="_processRequest.throughput"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      <AggregateColumn  NAME="_processRequest.active"
                        COLUMN_NAME="processRequest.active"          
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="processRequest.active"            
                        EXPR="_processRequest.active"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      <AggregateColumn  NAME="_session.active"
                        COLUMN_NAME="session.active"          
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="session.active"            
                        EXPR="_session.active"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      <AggregateColumn  NAME="_ejbMethod.active"
                        COLUMN_NAME="ejbMethod.active"          
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="ejbMethod.active"            
                        EXPR="_ejbMethod.active"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      <AggregateColumn  NAME="_ejbMethod.time"
                        COLUMN_NAME="ejbMethod.time"          
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="ejbMethod.time"            
                        EXPR="_ejbMethod.time"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      <AggregateColumn  NAME="_ejbMethod.throughput"
                        COLUMN_NAME="ejbMethod.throughput"          
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="ejbMethod.throughput"            
                        EXPR="_ejbMethod.throughput"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
    </GroupBy>      

  </ExecutionDescriptor> 
</Metric>

<!-- Metric oc4j_ear_rollup (V11) -->
<Metric NAME="oc4j_ear_rollup" TYPE="TABLE">
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
  </ValidIf>
  <Display>
    <Label NLSID="oc4j_ear_rollup">OC4J Application Metrics</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="name" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_ear_rollup_name">Application Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="state.value" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ear_rollup_state_value">Application - State</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="session.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ear_rollup_session_active">Application - Active Sessions</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ear_rollup_processRequest_active">Application - Active Requests</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.time" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ear_rollup_processRequest_time">Application - Request Processing Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.throughput" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ear_rollup_processRequest_throughput">Application - Requests Per Second</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ear_rollup_ejbMethod_active">Application - Active EJB Methods</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.time" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_instance_rollup_ejbMethod_time_App">Application - EJB Method Execution Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.throughput" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ear_rollup_ejbMethod_time">Application - EJB Method Execution Rate (per second)</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>
  <QueryDescriptor FETCHLET_ID="JMX">
         <Property NAME="serviceURL" SCOPE="ASSOCTGT" ASSOCIATION_NAME="farm">serviceURL</Property>
         <Property NAME="UserName" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">UserName</Property>
         <Property NAME="password" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">password</Property>
         <Property NAME="metric" SCOPE="GLOBAL">oc4j:oc4j_ear_rollup</Property>
         <Property NAME="topologyNodeID" SCOPE="INSTANCE">topologyNodeID</Property>
         <Property NAME="MetricService" SCOPE="GLOBAL">true</Property>
         <Property NAME="columnOrder" SCOPE="GLOBAL">name;state.value;session.active;processRequest.active;processRequest.time;processRequest.throughput;ejbMethod.active;ejbMethod.time;ejbMethod.throughput</Property>
         <Property NAME="name.parameter" SCOPE="USER" OPTIONAL="TRUE">name.parameter</Property>
         <Property NAME="useCache" SCOPE="GLOBAL">false</Property>
         <Property NAME="admlMap" SCOPE="GLOBAL">
           <![CDATA[<argument type="java.util.Map"><value><item><key>name.parameter</key><value type="java.lang.String">%name.parameter%</value></item></value></argument>]]>
         </Property>
  </QueryDescriptor>
</Metric>

<!-- 1013plus_metric -->
<!-- Metric oc4j_webservices_rollup -->
<Metric NAME="oc4j_webservices_rollup" TYPE="TABLE">
 <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="1013plus"/>
  </ValidIf>
  <Display>
    <Label NLSID="oc4j_webservices_rollup">OC4J Web Services Metrics</Label>
  </Display>
 <TableDescriptor>
    <ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='TRUE'> 
      <Display><Label NLSID='ws_port_name_col_label'>WebService Port</Label>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='webservice_name' TYPE='STRING' IS_KEY='TRUE'> 
      <Display><Label NLSID='ws_name_col_label'>WebService Name</Label>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='app_name' TYPE='STRING' IS_KEY='TRUE'> 
      <Display><Label NLSID='ws_app_name_col_label'>Application Name</Label>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='startTime' TYPE='NUMBER' IS_KEY='FALSE'>
       <Display><Label NLSID='ws_startTime_value_col_label'>WebService - Start Time (ms since Epoch)</Label>
       <ShortName NLSID='ws_startTime_value_col_sname'>WebService - Start Time</ShortName>
       <Unit NLSID='msecs'>msecs</Unit>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='Requests' TYPE='NUMBER' IS_KEY='FALSE'>
       <Display><Label NLSID='ws_requests_col_label'>WebService - Requests Since Startup</Label>
       <ShortName NLSID='ws_requests_col_sname'>WebService - Total Requests</ShortName>
       <Description NLSID='ws_requests_count_col_desc'>Total Number of Requests</Description>
       <Unit NLSID='ops'>ops</Unit>
       </Display>
     </ColumnDescriptor>
    <ColumnDescriptor NAME='Faults' TYPE='NUMBER' IS_KEY='FALSE'>
       <Display><Label NLSID='ws_faults_col_label'>WebService - Faults Since Startup</Label>
       <ShortName NLSID='ws_faults_col_sname'>Total Faults</ShortName>
       <Description NLSID='ws_faults_count_col_desc'>Total Number of Faults</Description>
       <Unit NLSID='ops'>ops</Unit>
       </Display>
     </ColumnDescriptor>
    <ColumnDescriptor NAME='processRequest.active' TYPE='NUMBER' IS_KEY='FALSE'>
        <Display><Label NLSID='ws_active_reqs_col_label'>WebService - Active Requests</Label>
        <ShortName NLSID='ws_active_reqs_col_sname'>Active Requests</ShortName>
        <Description NLSID='ws_active_reqs_col_desc'>Active Requests</Description>
        </Display>
     </ColumnDescriptor>
     <ColumnDescriptor NAME='service.time' TYPE='NUMBER' IS_KEY='FALSE'>
 <Display>
  <Label NLSID='ws_serviceTime_col_label'>WebService - Request Processing Time (ms)</Label>
  <Description NLSID='ws_serviceTime_col_desc'> The average amount of time spent processing requests during the last interval
  </Description>
</Display></ColumnDescriptor>
     <ColumnDescriptor NAME='service.throughput' TYPE='NUMBER' IS_KEY='FALSE'>
 <Display>
  <Label NLSID='ws_service_throughput_col_label'>WebService - Requests Per Second</Label>
  <Description NLSID='ws_service_throughput_col_desc'> The amount of requests processed during the last interval </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='error.currentPercentage' TYPE='NUMBER' IS_KEY='FALSE' COLUMN_NAME='error.currentPercentage' COMPUTE_EXPR="((_Faults > Faults) ? Faults : (Faults-_Faults))*100 / ((_Requests > Requests) ? Requests : (Requests-_Requests))">
<Display>
  <Label NLSID='error_currentPercentage_col_label'>Error Rate (%)</Label>
  <ShortName NLSID='error_currentPercentage_col_sname'>error.currentPercentage</ShortName>
  <Description NLSID='error_currentPercentage_col_desc'>
   The percentage of requests that encounter errors during the last interval
  </Description>
</Display></ColumnDescriptor>
  </TableDescriptor>

 <ExecutionDescriptor>
    <!-- Create filter so that we get metrics only for this oc4j instance -->
    <GetTable NAME="oc4j_opmn" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="this_oc4j" FROM_TABLE="oc4j_opmn">
      <Filter COLUMN_NAME="oc4j_instance.value" SCOPE="INSTANCE" OPERATOR="EQ">DISPLAY_NAME</Filter>
    </GetView>

    <!-- Get all the web services metrics for this oc4j instance -->
    <GetTable NAME="oc4j_webservices_raw" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="filtered_oc4j_webservice" FROM_TABLE="oc4j_webservices_raw">
      <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
    </GetView>

    <!-- Report all metrics by webservice port (and application??) -->
    <GroupBy  NAME="result" FROM_TABLE="filtered_oc4j_webservice">
      <By               NAME="name" COLUMN_NAME="name"/>
      <By               NAME="webservice_name" COLUMN_NAME="webservice_name"/>
      <By               NAME="app_name" COLUMN_NAME="webservice_app"/>
      <AggregateColumn  NAME="startTime"
                        COLUMN_NAME="startTime"          
                        OPERATOR="MIN"/>
      <AggregateColumn  NAME="Requests"
                        COLUMN_NAME="processRequest.completed"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="Faults"
                        COLUMN_NAME="Faults"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="processRequest.active"
                        COLUMN_NAME="processRequest.active"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="processRequest.deltaTimeSum"  
                        COLUMN_NAME="processRequest.deltaTime"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="processRequest.deltaCompletedSum"
                        COLUMN_NAME="processRequest.deltaCompleted"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="interval"
                        COLUMN_NAME="interval"          
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="service.time"            
                        EXPR="(processRequest.deltaCompletedSum != 0) ? processRequest.deltaTimeSum/processRequest.deltaCompletedSum : 0"/>
      <ComputeColumn    NAME="service.throughput"            
                        EXPR="(interval > 0) ? processRequest.deltaCompletedSum/interval : 0 "/>
 </GroupBy>
  </ExecutionDescriptor>
</Metric>
<!-- 1013plus_metric end -->

<!-- Metric oc4j_web_module_rollup -->
<Metric NAME="oc4j_web_module_rollup" TYPE="TABLE">
  <Display>
    <Label NLSID="oc4j_web_module_rollup">OC4J Web Module Metrics</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="name" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_web_module_rollup_name">Web Module Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_ear" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_web_module_application_name">Application Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="session.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_web_module_rollup_session_active">Web Module - Active Sessions</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_web_module_rollup_processRequest_active">Web Module - Active Requests</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.time" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_web_module_rollup_processRequest_time">Web Module - Request Processing Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.throughput" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_web_module_rollup_processRequest_throughput">Web Module - Requests Per Second</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.completed" TYPE="NUMBER" IS_KEY="FALSE" TRANSIENT="TRUE">
        <Display>
          <Label NLSID="oc4j_web_module_rollup_processRequest_completed">Web Module - Requests Completed</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="classLoad.time" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_web_module_rollup_classLoad_time">Web Module - Class Load Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="client.time" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_web_module_rollup_client_time">Web Module - Client Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>
  <ExecutionDescriptor>
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
    </ValidIf>
    <!-- Create filter so that we get metrics only for this oc4j instance -->
    <GetTable NAME="oc4j_opmn" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="this_oc4j" FROM_TABLE="oc4j_opmn">
      <Filter COLUMN_NAME="oc4j_instance.value" SCOPE="INSTANCE" OPERATOR="EQ">DISPLAY_NAME</Filter> 
    </GetView>

    <!-- Get all the web module metrics for this oc4j instance -->
    <GetTable NAME="oc4j_context" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="filtered_oc4j_context" FROM_TABLE="oc4j_context">
      <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
    </GetView>

    <!-- Report all metrics by web module and application -->
    <GroupBy  NAME="result" FROM_TABLE="filtered_oc4j_context">
      <By               NAME="name" COLUMN_NAME="name"/>
      <By               NAME="oc4j_ear" COLUMN_NAME="oc4j_ear"/>
      <AggregateColumn  NAME="session.active"
                        COLUMN_NAME="sessionActivation.active"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="processRequest.active"
                        COLUMN_NAME="processRequest.active"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="processRequest.completed"
                        COLUMN_NAME="processRequest.completed"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="processRequest.deltaTimeSum"  
                        COLUMN_NAME="processRequest.deltaTime"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="processRequest.deltaCompletedSum"
                        COLUMN_NAME="processRequest.deltaCompleted"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="interval"
                        COLUMN_NAME="interval"          
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="processRequest.time"            
                        EXPR="(processRequest.deltaCompletedSum != 0) ? processRequest.deltaTimeSum/processRequest.deltaCompletedSum : 0"/>
      <ComputeColumn    NAME="processRequest.throughput"            
                        EXPR="processRequest.deltaCompletedSum/interval"/>
      <AggregateColumn  NAME="resolveServlet.deltaTimeSum"  
                        COLUMN_NAME="resolveServlet.deltaTime"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="resolveServlet.deltaCompletedSum"
                        COLUMN_NAME="resolveServlet.deltaCompleted"          
                        OPERATOR="SUM" />
      <ComputeColumn    NAME="classLoad.time"            
                        EXPR="(resolveServlet.deltaCompletedSum != 0) ? resolveServlet.deltaTimeSum/resolveServlet.deltaCompletedSum : 0"/>
      <ComputeColumn    NAME="client.time"            
                        EXPR="processRequest.time - classLoad.time"/>
    </GroupBy>
  </ExecutionDescriptor>
  <QueryDescriptor FETCHLET_ID="JMX">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
    </ValidIf>
         <Property NAME="serviceURL" SCOPE="ASSOCTGT" ASSOCIATION_NAME="farm">serviceURL</Property>
         <Property NAME="UserName" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">UserName</Property>
         <Property NAME="password" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">password</Property>
         <Property NAME="metric" SCOPE="GLOBAL">oc4j:oc4j_web_module_rollup</Property>
         <Property NAME="topologyNodeID" SCOPE="INSTANCE">topologyNodeID</Property>
         <Property NAME="MetricService" SCOPE="GLOBAL">true</Property>
         <Property NAME="columnOrder" SCOPE="GLOBAL">name;oc4j_ear;session.active;processRequest.active;processRequest.time;processRequest.throughput;processRequest.completed;classLoad.time;client.time</Property>
         <Property NAME="name.parameter" SCOPE="USER" OPTIONAL="TRUE">name.parameter</Property>
         <Property NAME="oc4j_ear.parameter" SCOPE="USER" OPTIONAL="TRUE">oc4j_ear.parameter</Property>
         <Property NAME="admlMap" SCOPE="GLOBAL">
           <![CDATA[<argument type="java.util.Map"><value><item><key>name.parameter</key><value type="java.lang.String">%name.parameter%</value></item><item><key>oc4j_ear.parameter</key><value type="java.lang.String">%oc4j_ear.parameter%</value></item></value></argument>]]>
         </Property>         
  </QueryDescriptor>
</Metric>

<!-- Metric oc4j_jta_rollup -->
<Metric NAME="oc4j_jta_rollup" TYPE="TABLE">
   <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
   </ValidIf>
   <Display>
      <Label NLSID="oc4j_jta_rollup">OC4J JTA Metrics</Label>
   </Display>
   <TableDescriptor>
      <ColumnDescriptor NAME="commit.percentage" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_commit_percentage">Commit Percentage</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="commit.throughput" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_commit_throughput">Commits Per Minute</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="commitTrans.time" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_commitTrans_time">Committed Transaction Time (seconds)</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="rollbackTrans.time" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_rollbackTrans_time">Rollback Transaction Time (seconds)</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="rollback.throughput" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_rollback_throughput">Rollbacks Per Minute</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="singlePhaseCommit.time" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_singlePhaseCommit_time">Single Phase Transaction Commit Time (seconds)</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="transaction.active" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_transaction_active">Active Transactions</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="twoPhaseCommit.time" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_twoPhaseCommit_time">Two Phase Transaction Commit Time (seconds)</Label>
         </Display>
      </ColumnDescriptor>
   </TableDescriptor>
   <QueryDescriptor FETCHLET_ID="JMX">
      <Property NAME="serviceURL" SCOPE="ASSOCTGT" ASSOCIATION_NAME="farm">serviceURL</Property>
      <Property NAME="UserName" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">UserName</Property>
      <Property NAME="password" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">password</Property>
      <Property NAME="metric" SCOPE="GLOBAL">oc4j:oc4j_jta_rollup</Property>
      <Property NAME="topologyNodeID" SCOPE="INSTANCE">topologyNodeID</Property>
      <Property NAME="MetricService" SCOPE="GLOBAL">true</Property>
      <Property NAME="columnOrder" SCOPE="GLOBAL">commit.percentage;commit.throughput;commitTrans.time;rollbackTrans.time;rollback.throughput;singlePhaseCommit.time;transaction.active;twoPhaseCommit.time</Property>
   </QueryDescriptor>
</Metric>

<!-- Metric oc4j_jta_delta_rollup -->
<Metric NAME="oc4j_jta_delta_rollup" TYPE="TABLE">
   <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
   </ValidIf>
   <Display>
      <Label NLSID="oc4j_delta_jta_rollup">OC4J JTA Delta Metrics</Label>
   </Display>
   <TableDescriptor>
      <ColumnDescriptor NAME="commit.perHour" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_commit_deltaCompleted">Committed Transactions Per Hour</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="exception.perHour" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_exception_deltaCompleted">Total Exceptions Per Hour</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="heuristic.perHour" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_heuristic_deltaCompleted">Total Heuristics Per Hour</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="heuristicCommit.perHour" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_heuristicCommit_deltaCompleted">Committed Heuristics Per Hour</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="heuristicMixedException.perHour" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_heuristicMixedException_deltaCompleted">HeuristicMixedExceptions Per Hour</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="heuristicRollback.perHour" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_heuristicRollback_deltaCompleted">Rollback Heuristics Per Hour</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="heuristicRollbackException.perHour" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_heuristicRollbackException_deltaCompleted">HeuristicRollbackExceptions Per Hour</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="illegalStateException.perHour" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_illegalStateException_deltaCompleted">IllegalStateExceptions Per Hour</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="rollback.perHour" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_rollback_deltaCompleted">Rolled Back Transactions Per Hour</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="rollbackAdmin.perHour" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_rollbackAdmin_deltaCompleted">Administrative Rollbacks Per Hour</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="rollbackApp.perHour" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_rollbackApp_deltaCompleted">Application Rollbacks Per Hour</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="rollbackException.perHour" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_rollbackException_deltaCompleted">RollbackExceptions Per Hour</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="rollbackResource.perHour" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_rollbackResource_deltaCompleted">Resource Rollbacks Per Hour</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="rollbackTimeout.perHour" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_rollbackTimeout_deltaCompleted">Timeout Rollbacks Per Hour</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="securityException.perHour" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_securityException_deltaCompleted">SecurityExceptions Per Hour</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="start.perHour" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_start_deltaCompleted">Started Transactions Per Hour</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="suspend.perHour" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_suspend_deltaCompleted">Suspended Transactions Per Hour</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="systemException.perHour" TYPE="NUMBER">
         <Display>
            <Label NLSID="jta_systemException_deltaCompleted">SystemExceptions Per Hour</Label>
         </Display>
      </ColumnDescriptor>
   </TableDescriptor>
   <QueryDescriptor FETCHLET_ID="JMX">
      <Property NAME="serviceURL" SCOPE="ASSOCTGT" ASSOCIATION_NAME="farm">serviceURL</Property>
      <Property NAME="UserName" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">UserName</Property>
      <Property NAME="password" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">password</Property>
      <Property NAME="metric" SCOPE="GLOBAL">oc4j:oc4j_jta_delta_rollup</Property>
      <Property NAME="topologyNodeID" SCOPE="INSTANCE">topologyNodeID</Property>
      <Property NAME="MetricService" SCOPE="GLOBAL">true</Property>
      <Property NAME="columnOrder" SCOPE="GLOBAL">commit.perHour;exception.perHour;heuristic.perHour;heuristicCommit.perHour;heuristicMixedException.perHour;heuristicRollback.perHour;heuristicRollbackException.perHour;illegalStateException.perHour;rollback.perHour;rollbackAdmin.perHour;rollbackApp.perHour;rollbackException.perHour;rollbackResource.perHour;rollbackTimeout.perHour;securityException.perHour;start.perHour;suspend.perHour;systemException.perHour</Property>
   </QueryDescriptor>
</Metric>

<!-- Metric oc4j_servlet_rollup -->
<Metric NAME="oc4j_servlet_rollup" TYPE="TABLE">
  <Display>
    <Label NLSID="oc4j_servlet_rollup">OC4J Servlet Metrics</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="name" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_servlet_rollup_name">Servlet Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_web_module" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_servlet_rollup_web_module">Web Module Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_ear" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_servlet_rollup_application_name">Application Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_servlet_rollup_service_active">Servlet - Active Requests</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.throughput" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_servlet_rollup_service_throughput">Servlet - Requests Per Second</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.time" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_servlet_rollup_service_time">Servlet - Client Processing Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.completed" TYPE="NUMBER" IS_KEY="FALSE" TRANSIENT="TRUE">
        <Display>
          <Label NLSID="oc4j_servlet_rollup_service_completed">Servlet - Invocations</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.averageTime" TYPE="NUMBER" IS_KEY="FALSE" TRANSIENT="TRUE">
        <Display>
          <Label NLSID="oc4j_servlet_rollup_service_averageTime">Servlet - Average Processing Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.totalTime" TYPE="NUMBER" IS_KEY="FALSE" TRANSIENT="TRUE">
        <Display>
          <Label NLSID="oc4j_servlet_rollup_service_totalTime">Servlet - Total Processing Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>
  <ExecutionDescriptor>
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
    </ValidIf>

    <!-- Create filter so that we get metrics only for this oc4j instance -->
    <GetTable NAME="oc4j_opmn" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="this_oc4j" FROM_TABLE="oc4j_opmn">
      <Filter COLUMN_NAME="oc4j_instance.value" SCOPE="INSTANCE" OPERATOR="EQ">DISPLAY_NAME</Filter> 
    </GetView>

    <!-- Get the servlet metrics for this oc4j instance -->
    <GetTable NAME="oc4j_servlet" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="filtered_oc4j_servlet" FROM_TABLE="oc4j_servlet">
      <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
    </GetView>

    <!-- Report the metrics by servlet, web module and application -->
    <GroupBy NAME="result" FROM_TABLE="filtered_oc4j_servlet">
      <By NAME="name"             COLUMN_NAME="name"/>
      <By NAME="oc4j_web_module"  COLUMN_NAME="oc4j_context"/>
      <By NAME="oc4j_ear"         COLUMN_NAME="oc4j_ear"/>
      <AggregateColumn  NAME="service.active"
                        COLUMN_NAME="service.active"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="service.deltaTimeSum" 
                        COLUMN_NAME="service.deltaTime"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="service.deltaCompletedSum" 
                        COLUMN_NAME="service.deltaCompleted"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="interval"
                        COLUMN_NAME="interval"          
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="service.time"            
                        EXPR="(service.deltaCompletedSum != 0) ? service.deltaTimeSum/service.deltaCompletedSum : 0"/>
      <ComputeColumn    NAME="service.throughput"            
                        EXPR="service.deltaCompletedSum/interval"/>
      <AggregateColumn  NAME="service.completed"
                        COLUMN_NAME="service.completed"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="service.totalTimeMilliseconds"
                        COLUMN_NAME="service.time"          
                        OPERATOR="SUM"/>
      <ComputeColumn    NAME="service.totalTime"            
                        EXPR="service.totalTimeMilliseconds/1000"/>
      <ComputeColumn    NAME="service.averageTime"            
                        EXPR="(service.completed != 0) ? service.totalTime/service.completed : 0"/>
    </GroupBy>

  </ExecutionDescriptor>
  <QueryDescriptor FETCHLET_ID="JMX">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
    </ValidIf>
         <Property NAME="serviceURL" SCOPE="ASSOCTGT" ASSOCIATION_NAME="farm">serviceURL</Property>
         <Property NAME="UserName" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">UserName</Property>
         <Property NAME="password" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">password</Property>
         <Property NAME="metric" SCOPE="GLOBAL">oc4j:oc4j_servlet_rollup</Property>
         <Property NAME="topologyNodeID" SCOPE="INSTANCE">topologyNodeID</Property>
         <Property NAME="MetricService" SCOPE="GLOBAL">true</Property>
         <Property NAME="columnOrder" SCOPE="GLOBAL">name;oc4j_web_module;oc4j_ear;service.active;service.throughput;service.time;service.completed;service.averageTime;service.totalTime</Property>
         <Property NAME="name.parameter" SCOPE="USER" OPTIONAL="TRUE">name.parameter</Property>
         <Property NAME="oc4j_web_module.parameter" SCOPE="USER" OPTIONAL="TRUE">oc4j_web_module.parameter</Property>
         <Property NAME="oc4j_ear.parameter" SCOPE="USER" OPTIONAL="TRUE">oc4j_ear.parameter</Property>
         <Property NAME="admlMap" SCOPE="GLOBAL">
           <![CDATA[<argument type="java.util.Map"><value><item><key>name.parameter</key><value type="java.lang.String">%name.parameter%</value></item><item><key>oc4j_web_module.parameter</key><value type="java.lang.String">%oc4j_web_module.parameter%</value></item><item><key>oc4j_ear.parameter</key><value type="java.lang.String">%oc4j_ear.parameter%</value></item></value></argument>]]>
         </Property>         
  </QueryDescriptor>
</Metric>

<!-- Metric oc4j_servlet_for_instances_rollup -->
<Metric NAME="oc4j_servlet_for_instances_rollup" TYPE="TABLE" USAGE_TYPE="HIDDEN" HELP="NO_HELP">
<!-- klm: fix -->
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
    </ValidIf>
  <Display>
    <Label NLSID="oc4j_servlet_for_instances_rollup">Servlet Metrics for OC4J Instances</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="name" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_servlet_for_instances_rollup_name">Servlet Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_web_module" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_servlet_for_instances_rollup_web_module">Web Module Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_ear" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_servlet_for_instances_rollup_name_oc4j_ear">Application Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="instanceName" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_servlet_for_instances_rollup_instanceName">OC4J Instance Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.completed" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_servlet_for_instances_rollup_service_completed">Servlet - Invocations</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.totalTime" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_servlet_for_instances_rollup_service_totalTime">Servlet - Total Processing Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>
  <ExecutionDescriptor>

    <!-- Get metrics for all servlets in any oc4j instances in this iAS installation -->
    <GetTable NAME="oc4j_opmn" USE_CACHE="FALSE"/>
    <GetTable NAME="oc4j_servlet" USE_CACHE="FALSE"/>
    <JoinTables NAME="all_servlets"> 
      <Table NAME="oc4j_opmn" />
      <Table NAME="oc4j_servlet" />
      <Column NAME="name"              TABLE_NAME="oc4j_servlet"/>
      <Column NAME="oc4j_web_module"   TABLE_NAME="oc4j_servlet" 
                                       COLUMN_NAME="oc4j_context"/>
      <Column NAME="oc4j_ear"          TABLE_NAME="oc4j_servlet"/>
      <Column NAME="instanceName"      TABLE_NAME="oc4j_opmn"
                                       COLUMN_NAME="oc4j_instance.value" />
      <Column NAME="service.completed" TABLE_NAME="oc4j_servlet"/>
      <Column NAME="service.time"      TABLE_NAME="oc4j_servlet"/>
      <Where  FROM_TABLE="oc4j_opmn" JOIN_TABLE="oc4j_servlet" 
        FROM_KEY="Process"  JOIN_KEY="Process"/> 
    </JoinTables> 

    <!-- Report metrics by servlet, web module, application and instance name -->
    <GroupBy NAME="result" FROM_TABLE="all_servlets">
      <By NAME="name"             COLUMN_NAME="name"/>
      <By NAME="oc4j_web_module"  COLUMN_NAME="oc4j_web_module"/>
      <By NAME="oc4j_ear"         COLUMN_NAME="oc4j_ear"/>      
      <By NAME="instanceName"     COLUMN_NAME="instanceName"/>      
      <AggregateColumn  NAME="service.completed"
                        COLUMN_NAME="service.completed"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="service.totalTimeMilliseconds"
                        COLUMN_NAME="service.time"          
                        OPERATOR="SUM"/>
      <ComputeColumn    NAME="service.totalTime"            
                        EXPR="service.totalTimeMilliseconds/1000"/>
    </GroupBy>

  </ExecutionDescriptor>
</Metric>

<!-- Metric oc4j_jsp_rollup -->
<Metric NAME="oc4j_jsp_rollup" TYPE="TABLE">
  <Display>
    <Label NLSID="oc4j_jsp_rollup">OC4J JSP Metrics</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="name" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_jsp_rollup_jsp_name">JSP Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_web_module" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_jsp_rollup_web_module">Web Module Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_ear" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_jsp_rollup_name_oc4j_ear">Application Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="isMultiThreaded.value" TYPE="STRING" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jsp_rollup_name_isMultiThreaded">JSP - Is multi-threaded?</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="activeInstances.value" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jsp_rollup_activeInstances_value">JSP - Active Instances (STM only)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="availableInstances.value" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jsp_rollup_availableInstances_value">JSP - Available Instances (STM only)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jsp_rollup_service_active">JSP - Active Requests</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.throughput" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jsp_rollup_service_throughput">JSP - Requests Per Second</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.time" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jsp_rollup_service_time">JSP - Client Processing Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.averageTime" TYPE="NUMBER" IS_KEY="FALSE" TRANSIENT="TRUE">
        <Display>
          <Label NLSID="oc4j_jsp_rollup_service_averageTime">JSP - Average Processing Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.completed" TYPE="NUMBER" IS_KEY="FALSE" TRANSIENT="TRUE">
        <Display>
          <Label NLSID="oc4j_jsp_rollup_service_completed">JSP - Invocations</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.totalTime" TYPE="NUMBER" IS_KEY="FALSE" TRANSIENT="TRUE">
        <Display>
          <Label NLSID="oc4j_jsp_rollup_service_totalTime">JSP - Total Processing Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>
  <ExecutionDescriptor>
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
    </ValidIf>
    <!-- Create filter so that we get metrics only for this oc4j instance -->
    <GetTable NAME="oc4j_opmn" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="this_oc4j" FROM_TABLE="oc4j_opmn">
      <Filter COLUMN_NAME="oc4j_instance.value" SCOPE="INSTANCE" OPERATOR="EQ">DISPLAY_NAME</Filter> 
    </GetView>

    <!-- Get metrics for all threadsafe JSPs for this oc4j instance -->
    <GetTable NAME="oc4j_jsp(threadsafe=true)" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="filtered_oc4j_jsp_threadsafe" FROM_TABLE="oc4j_jsp(threadsafe=true)">
      <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
    </GetView>
    <GroupBy NAME="aggregated_oc4j_jsp_threadsafe" FROM_TABLE="filtered_oc4j_jsp_threadsafe">
      <By NAME="name"             COLUMN_NAME="name"/>
      <By NAME="oc4j_web_module"  COLUMN_NAME="oc4j_context"/>
      <By NAME="oc4j_ear"         COLUMN_NAME="oc4j_ear"/>      

      <ComputeColumn    NAME="activeInstances.value"
                        EXPR="0"/>         
      <ComputeColumn    NAME="availableInstances.value"
                        EXPR="0"/>         
      <ComputeColumn    NAME="isMultiThreaded.value"
                        EXPR="true"
                        IS_VALUE="TRUE"/>         
      <AggregateColumn  NAME="service.active"
                        COLUMN_NAME="service.active"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="service.deltaTimeSum" 
                        COLUMN_NAME="service.deltaTime"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="service.deltaCompletedSum" 
                        COLUMN_NAME="service.deltaCompleted"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="interval"
                        COLUMN_NAME="interval"          
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="service.time"            
                        EXPR="(service.deltaCompletedSum != 0) ? service.deltaTimeSum/service.deltaCompletedSum : 0"/>
      <ComputeColumn    NAME="service.throughput"            
                        EXPR="service.deltaCompletedSum/interval"/>
      <AggregateColumn  NAME="service.completed"
                        COLUMN_NAME="service.completed"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="service.totalTimeMilliseconds"
                        COLUMN_NAME="service.time"          
                        OPERATOR="SUM"/>
      <ComputeColumn    NAME="service.totalTime"            
                        EXPR="service.totalTimeMilliseconds/1000"/>
      <ComputeColumn    NAME="service.averageTime"            
                        EXPR="(service.completed != 0) ? service.totalTime/service.completed : 0"/>
    </GroupBy>

    <!-- Get metrics for all single threaded JSPs for this oc4j instance -->
    <GetTable NAME="oc4j_jsp(threadsafe=false)" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="filtered_oc4j_jsp_not_threadsafe" FROM_TABLE="oc4j_jsp(threadsafe=false)">
      <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
    </GetView>
    <GroupBy NAME="aggregated_oc4j_jsp_not_threadsafe" FROM_TABLE="filtered_oc4j_jsp_not_threadsafe">
      <By NAME="name"             COLUMN_NAME="name"/>
      <By NAME="oc4j_web_module"  COLUMN_NAME="oc4j_context"/>
      <By NAME="oc4j_ear"         COLUMN_NAME="oc4j_ear"/>      
      <AggregateColumn  NAME="activeInstances.value"
                        COLUMN_NAME="activeInstances.value"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="availableInstances.value"
                        COLUMN_NAME="availableInstances.value"          
                        OPERATOR="SUM"/>
      <ComputeColumn    NAME="isMultiThreaded.value"
                        EXPR="false"
                        IS_VALUE="TRUE"/>         
      <AggregateColumn  NAME="service.active"
                        COLUMN_NAME="service.active"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="service.deltaTimeSum" 
                        COLUMN_NAME="service.deltaTime"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="service.deltaCompletedSum" 
                        COLUMN_NAME="service.deltaCompleted"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="interval"
                        COLUMN_NAME="interval"          
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="service.time"            
                        EXPR="(service.deltaCompletedSum != 0) ? service.deltaTimeSum/service.deltaCompletedSum : 0"/>
      <ComputeColumn    NAME="service.throughput"            
                        EXPR="service.deltaCompletedSum/interval"/>
      <AggregateColumn  NAME="service.completed"
                        COLUMN_NAME="service.completed"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="service.totalTimeMilliseconds"
                        COLUMN_NAME="service.time"          
                        OPERATOR="SUM"/>
      <ComputeColumn    NAME="service.totalTime"            
                        EXPR="service.totalTimeMilliseconds/1000"/>
      <ComputeColumn    NAME="service.averageTime"            
                        EXPR="(service.completed != 0) ? service.totalTime/service.completed : 0"/>
    </GroupBy>

    <!-- Combine the metrics for all the JSPs -->
    <Union NAME="result"> 
        <Table NAME="aggregated_oc4j_jsp_threadsafe" />
        <Table NAME="aggregated_oc4j_jsp_not_threadsafe" />
    </Union> 
  </ExecutionDescriptor>
  <QueryDescriptor FETCHLET_ID="JMX">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
    </ValidIf>
         <Property NAME="serviceURL" SCOPE="ASSOCTGT" ASSOCIATION_NAME="farm">serviceURL</Property>
         <Property NAME="UserName" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">UserName</Property>
         <Property NAME="password" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">password</Property>
         <Property NAME="metric" SCOPE="GLOBAL">oc4j:oc4j_jsp_rollup</Property>
         <Property NAME="topologyNodeID" SCOPE="INSTANCE">topologyNodeID</Property>
         <Property NAME="MetricService" SCOPE="GLOBAL">true</Property>
         <Property NAME="columnOrder" SCOPE="GLOBAL">name;oc4j_web_module;oc4j_ear;isMultiThreaded.value;activeInstances.value;availableInstances.value;service.active;service.throughput;service.time;service.averageTime;service.completed;service.totalTime</Property>
         <Property NAME="name.parameter" SCOPE="USER" OPTIONAL="TRUE">name.parameter</Property>
         <Property NAME="oc4j_web_module.parameter" SCOPE="USER" OPTIONAL="TRUE">oc4j_web_module.parameter</Property>
         <Property NAME="oc4j_ear.parameter" SCOPE="USER" OPTIONAL="TRUE">oc4j_ear.parameter</Property>
         <Property NAME="admlMap" SCOPE="GLOBAL">
           <![CDATA[<argument type="java.util.Map"><value><item><key>name.parameter</key><value type="java.lang.String">%name.parameter%</value></item><item><key>oc4j_web_module.parameter</key><value type="java.lang.String">%oc4j_web_module.parameter%</value></item><item><key>oc4j_ear.parameter</key><value type="java.lang.String">%oc4j_ear.parameter%</value></item></value></argument>]]>
         </Property>         
  </QueryDescriptor>

</Metric>

<!-- Metric oc4j_jsps_for_instances_rollup -->
<Metric NAME="oc4j_jsps_for_instances_rollup" TYPE="TABLE" USAGE_TYPE="HIDDEN" HELP="NO_HELP">
<!-- klm: fix -->
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
    </ValidIf>
  <Display>
    <Label NLSID="oc4j_jsps_for_instances_rollup">JSPs Metrics for OC4J Instances</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="name" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_jsps_for_instances_rollup_jsp_name">JSP Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_web_module" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_jsps_for_instances_rollup_web_module">Web Module Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_ear" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_jsps_for_instances_rollup_app_name">Application Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="instanceName" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_jsps_for_instances_rollup_OC4J_instanceName">OC4J Instance Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="isMultiThreaded.value" TYPE="STRING" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jsp_rollup_name_isMultiThreaded">JSP - Is multi-threaded?</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.completed" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jsps_for_instances_rollup_service_completed">JSP - Invocations</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.totalTime" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jsps_for_instances_rollup_service_totalTime">JSP - Total Processing Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>
  <ExecutionDescriptor>

    <!-- Get all threadsafe JSPs for all oc4j instance in this iAS installation -->
    <GetTable NAME="oc4j_opmn" USE_CACHE="FALSE"/>
    <GetTable NAME="oc4j_jsp(threadsafe=true)" USE_CACHE="FALSE"/>
    <JoinTables NAME="all_threadsafe_jsps"> 
      <Table NAME="oc4j_opmn" />
      <Table NAME="oc4j_jsp(threadsafe=true)" />
      <Column NAME="name"              TABLE_NAME="oc4j_jsp(threadsafe=true)"/>
      <Column NAME="oc4j_web_module"   TABLE_NAME="oc4j_jsp(threadsafe=true)" 
                                       COLUMN_NAME="oc4j_context"/>
      <Column NAME="oc4j_ear"          TABLE_NAME="oc4j_jsp(threadsafe=true)"/>
      <Column NAME="instanceName"      TABLE_NAME="oc4j_opmn"
                                       COLUMN_NAME="oc4j_instance.value" />
      <Column NAME="service.completed" TABLE_NAME="oc4j_jsp(threadsafe=true)"/>
      <Column NAME="service.time"      TABLE_NAME="oc4j_jsp(threadsafe=true)"/>
      <ComputeColumn NAME="isMultiThreaded.value"
                     EXPR="true"
                     IS_VALUE="TRUE"/>         
      <Where  FROM_TABLE="oc4j_opmn" JOIN_TABLE="oc4j_jsp(threadsafe=true)" 
        FROM_KEY="Process"  JOIN_KEY="Process"/> 
    </JoinTables> 
    
    <!-- Get metrics for all single threaded JSPs for this oc4j instance -->
    <GetTable NAME="oc4j_jsp(threadsafe=false)" USE_CACHE="FALSE"/>
    <JoinTables NAME="all_not_threadsafe_jsps"> 
      <Table NAME="oc4j_opmn" />
      <Table NAME="oc4j_jsp(threadsafe=false)" />
      <Column NAME="name"              TABLE_NAME="oc4j_jsp(threadsafe=false)"/>
      <Column NAME="oc4j_web_module"   TABLE_NAME="oc4j_jsp(threadsafe=false)" 
                                       COLUMN_NAME="oc4j_context"/>
      <Column NAME="oc4j_ear"          TABLE_NAME="oc4j_jsp(threadsafe=false)"/>
      <Column NAME="instanceName"      TABLE_NAME="oc4j_opmn"
                                       COLUMN_NAME="oc4j_instance.value" />
      <Column NAME="service.completed" TABLE_NAME="oc4j_jsp(threadsafe=false)"/>
      <Column NAME="service.time"      TABLE_NAME="oc4j_jsp(threadsafe=false)"/>
      <ComputeColumn NAME="isMultiThreaded.value"
                     EXPR="false"
                     IS_VALUE="TRUE"/>         
      <Where  FROM_TABLE="oc4j_opmn" JOIN_TABLE="oc4j_jsp(threadsafe=false)" 
        FROM_KEY="Process"  JOIN_KEY="Process"/> 
    </JoinTables> 

    <!-- Combine all the JSP metrics -->
    <Union NAME="all_jsps"> 
        <Table NAME="all_not_threadsafe_jsps" />
        <Table NAME="all_threadsafe_jsps" />
    </Union> 

    <!-- Report the metrics by JSP, web module, application and OC4J instance -->
    <GroupBy NAME="result" FROM_TABLE="all_jsps">
      <By NAME="name"/>
      <By NAME="oc4j_web_module"/>
      <By NAME="oc4j_ear"/>
      <By NAME="instanceName"/>
      <By NAME="isMultiThreaded.value"/>
      <AggregateColumn  NAME="service.completed"
                        COLUMN_NAME="service.completed"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="service.totalTimeMilliseconds"
                        COLUMN_NAME="service.time"          
                        OPERATOR="SUM"/>
      <ComputeColumn    NAME="service.totalTime"            
                        EXPR="service.totalTimeMilliseconds/1000"/>
    </GroupBy>

  </ExecutionDescriptor>
</Metric>

<!-- Metric oc4j_ejb_module_rollup -->
<Metric NAME="oc4j_ejb_module_rollup" TYPE="TABLE">
  <Display>
    <Label NLSID="oc4j_ejb_module_rollup">OC4J EJB Module Metrics</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="name" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_ejb_module_rollup_name">EJB Module Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_ear" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_ejb_module_rollup_app_name">Application Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ejb_module_rollup_ejbMethod_active">EJB Module - Active Methods</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.time" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_instance_rollup_ejbMethod_time_EJB_M">EJB Module - Method Execution Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.throughput" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ejb_module_rollup_ejbMethod_thoughput">EJB Module - Method Execution Rate (per second)</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>
  <ExecutionDescriptor>
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
    </ValidIf>

    <!--Create filter so that we get metrics only for this oc4j instance -->
    <GetTable NAME="oc4j_opmn" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="this_oc4j" FROM_TABLE="oc4j_opmn">
      <Filter COLUMN_NAME="oc4j_instance.value" SCOPE="INSTANCE" OPERATOR="EQ">DISPLAY_NAME</Filter> 
    </GetView>

    <!-- Get all the EJB method metrics for this oc4j instance -->
    <GetTable NAME="oc4j_ejb_method" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView NAME="filtered_oc4j_ejb_method" FROM_TABLE="oc4j_ejb_method">
        <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
    </GetView>

    <!-- Report the metrics by EJB module and application -->
    <GroupBy NAME="result" FROM_TABLE="filtered_oc4j_ejb_method">
      <By               NAME="name" COLUMN_NAME="oc4j_ejb_pkg"/>
      <By               NAME="oc4j_ear" COLUMN_NAME="oc4j_ear"/>
      <AggregateColumn  NAME="ejbMethod.deltaCompletedSum"
                        COLUMN_NAME="wrapper.deltaCompleted"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="ejbMethod.deltaTimeSum"
                        COLUMN_NAME="wrapper.deltaTime"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="interval"
                        COLUMN_NAME="interval"          
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="ejbMethod.time"            
                        EXPR="(ejbMethod.deltaCompletedSum != 0) ? ejbMethod.deltaTimeSum/ejbMethod.deltaCompletedSum : 0"/>
      <ComputeColumn    NAME="ejbMethod.throughput"            
                        EXPR="ejbMethod.deltaCompletedSum/interval"/>
      <AggregateColumn  NAME="ejbMethod.active"
                        COLUMN_NAME="wrapper.active"          
                        OPERATOR="SUM" />
    </GroupBy>      

  </ExecutionDescriptor> 
  <QueryDescriptor FETCHLET_ID="JMX">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
    </ValidIf>
         <Property NAME="serviceURL" SCOPE="ASSOCTGT" ASSOCIATION_NAME="farm">serviceURL</Property>
         <Property NAME="UserName" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">UserName</Property>
         <Property NAME="password" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">password</Property>
         <Property NAME="metric" SCOPE="GLOBAL">oc4j:oc4j_ejb_module_rollup</Property>
         <Property NAME="topologyNodeID" SCOPE="INSTANCE">topologyNodeID</Property>
         <Property NAME="MetricService" SCOPE="GLOBAL">true</Property>
         <Property NAME="columnOrder" SCOPE="GLOBAL">name;oc4j_ear;ejbMethod.active;ejbMethod.time;ejbMethod.throughput</Property>
         <Property NAME="name.parameter" SCOPE="USER" OPTIONAL="TRUE">name.parameter</Property>
         <Property NAME="oc4j_ear.parameter" SCOPE="USER" OPTIONAL="TRUE">oc4j_ear.parameter</Property>
         <Property NAME="admlMap" SCOPE="GLOBAL">
           <![CDATA[<argument type="java.util.Map"><value><item><key>name.parameter</key><value type="java.lang.String">%name.parameter%</value></item><item><key>oc4j_ear.parameter</key><value type="java.lang.String">%oc4j_ear.parameter%</value></item></value></argument>]]>
         </Property>         
  </QueryDescriptor>
</Metric>

<!-- Metric oc4j_ejb_rollup -->
<Metric NAME="oc4j_ejb_rollup" TYPE="TABLE">
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
  </ValidIf>
  <Display>
    <Label NLSID="oc4j_ejb_rollup">OC4J EJB Metrics</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="name" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_ejb_rollup_ejb_name">EJB Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_ejb_module" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_ejb_rollup_ejb_module">EJB Module Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_ear" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_ejb_rollup_app_name">Application Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="type" TYPE="STRING" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ejb_rollup_type">Type of EJB</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ejb_rollup_ejbMethod_active">EJB - Active Methods</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.time" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_instance_rollup_ejbMethod_time_EJB">EJB - Method Execution Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.throughput" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ejb_rollup_ejbMethod_thoughput">EJB - Method Execution Rate (per second)</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>
  <ExecutionDescriptor>

    <!-- Create filter so that we get metrics only for this oc4j instance -->
    <GetTable NAME="oc4j_opmn" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="this_oc4j" FROM_TABLE="oc4j_opmn">
      <Filter COLUMN_NAME="oc4j_instance.value" SCOPE="INSTANCE" OPERATOR="EQ">DISPLAY_NAME</Filter> 
    </GetView>

    <!-- Get all the ejb metrics for all the session beans -->
    <GetTable NAME="oc4j_ejb_method" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView NAME="filtered_session_bean_methods" FROM_TABLE="oc4j_ejb_method">
      <Column NAME="Process"                  TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="name"                     TABLE_NAME="oc4j_ejb_method"
                                              COLUMN_NAME="oc4j_ejb_session_bean"/>
      <Column NAME="oc4j_ejb_module"          TABLE_NAME="oc4j_ejb_method"
                                              COLUMN_NAME="oc4j_ejb_pkg"/>
      <Column NAME="oc4j_ear"                 TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.deltaCompleted"   TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.deltaTime"        TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="interval"                 TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.active"           TABLE_NAME="oc4j_ejb_method"/>
      <ComputeColumn           NAME="type"            
                               EXPR="Session Bean"
                               IS_VALUE="TRUE"/>

      <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
      <Filter COLUMN_NAME="name" OPERATOR="ISNOTNULL"/>
    </GetView>

    <!-- Get all the ejb metrics for all the entity beans -->
    <GetView NAME="filtered_entity_bean_methods" FROM_TABLE="oc4j_ejb_method">
      <Column NAME="Process"                  TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="name"                     TABLE_NAME="oc4j_ejb_method"
                                              COLUMN_NAME="oc4j_ejb_entity_bean"/>
      <Column NAME="oc4j_ejb_module"          TABLE_NAME="oc4j_ejb_method"
                                              COLUMN_NAME="oc4j_ejb_pkg"/>
      <Column NAME="oc4j_ear"                 TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.deltaCompleted"   TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.deltaTime"        TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="interval"                 TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.active"           TABLE_NAME="oc4j_ejb_method"/>
      <ComputeColumn    NAME="type"            
                        EXPR="Entity Bean"
                        IS_VALUE="TRUE"/>

      <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
      <Filter COLUMN_NAME="name" OPERATOR="ISNOTNULL"/>
    </GetView>

    <!-- Get all the ejb metrics for all the stateless session beans -->
    <GetView NAME="filtered_stateless_bean_methods" FROM_TABLE="oc4j_ejb_method">
      <Column NAME="Process"                  TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="name"                     TABLE_NAME="oc4j_ejb_method"
                                              COLUMN_NAME="oc4j_ejb_stateless_bean"/>
      <Column NAME="oc4j_ejb_module"          TABLE_NAME="oc4j_ejb_method"
                                              COLUMN_NAME="oc4j_ejb_pkg"/>
      <Column NAME="oc4j_ear"                 TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.deltaCompleted"   TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.deltaTime"        TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="interval"                 TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.active"           TABLE_NAME="oc4j_ejb_method"/>
      <ComputeColumn    NAME="type"            
                        EXPR="Stateless Session Bean"
                        IS_VALUE="TRUE"/>

      <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
      <Filter COLUMN_NAME="name" OPERATOR="ISNOTNULL"/>
    </GetView>

    <!-- Get all the ejb metrics for all the stateful session beans -->
    <GetView NAME="filtered_stateful_bean_methods" FROM_TABLE="oc4j_ejb_method">
      <Column NAME="Process"                  TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="name"                     TABLE_NAME="oc4j_ejb_method"
                                              COLUMN_NAME="oc4j_ejb_stateful_bean"/>
      <Column NAME="oc4j_ejb_module"          TABLE_NAME="oc4j_ejb_method"
                                              COLUMN_NAME="oc4j_ejb_pkg"/>
      <Column NAME="oc4j_ear"                 TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.deltaCompleted"   TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.deltaTime"        TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="interval"                 TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.active"           TABLE_NAME="oc4j_ejb_method"/>
      <ComputeColumn    NAME="type"            
                        EXPR="Stateful Session Bean"
                        IS_VALUE="TRUE"/>

      <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
      <Filter COLUMN_NAME="name" OPERATOR="ISNOTNULL"/>
    </GetView>

    <!-- Get all the ejb metrics for all the mdbs beans -->
    <GetView NAME="filtered_mdb_methods" FROM_TABLE="oc4j_ejb_method">
      <Column NAME="Process"                  TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="name"                     TABLE_NAME="oc4j_ejb_method"
                                              COLUMN_NAME="oc4j_ejb_message-driven_bean"/>
      <Column NAME="oc4j_ejb_module"          TABLE_NAME="oc4j_ejb_method"
                                              COLUMN_NAME="oc4j_ejb_pkg"/>
      <Column NAME="oc4j_ear"                 TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.deltaCompleted"   TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.deltaTime"        TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="interval"                 TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.active"           TABLE_NAME="oc4j_ejb_method"/>
      <ComputeColumn    NAME="type"            
                        EXPR="Message Driven Bean"
                        IS_VALUE="TRUE"/>

      <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
      <Filter COLUMN_NAME="name" OPERATOR="ISNOTNULL"/>
    </GetView>

    <!-- Combine the metrics for all types of EJBs -->
    <Union NAME="all_ejb_methods"> 
        <Table NAME="filtered_session_bean_methods" />
        <Table NAME="filtered_entity_bean_methods" />
        <Table NAME="filtered_stateless_bean_methods" />
        <Table NAME="filtered_stateful_bean_methods" />
        <Table NAME="filtered_mdb_methods" />
    </Union> 

    <!-- Report the metrics by EJB, EJB module and application -->
    <GroupBy NAME="result" FROM_TABLE="all_ejb_methods">
      <By               NAME="name"/>
      <By               NAME="oc4j_ejb_module"/>
      <By               NAME="oc4j_ear"/>
      <By               NAME="type"/>
      <AggregateColumn  NAME="ejbMethod.deltaCompletedSum"
                        COLUMN_NAME="wrapper.deltaCompleted"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="ejbMethod.deltaTimeSum"
                        COLUMN_NAME="wrapper.deltaTime"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="interval"
                        COLUMN_NAME="interval"          
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="ejbMethod.time"            
                        EXPR="(ejbMethod.deltaCompletedSum != 0) ? ejbMethod.deltaTimeSum/ejbMethod.deltaCompletedSum : 0"/>
      <ComputeColumn    NAME="ejbMethod.throughput"            
                        EXPR="ejbMethod.deltaCompletedSum/interval"/>
      <AggregateColumn  NAME="ejbMethod.active"
                        COLUMN_NAME="wrapper.active"          
                        OPERATOR="SUM" />
    </GroupBy> 

  </ExecutionDescriptor> 
</Metric>
<!-- We have another version of this metric for v11 targets, since we have added
     a new column: persistence -->
<Metric NAME="oc4j_ejb_rollup" TYPE="TABLE">
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
  </ValidIf>
  <Display>
    <Label NLSID="oc4j_ejb_rollup">OC4J EJB Metrics</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="name" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_ejb_rollup_ejb_name">EJB Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_ejb_module" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_ejb_rollup_ejb_module">EJB Module Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_ear" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_ejb_rollup_app_name">Application Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="type" TYPE="STRING" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ejb_rollup_type">Type of EJB</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="persistence" TYPE="STRING" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ejb_rollup_persistence">Persistence type of the EJB</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ejb_rollup_ejbMethod_active">EJB - Active Methods</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.time" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_instance_rollup_ejbMethod_time_EJB">EJB - Method Execution Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.throughput" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ejb_rollup_ejbMethod_thoughput">EJB - Method Execution Rate (per second)</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>
  <QueryDescriptor FETCHLET_ID="JMX">
         <Property NAME="serviceURL" SCOPE="ASSOCTGT" ASSOCIATION_NAME="farm">serviceURL</Property>
         <Property NAME="UserName" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">UserName</Property>
         <Property NAME="password" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">password</Property>
         <Property NAME="metric" SCOPE="GLOBAL">oc4j:oc4j_ejb_rollup</Property>
         <Property NAME="topologyNodeID" SCOPE="INSTANCE">topologyNodeID</Property>
         <Property NAME="MetricService" SCOPE="GLOBAL">true</Property>
         <Property NAME="columnOrder" SCOPE="GLOBAL">name;oc4j_ejb_module;oc4j_ear;type;persistence;ejbMethod.active;ejbMethod.time;ejbMethod.throughput</Property>
         <Property NAME="name.parameter" SCOPE="USER" OPTIONAL="TRUE">name.parameter</Property>
         <Property NAME="oc4j_ejb_module.parameter" SCOPE="USER" OPTIONAL="TRUE">oc4j_ejb_module.parameter</Property>
         <Property NAME="oc4j_ear.parameter" SCOPE="USER" OPTIONAL="TRUE">oc4j_ear.parameter</Property>
         <Property NAME="admlMap" SCOPE="GLOBAL">
           <![CDATA[<argument type="java.util.Map"><value><item><key>name.parameter</key><value type="java.lang.String">%name.parameter%</value></item><item><key>oc4j_ejb_module.parameter</key><value type="java.lang.String">%oc4j_ejb_module.parameter%</value></item><item><key>oc4j_ear.parameter</key><value type="java.lang.String">%oc4j_ear.parameter%</value></item></value></argument>]]>
         </Property>         
  </QueryDescriptor>
</Metric>

<!-- Metric oc4j_ejb_method_rollup -->
<Metric NAME="oc4j_ejb_method_rollup" TYPE="TABLE">
  <Display>
    <Label NLSID="oc4j_ejb_method_rollup">OC4J EJB Method Metrics</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="name" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_ejb_method_rollup_method_name">Method Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_ejb" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_ejb_method_rollup_ejb">EJB Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_ejb_module" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_ejb_method_rollup_ejb_module">EJB Module Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_ear" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_ejb_method_rollup_app_name">Application Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ejb_method_rollup_service_active">EJB Method - Active Methods</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.throughput" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ejb_method_rollup_service_throughput">EJB Method - Method Execution Rate (per second)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.time" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ejb_method_rollup_service_time">EJB Method - Client Processing Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.completed" TYPE="NUMBER" IS_KEY="FALSE" TRANSIENT="TRUE">
        <Display>
          <Label NLSID="oc4j_ejb_method_rollup_service_completed">EJB Method - Invocations</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="overhead.time" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ejb_method_rollup_overhead_time">EJB Method - Overhead Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.totalTime" TYPE="NUMBER" IS_KEY="FALSE" TRANSIENT="TRUE">
        <Display>
          <Label NLSID="oc4j_ejb_method_rollup_service_totalTime">EJB Method - Total Processing Time, with overhead (seconds)</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>
  <ExecutionDescriptor>
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
    </ValidIf>

    <!-- Create filter so that we get metrics only for this oc4j instance -->
    <GetTable NAME="oc4j_opmn" USE_CACHE="FALSE"/>
    <GetView  NAME="this_oc4j" FROM_TABLE="oc4j_opmn">
      <Filter COLUMN_NAME="oc4j_instance.value" SCOPE="INSTANCE" OPERATOR="EQ">DISPLAY_NAME</Filter> 
    </GetView>

    <!-- Get all the ejb metrics for all the session beans -->
    <GetTable NAME="oc4j_ejb_method" USE_CACHE="FALSE"/>
    <GetView NAME="filtered_session_bean_methods" FROM_TABLE="oc4j_ejb_method">
      <Column NAME="Process"                  TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="name"                     TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="oc4j_ejb"                 TABLE_NAME="oc4j_ejb_method"
                                              COLUMN_NAME="oc4j_ejb_session_bean"/>
      <Column NAME="oc4j_ejb_module"          TABLE_NAME="oc4j_ejb_method"
                                              COLUMN_NAME="oc4j_ejb_pkg"/>
      <Column NAME="oc4j_ear"                 TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.completed"        TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.deltaCompleted"   TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.deltaTime"        TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.time"             TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.active"           TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="client.deltaCompleted"    TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="client.deltaTime"         TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="interval"                 TABLE_NAME="oc4j_ejb_method"/>

      <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
      <Filter COLUMN_NAME="oc4j_ejb" OPERATOR="ISNOTNULL"/>
    </GetView>

    <!-- Get all the ejb metrics for all the stateless session beans -->
    <GetView NAME="filtered_stateless_bean_methods" FROM_TABLE="oc4j_ejb_method">
      <Column NAME="Process"                  TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="name"                     TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="oc4j_ejb"                 TABLE_NAME="oc4j_ejb_method"
                                              COLUMN_NAME="oc4j_ejb_stateless_bean"/>
      <Column NAME="oc4j_ejb_module"          TABLE_NAME="oc4j_ejb_method"
                                              COLUMN_NAME="oc4j_ejb_pkg"/>
      <Column NAME="oc4j_ear"                 TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.completed"        TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.deltaCompleted"   TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.deltaTime"        TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.time"             TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.active"           TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="client.deltaCompleted"    TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="client.deltaTime"         TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="interval"                 TABLE_NAME="oc4j_ejb_method"/>

      <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
      <Filter COLUMN_NAME="oc4j_ejb" OPERATOR="ISNOTNULL"/>
    </GetView>

    <!-- Get all the ejb metrics for all the stateful session beans -->
    <GetView NAME="filtered_stateful_bean_methods" FROM_TABLE="oc4j_ejb_method">
      <Column NAME="Process"                  TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="name"                     TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="oc4j_ejb"                 TABLE_NAME="oc4j_ejb_method"
                                              COLUMN_NAME="oc4j_ejb_stateful_bean"/>
      <Column NAME="oc4j_ejb_module"          TABLE_NAME="oc4j_ejb_method"
                                              COLUMN_NAME="oc4j_ejb_pkg"/>
      <Column NAME="oc4j_ear"                 TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.completed"        TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.deltaCompleted"   TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.deltaTime"        TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.time"             TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.active"           TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="client.deltaCompleted"    TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="client.deltaTime"         TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="interval"                 TABLE_NAME="oc4j_ejb_method"/>

      <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
      <Filter COLUMN_NAME="oc4j_ejb" OPERATOR="ISNOTNULL"/>
    </GetView>

    <!-- Get all the ejb metrics for all the mdbs beans -->
    <GetView NAME="filtered_mdb_methods" FROM_TABLE="oc4j_ejb_method">
      <Column NAME="Process"                  TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="name"                     TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="oc4j_ejb"                 TABLE_NAME="oc4j_ejb_method"
                                              COLUMN_NAME="oc4j_ejb_message-driven_bean"/>
      <Column NAME="oc4j_ejb_module"          TABLE_NAME="oc4j_ejb_method"
                                              COLUMN_NAME="oc4j_ejb_pkg"/>
      <Column NAME="oc4j_ear"                 TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.completed"        TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.deltaCompleted"   TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.deltaTime"        TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.time"             TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.active"           TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="client.deltaCompleted"    TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="client.deltaTime"         TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="interval"                 TABLE_NAME="oc4j_ejb_method"/>

      <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
      <Filter COLUMN_NAME="oc4j_ejb" OPERATOR="ISNOTNULL"/>
    </GetView>

    <!-- Get all the ejb metrics for all the entity beans -->
    <GetView NAME="filtered_entity_bean_methods" FROM_TABLE="oc4j_ejb_method">
      <Column NAME="Process"                  TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="name"                     TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="oc4j_ejb"                 TABLE_NAME="oc4j_ejb_method"
                                              COLUMN_NAME="oc4j_ejb_entity_bean"/>
      <Column NAME="oc4j_ejb_module"          TABLE_NAME="oc4j_ejb_method"
                                              COLUMN_NAME="oc4j_ejb_pkg"/>
      <Column NAME="oc4j_ear"                 TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.completed"        TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.deltaCompleted"   TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.deltaTime"        TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.time"             TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="wrapper.active"           TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="client.deltaCompleted"    TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="client.deltaTime"         TABLE_NAME="oc4j_ejb_method"/>
      <Column NAME="interval"                 TABLE_NAME="oc4j_ejb_method"/>

      <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
      <Filter COLUMN_NAME="oc4j_ejb" OPERATOR="ISNOTNULL"/>
    </GetView>

    <!-- Get all the ejb post create metrics for all the entity beans -->
    <GetTable NAME="oc4j_ejb_method_postCreate" USE_CACHE="FALSE"/>
    <GetView NAME="filtered_post_create_entity_bean_methods" FROM_TABLE="oc4j_ejb_method_postCreate">
      <Column NAME="Process"                  TABLE_NAME="oc4j_ejb_method_postCreate"/>
      <Column NAME="name"                     TABLE_NAME="oc4j_ejb_method_postCreate"/>
      <Column NAME="oc4j_ejb"                 TABLE_NAME="oc4j_ejb_method_postCreate"
                                              COLUMN_NAME="oc4j_ejb_entity_bean"/>
      <Column NAME="oc4j_ejb_module"          TABLE_NAME="oc4j_ejb_method_postCreate"
                                              COLUMN_NAME="oc4j_ejb_pkg"/>
      <Column NAME="oc4j_ear"                 TABLE_NAME="oc4j_ejb_method_postCreate"/>
      <Column NAME="client.deltaCompleted"    TABLE_NAME="oc4j_ejb_method_postCreate"
                                              COLUMN_NAME="ejbPostCreate.deltaCompleted" />
      <Column NAME="client.deltaTime"         TABLE_NAME="oc4j_ejb_method_postCreate"
                                              COLUMN_NAME="ejbPostCreate.deltaTime" />
      <Column NAME="wrapper.time"             TABLE_NAME="oc4j_ejb_method_postCreate"
                                              COLUMN_NAME="ejbPostCreate.time" />
      <Column NAME="interval"                 TABLE_NAME="oc4j_ejb_method_postCreate"/>
      <ComputeColumn    NAME="wrapper.completed"            
                        EXPR="0"/>
      <ComputeColumn    NAME="wrapper.deltaCompleted"            
                        EXPR="0"/>
      <ComputeColumn    NAME="wrapper.deltaTime"            
                        EXPR="0"/>
      <ComputeColumn    NAME="wrapper.active"            
                        EXPR="0"/>

      <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
      <Filter COLUMN_NAME="oc4j_ejb" OPERATOR="ISNOTNULL"/>
    </GetView>

    <!-- Combine the metrics for all types of EJBs -->
    <Union NAME="all_ejb_methods"> 
        <Table NAME="filtered_session_bean_methods" />
        <Table NAME="filtered_stateless_bean_methods" />
        <Table NAME="filtered_stateful_bean_methods" />
        <Table NAME="filtered_mdb_methods" />
        <Table NAME="filtered_entity_bean_methods" />
        <Table NAME="filtered_post_create_entity_bean_methods" />
    </Union> 

    <!-- Report the metrics by EJB, EJB module and application -->
    <GroupBy NAME="result" FROM_TABLE="all_ejb_methods">
      <By               NAME="name"/>
      <By               NAME="oc4j_ejb"/>
      <By               NAME="oc4j_ejb_module"/>
      <By               NAME="oc4j_ear"/>
      <AggregateColumn  NAME="client.deltaCompletedSum"
                        COLUMN_NAME="client.deltaCompleted"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="client.deltaTimeSum"
                        COLUMN_NAME="client.deltaTime"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="wrapper.deltaCompletedSum"
                        COLUMN_NAME="wrapper.deltaCompleted"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="wrapper.deltaTimeSum"
                        COLUMN_NAME="wrapper.deltaTime"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="interval"
                        COLUMN_NAME="interval"          
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="service.throughput"            
                        EXPR="client.deltaCompletedSum/interval"/>
      <ComputeColumn    NAME="service.time"            
                        EXPR="(client.deltaCompletedSum == 0 ) ? 0 : client.deltaTimeSum/client.deltaCompletedSum"/>
      <ComputeColumn    NAME="wrapper.currentTime"            
                        EXPR="(wrapper.deltaCompletedSum == 0 ) ? 0 : wrapper.deltaTimeSum/wrapper.deltaCompletedSum"/>
      <ComputeColumn    NAME="overhead.time"            
                        EXPR="wrapper.currentTime-service.time"/>
<AggregateColumn  NAME="service.active"
		COLUMN_NAME="wrapper.active"          
		OPERATOR="SUM" />
<AggregateColumn  NAME="service.completed"
		COLUMN_NAME="wrapper.completed"          
		OPERATOR="SUM" />
<AggregateColumn  NAME="wrapper.totalTimeMilliseconds"
		COLUMN_NAME="wrapper.time"          
		OPERATOR="SUM" />
<ComputeColumn    NAME="service.totalTime"            
		EXPR="wrapper.totalTimeMilliseconds/1000"/>
</GroupBy> 

  </ExecutionDescriptor> 
  <QueryDescriptor FETCHLET_ID="JMX">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
    </ValidIf>
         <Property NAME="serviceURL" SCOPE="ASSOCTGT" ASSOCIATION_NAME="farm">serviceURL</Property>
         <Property NAME="UserName" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">UserName</Property>
         <Property NAME="password" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">password</Property>
         <Property NAME="metric" SCOPE="GLOBAL">oc4j:oc4j_ejb_method_rollup</Property>
         <Property NAME="topologyNodeID" SCOPE="INSTANCE">topologyNodeID</Property>
         <Property NAME="MetricService" SCOPE="GLOBAL">true</Property>
         <Property NAME="columnOrder" SCOPE="GLOBAL">name;oc4j_ejb;oc4j_ejb_module;oc4j_ear;service.active;service.throughput;service.time;service.completed;overhead.time;service.totalTime</Property>
         <Property NAME="name.parameter" SCOPE="USER" OPTIONAL="TRUE">name.parameter</Property>
         <Property NAME="oc4j_ejb.parameter" SCOPE="USER" OPTIONAL="TRUE">oc4j_ejb.parameter</Property>
         <Property NAME="oc4j_ejb_module.parameter" SCOPE="USER" OPTIONAL="TRUE">oc4j_ejb_module.parameter</Property>
         <Property NAME="oc4j_ear.parameter" SCOPE="USER" OPTIONAL="TRUE">oc4j_ear.parameter</Property>
         <Property NAME="admlMap" SCOPE="GLOBAL">
           <![CDATA[<argument type="java.util.Map"><value><item><key>name.parameter</key><value type="java.lang.String">%name.parameter%</value></item><item><key>ejb.parameter</key><value type="java.lang.String">%ejb.parameter%</value></item><item><key>oc4j_ejb_module.parameter</key><value type="java.lang.String">%oc4j_ejb_module.parameter%</value></item><item><key>oc4j_ear.parameter</key><value type="java.lang.String">%oc4j_ear.parameter%</value></item></value></argument>]]>
         </Property>         
  </QueryDescriptor>
</Metric>

<!-- Metric oc4j_ejb_method_delta_rollup -->
<Metric NAME="oc4j_ejb_method_delta_rollup" TYPE="TABLE" HELP="NO_HELP" USAGE_TYPE="COLLECT_UPLOAD">
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
  </ValidIf>
  <Display>
    <Label NLSID="oc4j_ejb_method_delta">OC4J EJB Method Delta Metrics</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="name" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_ejb_method_delta_method_name">Method Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_ejb" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_ejb_method_delta_ejb">EJB Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_ejb_module" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_ejb_method_delta_ejb_module">EJB Module Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_ear" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_ejb_method_delta_app_name">Application Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.deltaCompleted" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ejb_method_delta_service_deltaCompleted">Delta EJB Method Executions</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.deltaTime" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ejb_method_delta_service_deltaTime">Delta EJB Method Execution Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>

  <QueryDescriptor FETCHLET_ID="JMX">
         <Property NAME="serviceURL" SCOPE="ASSOCTGT" ASSOCIATION_NAME="farm">serviceURL</Property>
         <Property NAME="UserName" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">UserName</Property>
         <Property NAME="password" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">password</Property>
         <Property NAME="metric" SCOPE="GLOBAL">oc4j:oc4j_ejb_method_delta_rollup</Property>
         <Property NAME="topologyNodeID" SCOPE="INSTANCE">topologyNodeID</Property>
         <Property NAME="MetricService" SCOPE="GLOBAL">true</Property>
         <Property NAME="columnOrder" SCOPE="GLOBAL">name;oc4j_ejb;oc4j_ejb_module;oc4j_ear;service.deltaCompleted;service.deltaTime</Property>
         <Property NAME="name.parameter" SCOPE="USER" OPTIONAL="TRUE">name.parameter</Property>
         <Property NAME="oc4j_ejb.parameter" SCOPE="USER" OPTIONAL="TRUE">oc4j_ejb.parameter</Property>
         <Property NAME="oc4j_ejb_module.parameter" SCOPE="USER" OPTIONAL="TRUE">oc4j_ejb_module.parameter</Property>
         <Property NAME="oc4j_ear.parameter" SCOPE="USER" OPTIONAL="TRUE">oc4j_ear.parameter</Property>
         <Property NAME="admlMap" SCOPE="GLOBAL">
           <![CDATA[<argument type="java.util.Map"><value><item><key>name.parameter</key><value type="java.lang.String">%name.parameter%</value></item><item><key>ejb.parameter</key><value type="java.lang.String">%ejb.parameter%</value></item><item><key>oc4j_ejb_module.parameter</key><value type="java.lang.String">%oc4j_ejb_module.parameter%</value></item><item><key>oc4j_ear.parameter</key><value type="java.lang.String">%oc4j_ear.parameter%</value></item></value></argument>]]>
         </Property>         
  </QueryDescriptor>
</Metric>

<!-- Metric oc4j_jvm_rollup -->
<Metric NAME="oc4j_jvm_rollup" TYPE="TABLE">
   <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus"/>
   </ValidIf>
  <Display>
    <Label NLSID="oc4j_jvm_rollup">OC4J JVM Metrics</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="pid.value" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_jvm_rollup_pid_value">PID</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="islandID.value" TYPE="STRING" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jvm_rollup_islandID_value">Island Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="startTime.value" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jvm_rollup_startTime_value">JVM - Start Time (ms since Epoch)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="cpu.value" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jvm_rollup_cpu_value">JVM - CPU Usage (%)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="memory.value" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jvm_rollup_memory_value">JVM - Memory Usage (MB)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="heap.value" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jvm_rollup_heap_value">JVM - Heap Usage (MB)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="thread.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jvm_rollup_thread_active">JVM - Active Threads</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jvm_rollup_processRequest_active">JVM - Active Requests</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jvm_rollup_ejbMethod_active">JVM - Active EJB Methods</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>
  <ExecutionDescriptor> 
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900"/>
    </ValidIf>
    <!-- Join together the JVMResourceUsage and oc4j_pid tables so that we can
        get cpu and memory usage for each process -->
    <GetTable NAME="oc4j_pid" USE_CACHE="TRUE_IF_COLLECT"/>        
    <GetTable NAME="JVMResourceUsage" USE_CACHE="TRUE_IF_COLLECT"/>
    <JoinTables NAME="cpu_memory_table">
      <Table NAME="JVMResourceUsage"/>
      <Table NAME="oc4j_pid"/>        
      <Column NAME="Process"       TABLE_NAME="oc4j_pid"/>
      <Column NAME="pid.value"     TABLE_NAME="JVMResourceUsage"/>
      <Column NAME="cpu.value"     TABLE_NAME="JVMResourceUsage"/>
      <Column NAME="memory.value"  TABLE_NAME="JVMResourceUsage"/>
      <Where FROM_TABLE="JVMResourceUsage" JOIN_TABLE="oc4j_pid" 
          FROM_KEY="pid.value"  JOIN_KEY="Pid"/> 
    </JoinTables>

    <!-- Add the island to the table -->
    <GetTable NAME="oc4j_opmn" USE_CACHE="TRUE_IF_COLLECT"/>
    <JoinTables NAME="island_cpu_memory_table" >
      <Table NAME="cpu_memory_table"/>
      <Table NAME="oc4j_opmn"/>        
      <Column NAME="Process"        TABLE_NAME="cpu_memory_table"/>
      <Column NAME="pid.value"      TABLE_NAME="cpu_memory_table"/>
      <Column NAME="cpu.value"      TABLE_NAME="cpu_memory_table"/>
      <Column NAME="memory.value"   TABLE_NAME="cpu_memory_table"/>
      <Column NAME="islandID.value" TABLE_NAME="oc4j_opmn"
                                    COLUMN_NAME="oc4j_island.value"/>
      <Where  FROM_TABLE="cpu_memory_table" JOIN_TABLE="oc4j_opmn" 
          FROM_KEY="Process"  JOIN_KEY="Process"/> 
    </JoinTables>
    
    <!-- Add the start time and the heap usage -->        
    <GetTable NAME="JVM" USE_CACHE="TRUE_IF_COLLECT"/>
    <JoinTables NAME="all_resources_table" >
      <Table NAME="island_cpu_memory_table"/>
      <Table NAME="JVM"/>        
      <Column NAME="Process"           TABLE_NAME="island_cpu_memory_table"/>
      <Column NAME="pid.value"         TABLE_NAME="island_cpu_memory_table"/>
      <Column NAME="cpu.value"         TABLE_NAME="island_cpu_memory_table"/>
      <Column NAME="memory.value"      TABLE_NAME="island_cpu_memory_table"/>
      <Column NAME="islandID.value"    TABLE_NAME="island_cpu_memory_table"/>
      <Column NAME="totalMemory.value" TABLE_NAME="JVM"/>
      <Column NAME="freeMemory.value"  TABLE_NAME="JVM"/>
      <Column NAME="thread.active"     TABLE_NAME="JVM"
                                       COLUMN_NAME="activeThreads.value"/>
      <Column NAME="startTime.value"   TABLE_NAME="JVM"/>

      <ComputeColumn    NAME="heap.value"
                        EXPR="(totalMemory.value-freeMemory.value)/1024"/>
      <Where  FROM_TABLE="island_cpu_memory_table" JOIN_TABLE="JVM" 
          FROM_KEY="Process"  JOIN_KEY="Process"/> 
    </JoinTables>

    <!-- Get active requests per process -->    
    <GetTable NAME="oc4j_context" USE_CACHE="TRUE_IF_COLLECT"/>
    <GroupBy NAME="filtered_oc4j_context" FROM_TABLE="oc4j_context">
      <By NAME="Process"/>
      <AggregateColumn  NAME="processRequest.active"
                        COLUMN_NAME="processRequest.active"
                        OPERATOR="SUM"/>
    </GroupBy>      

    <!-- Add the requests to the result -->
    <JoinTables NAME="all_resources_and_requests_table" OUTER="TRUE">
      <Table NAME="all_resources_table"/>
      <Table NAME="filtered_oc4j_context"/>        
      <Column NAME="Process"                TABLE_NAME="all_resources_table"/>
      <Column NAME="pid.value"              TABLE_NAME="all_resources_table"/>
      <Column NAME="cpu.value"              TABLE_NAME="all_resources_table"/>
      <Column NAME="memory.value"           TABLE_NAME="all_resources_table"/>
      <Column NAME="islandID.value"         TABLE_NAME="all_resources_table"/>
      <Column NAME="heap.value"             TABLE_NAME="all_resources_table"/>
      <Column NAME="thread.active"          TABLE_NAME="all_resources_table"/>
      <Column NAME="startTime.value"        TABLE_NAME="all_resources_table"/>
      <Column NAME="processRequest.active"  TABLE_NAME="filtered_oc4j_context"/>
      <Where  FROM_TABLE="all_resources_table" JOIN_TABLE="filtered_oc4j_context" 
          FROM_KEY="Process"  JOIN_KEY="Process"/> 
    </JoinTables>

    <!-- Get active ejbs per process -->    
    <GetTable NAME="oc4j_ejb_method" USE_CACHE="TRUE_IF_COLLECT"/>
    <GroupBy NAME="filtered_oc4j_ejb_method" FROM_TABLE="oc4j_ejb_method">
      <By NAME="Process"/>
      <AggregateColumn  NAME="ejbMethod.active"
                        COLUMN_NAME="wrapper.active"          
                        OPERATOR="SUM" />
    </GroupBy>      

    <!-- Add the active ejbs to the result -->
    <JoinTables NAME="result" OUTER="TRUE">
      <Table NAME="all_resources_and_requests_table"/>
      <Table NAME="filtered_oc4j_ejb_method"/>        
      <Column NAME="Process"                TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="pid.value"              TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="cpu.value"              TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="memory.value"           TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="islandID.value"         TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="heap.value"             TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="thread.active"          TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="startTime.value"        TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="_processRequest.active"  
       COLUMN_NAME="processRequest.active"  TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="_ejbMethod.active"       
       COLUMN_NAME="ejbMethod.active"       TABLE_NAME="filtered_oc4j_ejb_method"/>
      <!-- Show zeros rather than empty columns -->
      <ComputeColumn    NAME="processRequest.active"
                        EXPR="_processRequest.active"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      <ComputeColumn    NAME="ejbMethod.active"
                        EXPR="_ejbMethod.active"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      <Where  FROM_TABLE="all_resources_and_requests_table" JOIN_TABLE="filtered_oc4j_ejb_method" 
          FROM_KEY="Process"  JOIN_KEY="Process"/> 
    </JoinTables>

  </ExecutionDescriptor> 
  <ExecutionDescriptor> 
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="904plus"/>
    </ValidIf>

    <!-- Find the rows in the opmn_process table that belong to this OC4J -->
    <GetTable NAME="opmn_process" ASSOC_TARGET="ias" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="oc4j_process" FROM_TABLE="opmn_process">
      <Filter COLUMN_NAME="type.value" OPERATOR="EQ">OC4J</Filter> 
    </GetView>
    <GetView  NAME="this_oc4j_process" FROM_TABLE="oc4j_process">
      <Filter COLUMN_NAME="opmn_process_type" SCOPE="INSTANCE" OPERATOR="EQ">DISPLAY_NAME</Filter> 
    </GetView>

    <!-- Add the total memory and number of processors to the process info -->
    <GetTable NAME="opmn_host_statistics" ASSOC_TARGET="ias" USE_CACHE="TRUE_IF_COLLECT"/>
    <JoinTables NAME="opmn_process_with_host_statistics"> 
      <Table NAME="opmn_host_statistics" />
      <Table NAME="this_oc4j_process" />
    </JoinTables> 
    
    <!-- get resource usage for all processes for this OC4J -->
    <GroupBy NAME="opmn_process_by_process" FROM_TABLE="opmn_process_with_host_statistics">
      <By NAME="islandID.value" COLUMN_NAME="opmn_process_set"/>
      <By NAME="pid.value"/>
      <By NAME="uid.value"/>
      <AggregateColumn  NAME="startTime.value"
                        COLUMN_NAME ="startTime.value"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="cpuTime.value"
                        COLUMN_NAME ="cpuTime.value"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="cpuTime.delta"
                        COLUMN_NAME ="cpuTime.delta"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="interval"
                        COLUMN_NAME ="interval"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="memoryUsed.value"
                        COLUMN_NAME ="memoryUsed.value"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="heapSize.value"
                        COLUMN_NAME ="heapSize.value"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="processors.total"
                        COLUMN_NAME = "numProcessors.value"
                        OPERATOR="AVG" />                       
      <AggregateColumn  NAME="upTime.component"
                        COLUMN_NAME ="upTime.value"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="upTime.delta"
                        COLUMN_NAME ="upTime.delta"
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="cpu.value"
                        EXPR="(interval*1000 > upTime.component) ? ((cpuTime.value*100)/upTime.component)/processors.total : ((cpuTime.delta*100)/upTime.delta)/processors.total"/>
      <ComputeColumn    NAME="memory.value"
                        EXPR="memoryUsed.value/1024"/>
      <ComputeColumn    NAME="heap.value"
                        EXPR="heapSize.value/1024"/>                        
    </GroupBy>    

    <!-- Add the Process to the result so that we can find entries for the -->
    <!-- corresponding JVMs -->
    <GetTable NAME="oc4j_opmn" USE_CACHE="TRUE_IF_COLLECT"/>
    <JoinTables NAME="all_resources_table"> 
      <Table NAME="opmn_process_by_process" />
      <Table NAME="oc4j_opmn" />
      <Column NAME="Process"         TABLE_NAME="oc4j_opmn"/>
      <Column NAME="pid.value"       TABLE_NAME="opmn_process_by_process"/>
      <Column NAME="islandID.value"  TABLE_NAME="opmn_process_by_process"/>
      <Column NAME="cpu.value"       TABLE_NAME="opmn_process_by_process"/>
      <Column NAME="memory.value"    TABLE_NAME="opmn_process_by_process"/>
      <Column NAME="heap.value"      TABLE_NAME="opmn_process_by_process"/>
      <Column NAME="startTime.value" TABLE_NAME="opmn_process_by_process"/>
      <Where FROM_TABLE="opmn_process_by_process" JOIN_TABLE="oc4j_opmn" 
          FROM_KEY="uid.value"  JOIN_KEY="opmn_sequence.value"/> 
    </JoinTables> 

    <!-- Add the number of active threads per process -->
    <GetTable NAME="JVM" USE_CACHE="TRUE_IF_COLLECT"/>
    <JoinTables NAME="all_resources_threads_table"> 
      <Table NAME="all_resources_table" />
      <Table NAME="JVM" />
      <Column NAME="Process"         TABLE_NAME="all_resources_table"/>
      <Column NAME="pid.value"       TABLE_NAME="all_resources_table"/>
      <Column NAME="islandID.value"  TABLE_NAME="all_resources_table"/>
      <Column NAME="cpu.value"       TABLE_NAME="all_resources_table"/>
      <Column NAME="memory.value"    TABLE_NAME="all_resources_table"/>
      <Column NAME="heap.value"      TABLE_NAME="all_resources_table"/>
      <Column NAME="startTime.value" TABLE_NAME="all_resources_table"/>
      <Column NAME="thread.active"   TABLE_NAME="JVM"
                                     COLUMN_NAME="activeThreads.value"/>
      <Where FROM_TABLE="all_resources_table" JOIN_TABLE="JVM" 
          FROM_KEY="Process"  JOIN_KEY="Process"/> 
    </JoinTables> 

    <!-- Get active requests per process -->    
    <GetTable NAME="oc4j_context" USE_CACHE="TRUE_IF_COLLECT"/>
    <GroupBy NAME="filtered_oc4j_context" FROM_TABLE="oc4j_context">
      <By NAME="Process"/>
      <AggregateColumn  NAME="processRequest.active"
                        COLUMN_NAME="processRequest.active"
                        OPERATOR="SUM"/>
    </GroupBy>      

   <!-- Add the requests to the result -->
   <JoinTables NAME="all_resources_and_requests_table" OUTER="TRUE">
      <Table NAME="all_resources_threads_table"/>
      <Table NAME="filtered_oc4j_context"/>        
      <Column NAME="Process"                TABLE_NAME="all_resources_threads_table"/>
      <Column NAME="pid.value"              TABLE_NAME="all_resources_threads_table"/>
      <Column NAME="cpu.value"              TABLE_NAME="all_resources_threads_table"/>
      <Column NAME="memory.value"           TABLE_NAME="all_resources_threads_table"/>
      <Column NAME="islandID.value"         TABLE_NAME="all_resources_threads_table"/>
      <Column NAME="heap.value"             TABLE_NAME="all_resources_threads_table"/>
      <Column NAME="startTime.value"        TABLE_NAME="all_resources_threads_table"/>
      <Column NAME="thread.active"          TABLE_NAME="all_resources_threads_table"/>
      <Column NAME="processRequest.active"  TABLE_NAME="filtered_oc4j_context"/>
      <Where  FROM_TABLE="all_resources_threads_table" JOIN_TABLE="filtered_oc4j_context" 
          FROM_KEY="Process"  JOIN_KEY="Process"/> 
    </JoinTables>

    <!-- Get active ejbs per process -->    
    <GetTable NAME="oc4j_ejb_method" USE_CACHE="TRUE_IF_COLLECT"/>
    <GroupBy NAME="filtered_oc4j_ejb_method" FROM_TABLE="oc4j_ejb_method">
      <By NAME="Process"/>
      <AggregateColumn  NAME="ejbMethod.active"
                        COLUMN_NAME="wrapper.active"          
                        OPERATOR="SUM" />
    </GroupBy>      

    <!-- Add the active ejbs to the result -->
    <JoinTables NAME="result" OUTER="TRUE">
      <Table NAME="all_resources_and_requests_table"/>
      <Table NAME="filtered_oc4j_ejb_method"/>        
      <Column NAME="Process"                TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="pid.value"              TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="cpu.value"              TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="memory.value"           TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="islandID.value"         TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="heap.value"             TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="startTime.value"        TABLE_NAME="all_resources_and_requests_table"/>      
      <Column NAME="thread.active"          TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="_processRequest.active" 
       COLUMN_NAME="processRequest.active"  TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="_ejbMethod.active"      
       COLUMN_NAME="ejbMethod.active"       TABLE_NAME="filtered_oc4j_ejb_method"/>
      <!-- Show zeros rather than empty columns -->
      <ComputeColumn    NAME="processRequest.active"
                        EXPR="_processRequest.active"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      <ComputeColumn    NAME="ejbMethod.active"
                        EXPR="_ejbMethod.active"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      <Where  FROM_TABLE="all_resources_and_requests_table" JOIN_TABLE="filtered_oc4j_ejb_method" 
          FROM_KEY="Process"  JOIN_KEY="Process"/> 
    </JoinTables>

  </ExecutionDescriptor> 
</Metric>

<!-- 1013plus_metric -->
<!-- Metric oc4j_multi_jvm_rollup for 1013plus -->
<Metric NAME="oc4j_multi_jvm_rollup" TYPE="TABLE">
  <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="1013plus"/>
   </ValidIf>
  <Display>
    <Label NLSID="oc4j_multi_jvm_rollup">OC4J JVM Metrics</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="indexInSet.value" TYPE="NUMBER" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_jvm_rollup_index_value">JVM Index</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
        <Display><Label NLSID='Process_col_label'>Process</Label>
        <ShortName NLSID='Process_col_sname'>Process</ShortName>
        <Description NLSID='Process_col_desc'>Ancestor Name</Description>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="pid.value" TYPE="STRING" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jvm_rollup_pid_value">PID</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="uid.value" TYPE="STRING" IS_KEY="FALSE" TRANSIENT="TRUE">
        <Display>
          <Label NLSID="oc4j_jvm_rollup_uid_value">UID</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="islandID.value" TYPE="STRING" IS_KEY="FALSE" TRANSIENT="TRUE">
        <Display>
          <Label NLSID="oc4j_jvm_rollup_islandID_value">Island Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="startTime.value" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jvm_rollup_startTime_value">JVM - Start Time (ms since Epoch)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="cpu.value" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jvm_rollup_cpu_value">JVM - CPU Usage (%)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="memory.value" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jvm_rollup_memory_value">JVM - Memory Usage (MB)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="heap.value" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jvm_rollup_heap_value">JVM - Heap Usage (MB)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="thread.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jvm_rollup_thread_active">JVM - Active Threads</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jvm_rollup_processRequest_active">JVM - Active Requests</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jvm_rollup_ejbMethod_active">JVM - Active EJB Methods</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>
 <ExecutionDescriptor>

    <!-- Find the rows in the opmn_process table that belong to this OC4J -->
    <GetTable NAME="opmn_process" ASSOC_TARGET="ias" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="oc4j_process" FROM_TABLE="opmn_process">
      <Filter COLUMN_NAME="type.value" OPERATOR="EQ">OC4J</Filter>
    </GetView>
    <GetView  NAME="this_oc4j_process" FROM_TABLE="oc4j_process">
      <Filter COLUMN_NAME="opmn_process_type" SCOPE="INSTANCE" OPERATOR="EQ">DISPLAY_NAME</Filter>
    </GetView>

    <!-- Add the total memory and number of processors to the process info -->
    <GetTable NAME="opmn_host_statistics" ASSOC_TARGET="ias" USE_CACHE="TRUE_IF_COLLECT"/>
    <JoinTables NAME="opmn_process_with_host_statistics">
      <Table NAME="opmn_host_statistics" />
      <Table NAME="this_oc4j_process" />
    </JoinTables>

 <!-- get resource usage for all processes for this OC4J -->
    <GroupBy NAME="opmn_process_by_process" FROM_TABLE="opmn_process_with_host_statistics">
      <By NAME="islandID.value" COLUMN_NAME="opmn_process_set"/>
      <By NAME="indexInSet.value"/>
      <By NAME="pid.value"/>
      <By NAME="uid.value"/>
      <AggregateColumn  NAME="startTime.value"
                        COLUMN_NAME ="startTime.value"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="cpuTime.value"
                        COLUMN_NAME ="cpuTime.value"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="cpuTime.delta"
                        COLUMN_NAME ="cpuTime.delta"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="interval"
                        COLUMN_NAME ="interval"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="memoryUsed.value"
                        COLUMN_NAME ="memoryUsed.value"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="heapSize.value"
                        COLUMN_NAME ="heapSize.value"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="processors.total"
                        COLUMN_NAME = "numProcessors.value"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="upTime.component"
                        COLUMN_NAME ="upTime.value"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="upTime.delta"
                        COLUMN_NAME ="upTime.delta"
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="cpu.value"
                        EXPR="(interval*1000 > upTime.component) ? ((cpuTime.value*100)/upTime.component)/processors.total : ((cpuTime.delta*100)/upTime.delta)/processors.total"/>
      <ComputeColumn    NAME="memory.value"
                        EXPR="memoryUsed.value/1024"/>
      <ComputeColumn    NAME="heap.value"
                        EXPR="heapSize.value/1024"/>
    </GroupBy>
<!-- Add the Process to the result so that we can find entries for the -->
    <!-- corresponding JVMs -->
    <GetTable NAME="oc4j_opmn" USE_CACHE="TRUE_IF_COLLECT"/>
    <JoinTables NAME="all_resources_table">
      <Table NAME="opmn_process_by_process" />
      <Table NAME="oc4j_opmn" />
      <Column NAME="Process"         TABLE_NAME="oc4j_opmn"/>
      <Column NAME="indexInSet.value" TABLE_NAME="opmn_process_by_process"/>
      <Column NAME="pid.value"       TABLE_NAME="opmn_process_by_process"/>
      <Column NAME="uid.value"       TABLE_NAME="opmn_process_by_process"/>
      <Column NAME="islandID.value"  TABLE_NAME="opmn_process_by_process"/>
      <Column NAME="cpu.value"       TABLE_NAME="opmn_process_by_process"/>
      <Column NAME="memory.value"    TABLE_NAME="opmn_process_by_process"/>
      <Column NAME="heap.value"      TABLE_NAME="opmn_process_by_process"/>
      <Column NAME="startTime.value" TABLE_NAME="opmn_process_by_process"/>
      <Where FROM_TABLE="opmn_process_by_process" JOIN_TABLE="oc4j_opmn" 
          FROM_KEY="uid.value"  JOIN_KEY="opmn_sequence.value"/>
    </JoinTables>

    <!-- Add the number of active threads per process -->
    <GetTable NAME="JVM" USE_CACHE="TRUE_IF_COLLECT"/>
    <JoinTables NAME="all_resources_threads_table">
      <Table NAME="all_resources_table" />
      <Table NAME="JVM" />
      <Column NAME="Process"         TABLE_NAME="all_resources_table"/>
      <Column NAME="indexInSet.value" TABLE_NAME="all_resources_table"/>
      <Column NAME="pid.value"       TABLE_NAME="all_resources_table"/>
      <Column NAME="uid.value"       TABLE_NAME="all_resources_table"/>
      <Column NAME="islandID.value"  TABLE_NAME="all_resources_table"/>
      <Column NAME="cpu.value"       TABLE_NAME="all_resources_table"/>
      <Column NAME="memory.value"    TABLE_NAME="all_resources_table"/>
      <Column NAME="heap.value"      TABLE_NAME="all_resources_table"/>
      <Column NAME="startTime.value" TABLE_NAME="all_resources_table"/>
      <Column NAME="thread.active"   TABLE_NAME="JVM"
                                     COLUMN_NAME="activeThreads.value"/>
      <Where FROM_TABLE="all_resources_table" JOIN_TABLE="JVM" 
          FROM_KEY="Process"  JOIN_KEY="Process"/>
    </JoinTables>
   <!-- Get active requests per process -->
    <GetTable NAME="oc4j_context" USE_CACHE="TRUE_IF_COLLECT"/>
    <GroupBy NAME="filtered_oc4j_context" FROM_TABLE="oc4j_context">
      <By NAME="Process"/>
      <AggregateColumn  NAME="processRequest.active"
                        COLUMN_NAME="processRequest.active"
                        OPERATOR="SUM"/>
    </GroupBy>      
    
   <!-- Add the requests to the result -->
   <JoinTables NAME="all_resources_and_requests_table" OUTER="TRUE">
      <Table NAME="all_resources_threads_table"/>
      <Table NAME="filtered_oc4j_context"/>
      <Column NAME="Process"                TABLE_NAME="all_resources_threads_table"/>
      <Column NAME="indexInSet.value"       TABLE_NAME="all_resources_threads_table"/>
      <Column NAME="pid.value"              TABLE_NAME="all_resources_threads_table"/>
      <Column NAME="uid.value"              TABLE_NAME="all_resources_threads_table"/>
      <Column NAME="cpu.value"              TABLE_NAME="all_resources_threads_table"/>
      <Column NAME="memory.value"           TABLE_NAME="all_resources_threads_table"/>
      <Column NAME="islandID.value"         TABLE_NAME="all_resources_threads_table"/>
      <Column NAME="heap.value"             TABLE_NAME="all_resources_threads_table"/>
      <Column NAME="startTime.value"        TABLE_NAME="all_resources_threads_table"/>
      <Column NAME="thread.active"          TABLE_NAME="all_resources_threads_table"/>
      <Column NAME="processRequest.active"  TABLE_NAME="filtered_oc4j_context"/>
      <Where  FROM_TABLE="all_resources_threads_table" JOIN_TABLE="filtered_oc4j_context" 
          FROM_KEY="Process"  JOIN_KEY="Process"/> 
    </JoinTables>

  <!-- Get active ejbs per process -->    
    <GetTable NAME="oc4j_ejb_method" USE_CACHE="TRUE_IF_COLLECT"/>
    <GroupBy NAME="filtered_oc4j_ejb_method" FROM_TABLE="oc4j_ejb_method">
      <By NAME="Process"/>
      <AggregateColumn  NAME="ejbMethod.active"
                        COLUMN_NAME="wrapper.active"          
                        OPERATOR="SUM" />
    </GroupBy>      
    
    <!-- Add the active ejbs to the result -->
    <JoinTables NAME="result" OUTER="TRUE">
      <Table NAME="all_resources_and_requests_table"/>
      <Table NAME="filtered_oc4j_ejb_method"/>
      <Column NAME="Process"                TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="indexInSet.value"       TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="pid.value"              TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="uid.value"              TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="cpu.value"              TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="memory.value"           TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="islandID.value"         TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="heap.value"             TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="startTime.value"        TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="thread.active"          TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="_processRequest.active" 
       COLUMN_NAME="processRequest.active"  TABLE_NAME="all_resources_and_requests_table"/>
      <Column NAME="_ejbMethod.active"      
       COLUMN_NAME="ejbMethod.active"       TABLE_NAME="filtered_oc4j_ejb_method"/>

 <!-- Show zeros rather than empty columns -->
      <ComputeColumn    NAME="processRequest.active"
                        EXPR="_processRequest.active"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      <ComputeColumn    NAME="ejbMethod.active"
                        EXPR="_ejbMethod.active"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      <Where  FROM_TABLE="all_resources_and_requests_table" JOIN_TABLE="filtered_oc4j_ejb_method" 
          FROM_KEY="Process"  JOIN_KEY="Process"/>
    </JoinTables>
  </ExecutionDescriptor>
</Metric>
<!-- 1013plus_metric-end -->


<!-- Metric oc4j_datasource_rollup -->
<Metric NAME="oc4j_datasource_rollup" TYPE="TABLE" USAGE_TYPE="REALTIME_ONLY">
<!-- klm: fix -->
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
    </ValidIf>
  <Display>
    <Label NLSID="oc4j_datasource_rollup">OC4J Datasource Metrics</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="name" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_datasource_rollup_name">JNDI Location</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="connections.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_datasource_rollup_connections_active">Datasource - Active JDBC Connections</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="connectionCacheHit.rate" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_datasource_rollup_connectionCacheHit_rate">Datasource - Connection Cache Hit Rate (%)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="connectionCache.available" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_datasource_rollup_connectionCache_available">Datasource - Available Cached Connections</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="statementCacheHit.rate" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_datasource_rollup_statementCacheHit_rate">Datasource - Statement Cache Hit Rate (%)</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="JavaWrapper">
      <Property NAME="class" SCOPE="GLOBAL">oracle.sysman.ias.oc4j.InstanceRollupMetric</Property>
      <Property NAME="method" SCOPE="GLOBAL">getDatasourceMetrics</Property>
      <Property NAME="targetName" SCOPE="INSTANCE">NAME</Property>
      <Property NAME="targetType" SCOPE="INSTANCE">TYPE</Property>
      <Property NAME="emdURL" SCOPE="SYSTEMGLOBAL">EMD_URL</Property>
    </QueryDescriptor>
</Metric>

<!-- Metric oc4j_servlet_for_rollup -->
<Metric NAME='oc4j_servlet_for_rollup' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
<Display>
 <Label NLSID='oc4j_servlet_for_rollup_table'>OC4J Raw Servlet Metrics</Label>
 <ShortName NLSID='oc4j_servlet_for_rollup_stable'>oc4j_servlet_for_rollup</ShortName>
 <Description NLSID='oc4j_servlet_for_rollup_table_desc'>oc4j_servlet_for_rollup Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='name_col_label'>Servlet Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_context' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_context_col_label'>Web Module Name</Label>
 <ShortName NLSID='oc4j_context_col_sname'>oc4j_context</ShortName>
<Description NLSID='oc4j_context_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ear' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_ear_col_label'>Application Name</Label>
 <ShortName NLSID='oc4j_ear_col_sname'>oc4j_ear</ShortName>
<Description NLSID='oc4j_ear_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.completed' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_completed_col_label'>Number of Invocations for a Servlet</Label>
 <ShortName NLSID='service_completed_col_sname'>service.completed</ShortName>
<Description NLSID='service_completed_col_desc'>servlet_metric</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.time' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_time_col_label'>Total Client Processing Time for a Servlet (ms)</Label>
 <ShortName NLSID='service_time_col_sname'>service.time</ShortName>
<Description NLSID='service_time_col_desc'>servlet_metric</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<!-- Start rate metrics -->
<ColumnDescriptor NAME='service.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='service.deltaCompleted'
 COMPUTE_EXPR="(_service.completed > service.completed) ? service.completed : (service.completed - _service.completed)">
 <Display>
  <Label NLSID='service_deltaCompleted_col_label'>Number of Invocations for a Servlet during the Last Period</Label>
  <ShortName NLSID='service_deltaCompleted_col_sname'>service.deltaCompleted</ShortName>
  <Description NLSID='service_deltaCompleted_col_desc'>
   The number of times the servlet was executed during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.deltaTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='service.deltaTime'
 COMPUTE_EXPR="(_service.time > service.time) ? service.time/1000 : (service.time - _service.time)/1000">
 <Display>
  <Label NLSID='service_deltaTime_col_label'>Client Processing Time for a Servlet during the Last Period (seconds)</Label>
  <ShortName NLSID='service_deltaTime_col_sname'>service.deltaTime</ShortName>
  <Description NLSID='service_deltaTime_col_desc'>
   The amount of time executing the servlet during the last interval
  </Description>
</Display></ColumnDescriptor>
<!-- End rate metrics -->
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>oc4j_servlet</Property>
<!-- do not include 'name' column in 'columnOrder' property.
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>oc4j_context;oc4j_ear;service.completed;service.time</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>

<!-- Metric oc4j_servlet_delta_rollup -->
<Metric NAME="oc4j_servlet_delta_rollup" TYPE="TABLE" HELP="NO_HELP" USAGE_TYPE="COLLECT_UPLOAD">
  <Display>
    <Label NLSID="oc4j_servlet_delta_rollup">OC4J Servlet Delta Metrics</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="name" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_servlet_delta_rollup_name">Servlet Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_web_module" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_servlet_delta_rollup_eweb_module">Web Module Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_ear" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_servlet_delta_rollup_ear">Application Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.deltaCompleted" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_servlet_delta_rollup_service_deltaCompleted">Delta Servlet Executions</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.deltaTime" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_servlet_delta_rollup_service_deltaTime">Delta Servlet Execution Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>
  <ExecutionDescriptor>
   <ValidIf>
     <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
   </ValidIf>

    <!-- Create filter so that we get metrics only for this oc4j instance -->
    <GetTable NAME="oc4j_opmn" USE_CACHE="TRUE_IF_COLLECT"/>        
    <GetView  NAME="this_oc4j" FROM_TABLE="oc4j_opmn">
      <Filter COLUMN_NAME="oc4j_instance.value" SCOPE="INSTANCE" OPERATOR="EQ">DISPLAY_NAME</Filter> 
    </GetView>

    <!-- Get all servelts for this oc4j instance -->
    <GetTable NAME="oc4j_servlet_for_rollup" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="filtered_oc4j_servlet" FROM_TABLE="oc4j_servlet_for_rollup">
      <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
    </GetView>

    <!-- Report the results by servlet, web module and application -->
    <GroupBy NAME="all_servlets" FROM_TABLE="filtered_oc4j_servlet">
      <By NAME="name"             COLUMN_NAME="name"/>
      <By NAME="oc4j_web_module"  COLUMN_NAME="oc4j_context"/>
      <By NAME="oc4j_ear"         COLUMN_NAME="oc4j_ear"/>
      <AggregateColumn  NAME="service.deltaCompleted" 
                        COLUMN_NAME="service.deltaCompleted"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="service.deltaTime" 
                        COLUMN_NAME="service.deltaTime"          
                        OPERATOR="SUM" />
    </GroupBy>

    <!-- figure out which rows are empty -->
    <GroupBy NAME="all_servlets_with_empty" FROM_TABLE="all_servlets">
      <By NAME="name"/>
      <By NAME="oc4j_web_module"/>
      <By NAME="oc4j_ear"/>
      <AggregateColumn  NAME="service.deltaCompleted"
                        COLUMN_NAME="service.deltaCompleted"
                        OPERATOR="AVG"/>
      <AggregateColumn  NAME="service.deltaTime"
                        COLUMN_NAME="service.deltaTime"
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="hasData.value"
                        EXPR="service.deltaCompleted+service.deltaTime"/>
    </GroupBy>

    <GetView  NAME="result" FROM_TABLE="all_servlets_with_empty">
      <Filter COLUMN_NAME="hasData.value" OPERATOR="NE">0</Filter>
    </GetView>

  </ExecutionDescriptor>
  
  <QueryDescriptor FETCHLET_ID="JMX">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
    </ValidIf>
         <Property NAME="serviceURL" SCOPE="ASSOCTGT" ASSOCIATION_NAME="farm">serviceURL</Property>
         <Property NAME="UserName" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">UserName</Property>
         <Property NAME="password" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">password</Property>
         <Property NAME="metric" SCOPE="GLOBAL">oc4j:oc4j_servlet_delta_rollup</Property>
         <Property NAME="topologyNodeID" SCOPE="INSTANCE">topologyNodeID</Property>
         <Property NAME="MetricService" SCOPE="GLOBAL">true</Property>
         <Property NAME="columnOrder" SCOPE="GLOBAL">name;oc4j_web_module;oc4j_ear;service.deltaCompleted;service.deltaTime</Property>
         <Property NAME="name.parameter" SCOPE="USER" OPTIONAL="TRUE">name.parameter</Property>
         <Property NAME="oc4j_web_module.parameter" SCOPE="USER" OPTIONAL="TRUE">oc4j_web_module.parameter</Property>
         <Property NAME="oc4j_ear.parameter" SCOPE="USER" OPTIONAL="TRUE">oc4j_ear.parameter</Property>
         <Property NAME="admlMap" SCOPE="GLOBAL">
           <![CDATA[<argument type="java.util.Map"><value><item><key>name.parameter</key><value type="java.lang.String">%name.parameter%</value></item><item><key>oc4j_web_module.parameter</key><value type="java.lang.String">%oc4j_web_module.parameter%</value></item><item><key>oc4j_ear.parameter</key><value type="java.lang.String">%oc4j_ear.parameter%</value></item></value></argument>]]>
         </Property>         
  </QueryDescriptor>

</Metric>

<!-- Metric oc4j_jsp_not_threadsafe_for_rollup -->
<Metric NAME='oc4j_jsp_not_threadsafe_for_rollup' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
<Display>
 <Label NLSID='oc4j_jsp_not_threadsafe_for_rollup_table'>OC4J Raw Single-Threaded JSP Metrics</Label>
 <ShortName NLSID='oc4j_jsp_not_threadsafe_for_rollup_stable'>oc4j_jsp_not_threadsafe_for_rollup</ShortName>
 <Description NLSID='oc4j_jsp_not_threadsafe_for_rollup_table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='name_col_label'>JSP Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_context' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_context_col_label'>Web Module Name</Label>
 <ShortName NLSID='oc4j_context_col_sname'>oc4j_context</ShortName>
<Description NLSID='oc4j_context_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ear' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_ear_col_label'>Application Name</Label>
 <ShortName NLSID='oc4j_ear_col_sname'>oc4j_ear</ShortName>
<Description NLSID='oc4j_ear_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.completed' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_completed_col_label'>Number of Invocations for a Single-Threaded JSP</Label>
 <ShortName NLSID='service_completed_col_sname'>service.completed</ShortName>
<Description NLSID='service_completed_col_desc'>oc4j_jsp(threadsafe=false)</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.time' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_time_col_label'>Total Client Processing Time for a Single-Threaded JSP (ms)</Label>
 <ShortName NLSID='service_time_col_sname'>service.time</ShortName>
<Description NLSID='service_time_col_desc'>oc4j_jsp(threadsafe=false)</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<!-- Start rate metrics -->
<ColumnDescriptor NAME='service.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='service.deltaCompleted'
 COMPUTE_EXPR="(_service.completed > service.completed) ? service.completed : (service.completed - _service.completed)">
 <Display>
  <Label NLSID='service_deltaCompleted_col_label'>Number Executions for a Single-Threaded JSP During the Last Period</Label>
  <ShortName NLSID='service_deltaCompleted_col_sname'>service.deltaCompleted</ShortName>
  <Description NLSID='service_deltaCompleted_col_desc'>
   The number of times the JSP was executed during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.deltaTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='service.deltaTime'
 COMPUTE_EXPR="(_service.time > service.time) ? service.time/1000 : (service.time - _service.time)/1000">
 <Display>
  <Label NLSID='service_deltaTime_col_label'>Time Spent Executing a Single-Threaded JSP During the Last Period (seconds)</Label>
  <ShortName NLSID='service_deltaTime_col_sname'>service.deltaTime</ShortName>
  <Description NLSID='service_deltaTime_col_desc'>
   The amount of time executing the JSP during the last interval
  </Description>
</Display></ColumnDescriptor>
<!-- End rate metrics -->
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>oc4j_jsp(threadsafe=false)</Property>
<!-- do not include 'name' column in 'columnOrder' property. 
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>oc4j_context;oc4j_ear;service.completed;service.time</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>

<!-- Metric oc4j_jsp_threadsafe_for_rollup -->
<Metric NAME='oc4j_jsp_threadsafe_for_rollup' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
<Display>
 <Label NLSID='oc4j_jsp_threadsafe_for_rollup_table'>OC4J Raw Multi-Threaded JSP Metrics</Label>
 <ShortName NLSID='oc4j_jsp_threadsafe_for_rollup_stable'>oc4j_jsp_threadsafe_for_rollup</ShortName>
 <Description NLSID='oc4j_jsp_threadsafe_for_rollup_table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_context' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_context_col_label'>Web Module Name</Label>
 <ShortName NLSID='oc4j_context_col_sname'>oc4j_context</ShortName>
<Description NLSID='oc4j_context_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ear' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_ear_col_label'>Application Name</Label>
 <ShortName NLSID='oc4j_ear_col_sname'>oc4j_ear</ShortName>
<Description NLSID='oc4j_ear_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.completed' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_completed_col_label'>Number of Invocations for a Multi-Threaded JSP</Label>
 <ShortName NLSID='service_completed_col_sname'>service.completed</ShortName>
<Description NLSID='service_completed_col_desc'>oc4j_jsp(threadsafe=false)</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.time' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_time_col_label'>Total Client Processing Time for a Multi-Threaded JSP (ms)</Label>
 <ShortName NLSID='service_time_col_sname'>service.time</ShortName>
<Description NLSID='service_time_col_desc'>oc4j_jsp(threadsafe=false)</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<!-- Start rate metrics -->
<ColumnDescriptor NAME='service.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='service.deltaCompleted'
 COMPUTE_EXPR="(_service.completed > service.completed) ? service.completed : (service.completed - _service.completed)">
 <Display>
  <Label NLSID='service_deltaCompleted_col_label'>Number Executions for a Multi-Threaded JSP During the Last Period</Label>
  <ShortName NLSID='service_deltaCompleted_col_sname'>service.deltaCompleted</ShortName>
  <Description NLSID='service_deltaCompleted_col_desc'>
   The number of times the JSP was executed during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.deltaTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='service.deltaTime'
 COMPUTE_EXPR="(_service.time > service.time) ? service.time/1000 : (service.time - _service.time)/1000">
 <Display>
  <Label NLSID='service_deltaTime_col_label'>Time Spent Executing a Multi-Threaded JSP During the Last Period (seconds)</Label>
  <ShortName NLSID='service_deltaTime_col_sname'>service.deltaTime</ShortName>
  <Description NLSID='service_deltaTime_col_desc'>
   The amount of time executing the JSP during the last interval
  </Description>
</Display></ColumnDescriptor>
<!-- End rate metrics -->
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>oc4j_jsp(threadsafe=true)</Property>
<!-- do not include 'name' column in 'columnOrder' property. 
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>oc4j_context;oc4j_ear;service.completed;service.time</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>

<!-- Metric oc4j_jsp_delta_rollup -->
<Metric NAME="oc4j_jsp_delta_rollup" TYPE="TABLE" HELP="NO_HELP" USAGE_TYPE="COLLECT_UPLOAD">
  <Display>
    <Label NLSID="oc4j_jsp_delta_rollup">OC4J JSP Delta Metrics</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="name" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_jsp_delta_rollup_name">JSP Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_web_module" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_jsp_delta_rollup_eweb_module">Web Module Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="oc4j_ear" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_jsp_delta_rollup_ear">Application Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.deltaCompleted" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jsp_delta_rollup_service_deltaCompleted">Delta JSPs Executions</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="service.deltaTime" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_jsp_delta_rollup_service_deltaTime">Delta JSP Execution Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>
  <ExecutionDescriptor>
    <ValidIf>
     <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
    </ValidIf>

    <!-- Create filter so that we get metrics only for this oc4j instance -->
    <GetTable NAME="oc4j_opmn" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="this_oc4j" FROM_TABLE="oc4j_opmn">
      <Filter COLUMN_NAME="oc4j_instance.value" SCOPE="INSTANCE" OPERATOR="EQ">DISPLAY_NAME</Filter> 
    </GetView>

    <!-- Get metrics for all the threadsafe JSPs -->
    <GetTable NAME="oc4j_jsp_threadsafe_for_rollup" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="filtered_oc4j_jsp_threadsafe" FROM_TABLE="oc4j_jsp_threadsafe_for_rollup">
      <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
    </GetView>
    <GroupBy NAME="grouped_oc4j_jsp_threadsafe" FROM_TABLE="filtered_oc4j_jsp_threadsafe">
      <By NAME="name"             COLUMN_NAME="name"/>
      <By NAME="oc4j_web_module"  COLUMN_NAME="oc4j_context"/>
      <By NAME="oc4j_ear"         COLUMN_NAME="oc4j_ear"/>
      <AggregateColumn  NAME="service.deltaCompleted" 
                        COLUMN_NAME="service.deltaCompleted"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="service.deltaTime" 
                        COLUMN_NAME="service.deltaTime"          
                        OPERATOR="SUM" />
    </GroupBy>

    <!-- Get metrics for all the single threaded JSPs -->
    <GetTable NAME="oc4j_jsp_not_threadsafe_for_rollup" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="filtered_oc4j_jsp_not_threadsafe" FROM_TABLE="oc4j_jsp_not_threadsafe_for_rollup">
      <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
    </GetView>
    <GroupBy NAME="grouped_oc4j_jsp_not_threadsafe" FROM_TABLE="filtered_oc4j_jsp_not_threadsafe">
      <By NAME="name"             COLUMN_NAME="name"/>
      <By NAME="oc4j_web_module"  COLUMN_NAME="oc4j_context"/>
      <By NAME="oc4j_ear"         COLUMN_NAME="oc4j_ear"/>
      <AggregateColumn  NAME="service.deltaCompleted" 
                        COLUMN_NAME="service.deltaCompleted"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="service.deltaTime" 
                        COLUMN_NAME="service.deltaTime"          
                        OPERATOR="SUM" />
    </GroupBy>

    <!-- Combine the results for both types of JSPs -->
    <Union NAME="all_jsps"> 
        <Table NAME="grouped_oc4j_jsp_threadsafe" />
        <Table NAME="grouped_oc4j_jsp_not_threadsafe" />
    </Union> 

    <!-- figure out which rows are empty -->
    <GroupBy NAME="all_jsps_with_empty" FROM_TABLE="all_jsps">
      <By NAME="name"/>
      <By NAME="oc4j_web_module"/>
      <By NAME="oc4j_ear"/>
      <AggregateColumn  NAME="service.deltaCompleted"
                        COLUMN_NAME="service.deltaCompleted"
                        OPERATOR="AVG"/>
      <AggregateColumn  NAME="service.deltaTime"
                        COLUMN_NAME="service.deltaTime"
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="hasData.value"
                        EXPR="service.deltaCompleted+service.deltaTime"/>
    </GroupBy>

    <GetView  NAME="result" FROM_TABLE="all_jsps_with_empty">
      <Filter COLUMN_NAME="hasData.value" OPERATOR="NE">0</Filter>
    </GetView>

  </ExecutionDescriptor>

  <QueryDescriptor FETCHLET_ID="JMX">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
    </ValidIf>
         <Property NAME="serviceURL" SCOPE="ASSOCTGT" ASSOCIATION_NAME="farm">serviceURL</Property>
         <Property NAME="UserName" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">UserName</Property>
         <Property NAME="password" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">password</Property>
         <Property NAME="metric" SCOPE="GLOBAL">oc4j:oc4j_jsp_delta_rollup</Property>
         <Property NAME="topologyNodeID" SCOPE="INSTANCE">topologyNodeID</Property>
         <Property NAME="MetricService" SCOPE="GLOBAL">true</Property>
         <Property NAME="columnOrder" SCOPE="GLOBAL">name;oc4j_web_module;oc4j_ear;service.deltaCompleted;service.deltaTime</Property>
         <Property NAME="name.parameter" SCOPE="USER" OPTIONAL="TRUE">name.parameter</Property>
         <Property NAME="oc4j_web_module.parameter" SCOPE="USER" OPTIONAL="TRUE">oc4j_web_module.parameter</Property>
         <Property NAME="oc4j_ear.parameter" SCOPE="USER" OPTIONAL="TRUE">oc4j_ear.parameter</Property>
         <Property NAME="admlMap" SCOPE="GLOBAL">
           <![CDATA[<argument type="java.util.Map"><value><item><key>name.parameter</key><value type="java.lang.String">%name.parameter%</value></item><item><key>oc4j_web_module.parameter</key><value type="java.lang.String">%oc4j_web_module.parameter%</value></item><item><key>oc4j_ear.parameter</key><value type="java.lang.String">%oc4j_ear.parameter%</value></item></value></argument>]]>
         </Property>         
  </QueryDescriptor>
</Metric>

<!-- Metric oc4j_context_for_rollup -->
<Metric NAME='oc4j_context_for_rollup' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
<Display>
 <Label NLSID='oc4j_context_for_rollup_table'>OC4J Raw Web Module Metrics</Label>
 <ShortName NLSID='oc4j_context_for_rollup_stable'>oc4j_context_for_rollup</ShortName>
 <Description NLSID='oc4j_context_for_rollup_table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ear' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_ear_col_label'>oc4j_ear</Label>
 <ShortName NLSID='oc4j_ear_col_sname'>oc4j_ear</ShortName>
<Description NLSID='oc4j_ear_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='processRequest.completed' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='processRequest_completed_col_label'>processRequest.completed, ops</Label>
 <ShortName NLSID='processRequest_completed_col_sname'>processRequest.completed</ShortName>
<Description NLSID='processRequest_completed_col_desc'>oc4j_context</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='processRequest.time' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='processRequest_time_col_label'>processRequest.time, msecs</Label>
 <ShortName NLSID='processRequest_time_col_sname'>processRequest.time</ShortName>
<Description NLSID='processRequest_time_col_desc'>oc4j_context</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='sessionActivation.active' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='sessionActivation_active_col_label'>sessionActivation.active</Label>
 <ShortName NLSID='sessionActivation_active_col_sname'>sessionActivation.active</ShortName>
<Description NLSID='sessionActivation_active_col_desc'>oc4j_context</Description>
</Display></ColumnDescriptor>
<!-- Start rate metrics -->
<ColumnDescriptor NAME='processRequest.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='processRequest.deltaCompleted'
 COMPUTE_EXPR="(_processRequest.completed > processRequest.completed) ? processRequest.completed : (processRequest.completed - _processRequest.completed)">
 <Display>
  <Label NLSID='processRequest_deltaCompleted_col_label'>processRequest.deltaCompleted, requests</Label>
  <ShortName NLSID='processRequest_deltaCompleted_col_sname'>processRequest.deltaCompleted</ShortName>
  <Description NLSID='processRequest_deltaCompleted_col_desc'>
   The number of requests processed during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='processRequest.totalTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='processRequest.totalTime'
 COMPUTE_EXPR="processRequest.time/1000">
 <Display>
  <Label NLSID='processRequest_totalTime_col_label'>processRequest.totalTime, seconds</Label>
  <ShortName NLSID='processRequest_totalTime_col_sname'>processRequest.totalTime</ShortName>
  <Description NLSID='processRequest_totalTime_col_desc'>
   The total amount of time spent processing requests since oc4j started (seconds)
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='processRequest.deltaTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='processRequest.deltaTime'
 COMPUTE_EXPR="(_processRequest.time > processRequest.time) ? processRequest.time/1000 : (processRequest.time - _processRequest.time)/1000">
 <Display>
  <Label NLSID='processRequest_deltaTime_col_label'>processRequest.deltaTime, seconds</Label>
  <ShortName NLSID='processRequest_deltaTime_col_sname'>processRequest.deltaTime</ShortName>
  <Description NLSID='processRequest_deltaTime_col_desc'>
   The amount of time spent processing requests during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='interval' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='interval'
 COMPUTE_EXPR="__interval">
 <Display>
  <Label NLSID='interval_col_label'>interval, seconds</Label>
  <ShortName NLSID='interval_col_sname'>interval, seconds</ShortName>
  <Description NLSID='interval_col_desc'>
   The time in seconds of the last interval
  </Description>
</Display></ColumnDescriptor>
<!-- End rate metrics -->
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>oc4j_context</Property>
<!-- do not include 'name' column in 'columnOrder' property.
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>oc4j_ear;processRequest.completed;processRequest.time;sessionActivation.active</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>
<!-- Metric oc4j_ejb_method_for_rollup -->
<Metric NAME='oc4j_ejb_method_for_rollup' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
<Display>
 <Label NLSID='oc4j_ejb_method_for_rollup'>OC4J Raw EJB Method Metrics</Label>
 <ShortName NLSID='oc4j_ejb_method_for_rollup_stable'>oc4j_ejb_method_for_rollup</ShortName>
 <Description NLSID='oc4j_ejb_method_for_rollup_table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ear' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_ear_col_label'>oc4j_ear</Label>
 <ShortName NLSID='oc4j_ear_col_sname'>oc4j_ear</ShortName>
<Description NLSID='oc4j_ear_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='wrapper.completed' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='wrapper_completed_col_label'>wrapper.completed, ops</Label>
 <ShortName NLSID='wrapper_completed_col_sname'>wrapper.completed</ShortName>
<Description NLSID='wrapper_completed_col_desc'>wrapper</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='wrapper.time' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='wrapper_time_col_label'>wrapper.time, msecs</Label>
 <ShortName NLSID='wrapper_time_col_sname'>wrapper.time</ShortName>
<Description NLSID='wrapper_time_col_desc'>wrapper</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<!-- Start rate metrics -->
<ColumnDescriptor NAME='wrapper.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='wrapper.deltaCompleted'
 COMPUTE_EXPR="(_wrapper.completed > wrapper.completed) ? wrapper.completed : (wrapper.completed - _wrapper.completed)">
 <Display>
  <Label NLSID='wrapper_deltaCompleted_col_label'>wrapper.deltaCompleted, executes</Label>
  <ShortName NLSID='wrapper_deltaCompleted_col_sname'>wrapper.deltaCompleted</ShortName>
  <Description NLSID='wrapper_deltaCompleted_col_desc'>
   The number of times the wrapper and client code was executed during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='wrapper.deltaTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='wrapper.deltaTime'
 COMPUTE_EXPR="(_wrapper.time > wrapper.time) ? wrapper.time/1000 : (wrapper.time - _wrapper.time)/1000">
 <Display>
  <Label NLSID='wrapper_deltaTime_col_label'>wrapper.deltaTime, seconds</Label>
  <ShortName NLSID='wrapper_deltaTime_col_sname'>wrapper.deltaTime</ShortName>
  <Description NLSID='wrapper_deltaTime_col_desc'>
   The amount of time executing the wrapper and client code during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='wrapper.totalTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='wrapper.totalTime'
 COMPUTE_EXPR="wrapper.time/1000">
 <Display>
  <Label NLSID='wrapper_totalTime_col_label'>wrapper.totalTime, seconds</Label>
  <ShortName NLSID='wrapper_totalTime_col_sname'>wrapper.totalTime</ShortName>
  <Description NLSID='wrapper_totalTime_col_desc'>
   The amount of time executing the wrapper and client code since oc4j started (seconds)
  </Description>
</Display></ColumnDescriptor>
<!-- End rate metrics -->
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>oc4j_ejb_method</Property>
<!-- do not include 'name' column in 'columnOrder' property. 
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>oc4j_ear;wrapper.completed;wrapper.time</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>

<!-- Metric oc4j_ears_for_instances_rollup -->
<Metric NAME="oc4j_ears_for_instances_rollup" TYPE="TABLE" USAGE_TYPE="COLLECT_UPLOAD">
<!-- klm: fix -->
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
  <Display>
    <Label NLSID="oc4j_ears_for_instances_rollup">Application Metrics for OC4J Instances</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="name" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_ears_for_instances_rollup_name">Application Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="instanceName" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_ears_for_instances_rollup_instanceName">OC4J Instance Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.completed" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ears_for_instances_rollup_processRequest_completed">Application - Requests Completed since Startup</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.deltaCompleted" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ears_for_inst_r_processRequest_deltaCompleted">Application - Delta Requests Completed</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.time" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ears_for_instances_rollup_processRequest_time">Application - Total Request Processing Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.deltaTime" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ears_for_instances_rollup_processRequest_deltaTime">Application - Delta Request Processing Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.completed" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ears_for_instances_rollup_ejbMethod_completed">Application - Total EJB Method Invocations</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.deltaCompleted" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ears_for_instances_rollup_ejbMethod_deltaCompleted">Application - Delta EJB Method Invocations</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.time" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ears_for_instances_rollup_ejbMethod_time">Application - Total EJB Method Execution Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ejbMethod.deltaTime" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_ears_for_instances_rollup_ejbMethod_deltaTime">Application - Delta EJB Method Execution Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME='processAll.time' TYPE='NUMBER' IS_KEY='FALSE'>
       <Display>
       <Label NLSID='processAll_time_col_label'>Application - Total Servlet, JSP and EJB Time (seconds)</Label>
      </Display></ColumnDescriptor>

      <ColumnDescriptor NAME='processAll.deltaTime' TYPE='NUMBER' IS_KEY='FALSE'>
       <Display>
       <Label NLSID='processAll_deltaTime_col_label'>Application - Delta Servlet, JSP and EJB Time (seconds)</Label>
      </Display></ColumnDescriptor>
  </TableDescriptor>
  
  <ExecutionDescriptor>

    <!-- Get metrics for all web modules in any oc4j instances in this iAS installation -->
    <GetTable NAME="oc4j_opmn" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetTable NAME="oc4j_context_for_rollup" USE_CACHE="TRUE_IF_COLLECT"/>
    <JoinTables NAME="all_webs" OUTER="TRUE"> 
      <Table NAME="oc4j_opmn" />
      <Table NAME="oc4j_context_for_rollup" />
      <Column NAME="oc4j_ear"                      TABLE_NAME="oc4j_context_for_rollup"/>
      <Column NAME="instanceName"                  TABLE_NAME="oc4j_opmn"
                                                   COLUMN_NAME="oc4j_instance.value" />
      <Column NAME="processRequest.deltaTime"      TABLE_NAME="oc4j_context_for_rollup"/>
      <Column NAME="processRequest.deltaCompleted" TABLE_NAME="oc4j_context_for_rollup"/>
      <Column NAME="processRequest.time"           TABLE_NAME="oc4j_context_for_rollup"/>
      <Column NAME="processRequest.completed"      TABLE_NAME="oc4j_context_for_rollup"/>
      <Where  FROM_TABLE="oc4j_opmn" JOIN_TABLE="oc4j_context_for_rollup" 
        FROM_KEY="Process"  JOIN_KEY="Process"/> 
    </JoinTables> 

    <!-- Rollup the web module metrics by application and instance name -->
    <GroupBy NAME="grouped_all_webs" FROM_TABLE="all_webs">
      <By NAME="oc4j_ear"/>
      <By NAME="instanceName"/>      
      <AggregateColumn  NAME="processRequest.deltaTime" 
                        COLUMN_NAME ="processRequest.deltaTime"
                        OPERATOR="SUM" />
      <AggregateColumn  NAME ="processRequest.deltaCompleted" 
                        COLUMN_NAME ="processRequest.deltaCompleted"
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="processRequest.completed"
                        COLUMN_NAME="processRequest.completed"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="processRequest.totalTimeMilliseconds"
                        COLUMN_NAME="processRequest.time"          
                        OPERATOR="SUM"/>
      <ComputeColumn    NAME="processRequest.time"            
                        EXPR="processRequest.totalTimeMilliseconds/1000"/>
    </GroupBy>

    <!-- Get metrics for all ejb methods in any oc4j instances in this iAS installation -->
    <GetTable NAME="oc4j_ejb_method_for_rollup" USE_CACHE="TRUE_IF_COLLECT"/>
    <JoinTables NAME="all_ejb_methods"> 
      <Table NAME="oc4j_opmn" />
      <Table NAME="oc4j_ejb_method_for_rollup" />
      <Column NAME="oc4j_ear"               TABLE_NAME="oc4j_ejb_method_for_rollup"/>
      <Column NAME="instanceName"           TABLE_NAME="oc4j_opmn"
                                            COLUMN_NAME="oc4j_instance.value" />
      <Column NAME="wrapper.time"           TABLE_NAME="oc4j_ejb_method_for_rollup"/>
      <Column NAME="wrapper.completed"      TABLE_NAME="oc4j_ejb_method_for_rollup"/>
      <Column NAME="wrapper.deltaTime"      TABLE_NAME="oc4j_ejb_method_for_rollup"/>
      <Column NAME="wrapper.deltaCompleted" TABLE_NAME="oc4j_ejb_method_for_rollup"/>
      <Where  FROM_TABLE="oc4j_opmn" JOIN_TABLE="oc4j_ejb_method_for_rollup" 
        FROM_KEY="Process"  JOIN_KEY="Process"/> 
    </JoinTables> 

    <!-- Rollup the EJB method metrics by application and instance name -->
    <GroupBy NAME="grouped_all_ejb_methods" FROM_TABLE="all_ejb_methods">
      <By NAME="oc4j_ear"/>
      <By NAME="instanceName"/>      
      <AggregateColumn  NAME="ejbMethod.deltaTime" 
                        COLUMN_NAME ="wrapper.deltaTime"
                        OPERATOR="SUM" />
      <AggregateColumn  NAME ="ejbMethod.deltaCompleted" 
                        COLUMN_NAME ="wrapper.deltaCompleted"
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="ejbMethod.completed"
                        COLUMN_NAME="wrapper.completed"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="ejbMethod.totalTimeMilliseconds"
                        COLUMN_NAME="wrapper.time"          
                        OPERATOR="SUM"/>
      <ComputeColumn    NAME="ejbMethod.time"            
                        EXPR="ejbMethod.totalTimeMilliseconds/1000"/>
    </GroupBy>

    <!-- Join together the Web module and EjB metrics and report them by 
      application and instance -->
    <JoinTables NAME="result1" OUTER="TRUE">
      <Table NAME="grouped_all_webs"/>
      <Table NAME="grouped_all_ejb_methods"/>        
      <Column NAME="name"                           TABLE_NAME="grouped_all_webs"
                                                    COLUMN_NAME="oc4j_ear"/>
      <Column NAME="instanceName"                   TABLE_NAME="grouped_all_webs"/>
      <Column NAME="processRequest.time"            TABLE_NAME="grouped_all_webs"/>
      <Column NAME="processRequest.deltaTime"       TABLE_NAME="grouped_all_webs"/>
      <Column NAME="processRequest.completed"       TABLE_NAME="grouped_all_webs"/>
      <Column NAME="processRequest.deltaCompleted"  TABLE_NAME="grouped_all_webs"/>
      <Column NAME="ejbMethod.time"                 TABLE_NAME="grouped_all_ejb_methods"/>
      <Column NAME="ejbMethod.deltaTime"            TABLE_NAME="grouped_all_ejb_methods"/>
      <Column NAME="ejbMethod.completed"            TABLE_NAME="grouped_all_ejb_methods"/>
      <Column NAME="ejbMethod.deltaCompleted"       TABLE_NAME="grouped_all_ejb_methods"/>
      <ComputeColumn    NAME="processAll.time"            
                        EXPR="processRequest.time + ejbMethod.time"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      <ComputeColumn    NAME="processAll.deltaTime"            
                        EXPR="processRequest.deltaTime + ejbMethod.deltaTime"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      
      <Where  FROM_TABLE="grouped_all_webs" JOIN_TABLE="grouped_all_ejb_methods" 
        FROM_KEY="oc4j_ear" JOIN_KEY="oc4j_ear"/> 
      <Where  FROM_TABLE="grouped_all_webs" JOIN_TABLE="grouped_all_ejb_methods" 
        FROM_KEY="instanceName" JOIN_KEY="instanceName"/> 
    </JoinTables>
    <JoinTables NAME="result2" OUTER="TRUE">
      <Table NAME="grouped_all_ejb_methods"/>
      <Table NAME="grouped_all_webs"/>
      <Column NAME="name"                           TABLE_NAME="grouped_all_ejb_methods"
                                                    COLUMN_NAME="oc4j_ear"/>
      <Column NAME="instanceName"                   TABLE_NAME="grouped_all_ejb_methods"/>
      <Column NAME="processRequest.time"            TABLE_NAME="grouped_all_webs"/>
      <Column NAME="processRequest.deltaTime"       TABLE_NAME="grouped_all_webs"/>
      <Column NAME="processRequest.completed"       TABLE_NAME="grouped_all_webs"/>
      <Column NAME="processRequest.deltaCompleted"  TABLE_NAME="grouped_all_webs"/>
      <Column NAME="ejbMethod.time"                 TABLE_NAME="grouped_all_ejb_methods"/>
      <Column NAME="ejbMethod.deltaTime"            TABLE_NAME="grouped_all_ejb_methods"/>
      <Column NAME="ejbMethod.completed"            TABLE_NAME="grouped_all_ejb_methods"/>
      <Column NAME="ejbMethod.deltaCompleted"       TABLE_NAME="grouped_all_ejb_methods"/>
      <ComputeColumn    NAME="processAll.time"
                        EXPR="processRequest.time + ejbMethod.time"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      <ComputeColumn    NAME="processAll.deltaTime"
                        EXPR="processRequest.deltaTime + ejbMethod.deltaTime"
                        DEFAULT_WHEN_EMPTY="TRUE"/>

      <Where  FROM_TABLE="grouped_all_ejb_methods" JOIN_TABLE="grouped_all_webs"
        FROM_KEY="oc4j_ear" JOIN_KEY="oc4j_ear"/>
      <Where  FROM_TABLE="grouped_all_ejb_methods" JOIN_TABLE="grouped_all_webs"
        FROM_KEY="instanceName" JOIN_KEY="instanceName"/>
    </JoinTables>

    <!-- Combine the two result tables -->
    <Union NAME="result_with_empty" DISTINCT="TRUE">     
        <Table NAME="result1" />
        <Table NAME="result2" />
    </Union>
   
    <!-- Show zeros for empty columns -->
    <GroupBy NAME="result" FROM_TABLE="result_with_empty">
      <By               NAME="name"/>
      <By               NAME="instanceName"/>
      <AggregateColumn  NAME="_processRequest.time"
                        COLUMN_NAME="processRequest.time"
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="processRequest.time"
                        EXPR="_processRequest.time"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      <AggregateColumn  NAME="_processRequest.deltaTime"
                        COLUMN_NAME="processRequest.deltaTime"
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="processRequest.deltaTime"
                        EXPR="_processRequest.deltaTime"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      <AggregateColumn  NAME="_processRequest.completed"
                        COLUMN_NAME="processRequest.completed"
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="processRequest.completed"
                        EXPR="_processRequest.completed"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      <AggregateColumn  NAME="_processRequest.deltaCompleted"
                        COLUMN_NAME="processRequest.deltaCompleted"
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="processRequest.deltaCompleted"
                        EXPR="_processRequest.deltaCompleted"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      <AggregateColumn  NAME="_ejbMethod.time"
                        COLUMN_NAME="ejbMethod.time"
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="ejbMethod.time"
                        EXPR="_ejbMethod.time"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      <AggregateColumn  NAME="_ejbMethod.deltaTime"
                        COLUMN_NAME="ejbMethod.deltaTime"
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="ejbMethod.deltaTime"
                        EXPR="_ejbMethod.deltaTime"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      <AggregateColumn  NAME="_ejbMethod.completed"
                        COLUMN_NAME="ejbMethod.completed"
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="ejbMethod.completed"
                        EXPR="_ejbMethod.completed"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      <AggregateColumn  NAME="_ejbMethod.deltaCompleted"
                        COLUMN_NAME="ejbMethod.deltaCompleted"
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="ejbMethod.deltaCompleted"
                        EXPR="_ejbMethod.deltaCompleted"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      <AggregateColumn  NAME="_processAll.time"
                        COLUMN_NAME="processAll.time"
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="processAll.time"
                        EXPR="_processAll.time"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
      <AggregateColumn  NAME="_processAll.deltaTime"
                        COLUMN_NAME="processAll.deltaTime"
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="processAll.deltaTime"
                        EXPR="_processAll.deltaTime"
                        DEFAULT_WHEN_EMPTY="TRUE"/>
    </GroupBy>     
 
  </ExecutionDescriptor>
</Metric>

<!-- Metric oc4j_context_for_all_instances -->
<Metric NAME='oc4j_context_for_all_instances' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
<Display>
 <Label NLSID='oc4j_context_for_rollup_table'>OC4J Raw Web Module Metrics</Label>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='processRequest.completed' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='processRequest_completed_col_label'>processRequest.completed, ops</Label>
 <ShortName NLSID='processRequest_completed_col_sname'>processRequest.completed</ShortName>
<Description NLSID='processRequest_completed_col_desc'>oc4j_context</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='processRequest.time' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='processRequest_time_col_label'>processRequest.time, msecs</Label>
 <ShortName NLSID='processRequest_time_col_sname'>processRequest.time</ShortName>
<Description NLSID='processRequest_time_col_desc'>oc4j_context</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='sessionActivation.active' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='sessionActivation_active_col_label'>sessionActivation.active</Label>
 <ShortName NLSID='sessionActivation_active_col_sname'>sessionActivation.active</ShortName>
<Description NLSID='sessionActivation_active_col_desc'>oc4j_context</Description>
</Display></ColumnDescriptor>
<!-- Start rate metrics -->
<ColumnDescriptor NAME='processRequest.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='processRequest.deltaCompleted'
 COMPUTE_EXPR="(_processRequest.completed > processRequest.completed) ? processRequest.completed : (processRequest.completed - _processRequest.completed)">
 <Display>
  <Label NLSID='processRequest_deltaCompleted_col_label'>processRequest.deltaCompleted, requests</Label>
  <ShortName NLSID='processRequest_deltaCompleted_col_sname'>processRequest.deltaCompleted</ShortName>
  <Description NLSID='processRequest_deltaCompleted_col_desc'>
   The number of requests processed during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='processRequest.deltaTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='processRequest.deltaTime'
 COMPUTE_EXPR="(_processRequest.time > processRequest.time) ? processRequest.time/1000 : (processRequest.time - _processRequest.time)/1000">
 <Display>
  <Label NLSID='processRequest_deltaTime_col_label'>processRequest.deltaTime, seconds</Label>
  <ShortName NLSID='processRequest_deltaTime_col_sname'>processRequest.deltaTime</ShortName>
  <Description NLSID='processRequest_deltaTime_col_desc'>
   The amount of time spent processing requests during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='interval' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='interval'
 COMPUTE_EXPR="__interval">
 <Display>
  <Label NLSID='interval_col_label'>interval, seconds</Label>
  <ShortName NLSID='interval_col_sname'>interval, seconds</ShortName>
  <Description NLSID='interval_col_desc'>
   The time in seconds of the last interval
  </Description>
</Display></ColumnDescriptor>
<!-- End rate metrics -->
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>oc4j_context</Property>
<!-- do not include 'name' column in 'columnOrder' property.
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>processRequest.completed;processRequest.time;sessionActivation.active</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
</QueryDescriptor></Metric>

<!-- Metric oc4j_all_instances_rollup -->
<Metric NAME="oc4j_all_instances_rollup" TYPE="TABLE">
<!-- klm: fix -->
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
  <Display>
    <Label NLSID="oc4j_all_instances_rollup">OC4J All Instances Metrics</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="processRequest.time" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_all_instances_rollup_processRequest_time">OC4J Instances - Request Processing Time (seconds)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="processRequest.throughput" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_all_instances_rollup_processRequest_throughput">OC4J Instances - Requests Per Second</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="session.active" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_all_instances_rollup_session_active">OC4J Instances - Active Sessions</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>

  <ExecutionDescriptor>

    <!-- Get metrics for all web modules in any oc4j instances in this iAS installation -->
    <GetTable NAME="oc4j_context_for_all_instances" USE_CACHE="TRUE_IF_COLLECT"/>
    <GroupBy NAME="result" FROM_TABLE="oc4j_context_for_all_instances">
        <AggregateColumn  NAME="processRequest.deltaTimeSum" 
                          COLUMN_NAME ="processRequest.deltaTime"
                          OPERATOR="SUM" />
        <AggregateColumn  NAME ="processRequest.deltaCompletedSum" 
                          COLUMN_NAME ="processRequest.deltaCompleted"
                          OPERATOR="SUM" />
        <AggregateColumn  NAME="interval"
                          COLUMN_NAME="interval"          
                          OPERATOR="AVG" />
        <ComputeColumn    NAME="processRequest.time"            
                          EXPR="(processRequest.deltaCompletedSum != 0) ? processRequest.deltaTimeSum/processRequest.deltaCompletedSum : 0"/>
        <ComputeColumn    NAME="processRequest.throughput"            
                          EXPR="processRequest.deltaCompletedSum/interval"/>
        <AggregateColumn  NAME="session.active"
                          COLUMN_NAME="sessionActivation.active"
                          OPERATOR="SUM"/>
    </GroupBy>

  </ExecutionDescriptor> 
</Metric>

<!-- Metric oc4j_jsp(threadsafe=false) -->
<Metric NAME='oc4j_jsp(threadsafe=false)' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
<Display>
 <Label NLSID='oc4j_jsp__threadsafe_false__table'>OC4J Raw Single-Threaded JSP Metrics</Label>
 <ShortName NLSID='oc4j_jsp_threadsafe_false__stable'>oc4j_jsp(threadsafe=false)</ShortName>
 <Description NLSID='oc4j_jsp_threadsafe_false__table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='activeInstances.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='activeInstances_value_col_label'>activeInstances.value</Label>
 <ShortName NLSID='activeInstances_value_col_sname'>activeInstances.value</ShortName>
<Description NLSID='activeInstances_value_col_desc'>active instances</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='availableInstances.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='availableInstances_value_col_label'>availableInstances.value</Label>
 <ShortName NLSID='availableInstances_value_col_sname'>availableInstances.value</ShortName>
<Description NLSID='availableInstances_value_col_desc'>available instances</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_context' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_context_col_label'>oc4j_context</Label>
 <ShortName NLSID='oc4j_context_col_sname'>oc4j_context</ShortName>
<Description NLSID='oc4j_context_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ear' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_ear_col_label'>oc4j_ear</Label>
 <ShortName NLSID='oc4j_ear_col_sname'>oc4j_ear</ShortName>
<Description NLSID='oc4j_ear_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_jspExec' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_jspExec_col_label'>oc4j_jspExec</Label>
 <ShortName NLSID='oc4j_jspExec_col_sname'>oc4j_jspExec</ShortName>
<Description NLSID='oc4j_jspExec_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_web_module' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_web_module_col_label'>oc4j_web_module</Label>
 <ShortName NLSID='oc4j_web_module_col_sname'>oc4j_web_module</ShortName>
<Description NLSID='oc4j_web_module_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.active' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_active_col_label'>service.active</Label>
 <ShortName NLSID='service_active_col_sname'>service.active</ShortName>
<Description NLSID='service_active_col_desc'>oc4j_jsp(threadsafe=false)</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.avg' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_avg_col_label'>service.avg, msecs</Label>
 <ShortName NLSID='service_avg_col_sname'>service.avg</ShortName>
<Description NLSID='service_avg_col_desc'>oc4j_jsp(threadsafe=false)</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.completed' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_completed_col_label'>service.completed, ops</Label>
 <ShortName NLSID='service_completed_col_sname'>service.completed</ShortName>
<Description NLSID='service_completed_col_desc'>oc4j_jsp(threadsafe=false)</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.maxTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_maxTime_col_label'>service.maxTime, msecs</Label>
 <ShortName NLSID='service_maxTime_col_sname'>service.maxTime</ShortName>
<Description NLSID='service_maxTime_col_desc'>oc4j_jsp(threadsafe=false)</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.minTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_minTime_col_label'>service.minTime, msecs</Label>
 <ShortName NLSID='service_minTime_col_sname'>service.minTime</ShortName>
<Description NLSID='service_minTime_col_desc'>oc4j_jsp(threadsafe=false)</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.time' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_time_col_label'>service.time, msecs</Label>
 <ShortName NLSID='service_time_col_sname'>service.time</ShortName>
<Description NLSID='service_time_col_desc'>oc4j_jsp(threadsafe=false)</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<!-- Start rate metrics -->
<ColumnDescriptor NAME='service.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='service.deltaCompleted'
 COMPUTE_EXPR="(_service.completed > service.completed) ? service.completed : (service.completed - _service.completed)">
 <Display>
  <Label NLSID='service_deltaCompleted_col_label'>service.deltaCompleted, executes</Label>
  <ShortName NLSID='service_deltaCompleted_col_sname'>service.deltaCompleted</ShortName>
  <Description NLSID='service_deltaCompleted_col_desc'>
   The number of times the JSP was executed during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.deltaTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='service.deltaTime'
 COMPUTE_EXPR="(_service.time > service.time) ? service.time/1000 : (service.time - _service.time)/1000">
 <Display>
  <Label NLSID='service_deltaTime_col_label'>service.deltaTime, seconds</Label>
  <ShortName NLSID='service_deltaTime_col_sname'>service.deltaTime</ShortName>
  <Description NLSID='service_deltaTime_col_desc'>
   The amount of time executing the JSP during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='interval' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='interval'
 COMPUTE_EXPR="__interval">
 <Display>
  <Label NLSID='interval_col_label'>interval, seconds</Label>
  <ShortName NLSID='interval_col_sname'>interval, seconds</ShortName>
  <Description NLSID='interval_col_desc'>
   The time in seconds of the last interval
  </Description>
</Display></ColumnDescriptor>
<!-- End rate metrics -->
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>oc4j_jsp(threadsafe=false)</Property>
<!-- do not include 'name' column in 'columnOrder' property. 
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>activeInstances.value;availableInstances.value;oc4j_context;oc4j_ear;oc4j_jspExec;oc4j_web_module;service.active;service.avg;service.completed;service.maxTime;service.minTime;service.time</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>
<!-- Metric oc4j_ejb_session_bean -->
<Metric NAME='oc4j_ejb_session_bean' TYPE='TABLE' USAGE_TYPE="HIDDEN" HELP="NO_HELP">
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
<Display>
 <Label NLSID='oc4j_ejb_session_bean_table'>oc4j_ejb_session_bean Metrics</Label>
 <ShortName NLSID='oc4j_ejb_session_bean_stable'>oc4j_ejb_session_bean</ShortName>
 <Description NLSID='oc4j_ejb_session_bean_table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ear' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='oc4j_ear_col_label'>oc4j_ear</Label>
 <ShortName NLSID='oc4j_ear_col_sname'>oc4j_ear</ShortName>
<Description NLSID='oc4j_ear_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ejb' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='oc4j_ejb_col_label'>oc4j_ejb</Label>
 <ShortName NLSID='oc4j_ejb_col_sname'>oc4j_ejb</ShortName>
<Description NLSID='oc4j_ejb_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ejb_pkg' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='oc4j_ejb_pkg_col_label'>oc4j_ejb_pkg</Label>
 <ShortName NLSID='oc4j_ejb_pkg_col_sname'>oc4j_ejb_pkg</ShortName>
<Description NLSID='oc4j_ejb_pkg_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='session-type.value' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='session_type_value_col_label'>session-type.value</Label>
 <ShortName NLSID='session_type_value_col_sname'>session-type.value</ShortName>
<Description NLSID='session_type_value_col_desc'>session type</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='transaction-type.value' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='transaction_type_value_col_label'>transaction-type.value</Label>
 <ShortName NLSID='transaction_type_value_col_sname'>transaction-type.value</ShortName>
<Description NLSID='transaction_type_value_col_desc'>transaction</Description>
</Display></ColumnDescriptor>
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>oc4j_ejb_session_bean</Property>
<!-- do not include 'name' column in 'columnOrder' property. 
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>oc4j_ear;oc4j_ejb;oc4j_ejb_pkg;session-type.value;transaction-type.value</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>
<!-- Metric oc4j_servlet -->
<Metric NAME='oc4j_servlet' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
<Display>
 <Label NLSID='oc4j_servlet_table'>OC4J Raw Servlet Metrics</Label>
 <ShortName NLSID='oc4j_servlet_stable'>oc4j_servlet</ShortName>
 <Description NLSID='oc4j_servlet_table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_context' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_context_col_label'>oc4j_context</Label>
 <ShortName NLSID='oc4j_context_col_sname'>oc4j_context</ShortName>
<Description NLSID='oc4j_context_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ear' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_ear_col_label'>oc4j_ear</Label>
 <ShortName NLSID='oc4j_ear_col_sname'>oc4j_ear</ShortName>
<Description NLSID='oc4j_ear_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_web_module' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_web_module_col_label'>oc4j_web_module</Label>
 <ShortName NLSID='oc4j_web_module_col_sname'>oc4j_web_module</ShortName>
<Description NLSID='oc4j_web_module_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.active' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_active_col_label'>service.active</Label>
 <ShortName NLSID='service_active_col_sname'>service.active</ShortName>
<Description NLSID='service_active_col_desc'>servlet_metric</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.avg' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_avg_col_label'>service.avg, msecs</Label>
 <ShortName NLSID='service_avg_col_sname'>service.avg</ShortName>
<Description NLSID='service_avg_col_desc'>servlet_metric</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.completed' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_completed_col_label'>service.completed, ops</Label>
 <ShortName NLSID='service_completed_col_sname'>service.completed</ShortName>
<Description NLSID='service_completed_col_desc'>servlet_metric</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.maxTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_maxTime_col_label'>service.maxTime, msecs</Label>
 <ShortName NLSID='service_maxTime_col_sname'>service.maxTime</ShortName>
<Description NLSID='service_maxTime_col_desc'>servlet_metric</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.minTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_minTime_col_label'>service.minTime, msecs</Label>
 <ShortName NLSID='service_minTime_col_sname'>service.minTime</ShortName>
<Description NLSID='service_minTime_col_desc'>servlet_metric</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.time' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_time_col_label'>service.time, msecs</Label>
 <ShortName NLSID='service_time_col_sname'>service.time</ShortName>
<Description NLSID='service_time_col_desc'>servlet_metric</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<!-- Start rate metrics -->
<ColumnDescriptor NAME='service.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='service.deltaCompleted'
 COMPUTE_EXPR="(_service.completed > service.completed) ? service.completed : (service.completed - _service.completed)">
 <Display>
  <Label NLSID='service_deltaCompleted_col_label'>service.deltaCompleted, executes</Label>
  <ShortName NLSID='service_deltaCompleted_col_sname'>service.deltaCompleted</ShortName>
  <Description NLSID='service_deltaCompleted_col_desc'>
   The number of times the servlet was executed during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.deltaTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='service.deltaTime'
 COMPUTE_EXPR="(_service.time > service.time) ? service.time/1000 : (service.time - _service.time)/1000">
 <Display>
  <Label NLSID='service_deltaTime_col_label'>service.deltaTime, seconds</Label>
  <ShortName NLSID='service_deltaTime_col_sname'>service.deltaTime</ShortName>
  <Description NLSID='service_deltaTime_col_desc'>
   The amount of time executing the servlet during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='interval' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='interval'
 COMPUTE_EXPR="__interval">
 <Display>
  <Label NLSID='interval_col_label'>interval, seconds</Label>
  <ShortName NLSID='interval_col_sname'>interval, seconds</ShortName>
  <Description NLSID='interval_col_desc'>
   The time in seconds of the last interval
  </Description>
</Display></ColumnDescriptor>
<!-- End rate metrics -->
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>oc4j_servlet</Property>
<!-- do not include 'name' column in 'columnOrder' property.
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>oc4j_context;oc4j_ear;oc4j_web_module;service.active;service.avg;service.completed;service.maxTime;service.minTime;service.time</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>
<!-- Metric oc4j_ejb_pkg -->
<Metric NAME='oc4j_ejb_pkg' TYPE='TABLE' USAGE_TYPE="HIDDEN" HELP="NO_HELP">
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
<Display>
 <Label NLSID='oc4j_ejb_pkg_table'>oc4j_ejb_pkg Metrics</Label>
 <ShortName NLSID='oc4j_ejb_pkg_stable'>oc4j_ejb_pkg</ShortName>
 <Description NLSID='oc4j_ejb_pkg_table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ear' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='oc4j_ear_col_label'>oc4j_ear</Label>
 <ShortName NLSID='oc4j_ear_col_sname'>oc4j_ear</ShortName>
<Description NLSID='oc4j_ear_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ejb' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='oc4j_ejb_col_label'>oc4j_ejb</Label>
 <ShortName NLSID='oc4j_ejb_col_sname'>oc4j_ejb</ShortName>
<Description NLSID='oc4j_ejb_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>oc4j_ejb_pkg</Property>
<!-- do not include 'name' column in 'columnOrder' property.
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>oc4j_ear;oc4j_ejb</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL'
OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL'
OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL'
OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE'
OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE'
OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>
<!-- Metric oc4j_ejb_method_postCreate -->
<Metric NAME='oc4j_ejb_method_postCreate' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
<Display>
 <Label NLSID='oc4j_ejb_method_postCreate_table'>OC4J Raw EJB Method postCreate Metrics</Label>
 <ShortName NLSID='oc4j_ejb_method_postCreate_stable'>oc4j_ejb_method_postCreate</ShortName>
 <Description NLSID='oc4j_ejb_method_postCreate_table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ejbPostCreate.active' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ejbPostCreate_active_col_label'>ejbPostCreate.active</Label>
 <ShortName NLSID='ejbPostCreate_active_col_sname'>ejbPostCreate.active</ShortName>
<Description NLSID='ejbPostCreate_active_col_desc'>ejbPostCreate</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ejbPostCreate.avg' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ejbPostCreate_avg_col_label'>ejbPostCreate.avg, msecs</Label>
 <ShortName NLSID='ejbPostCreate_avg_col_sname'>ejbPostCreate.avg</ShortName>
<Description NLSID='ejbPostCreate_avg_col_desc'>ejbPostCreate</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ejbPostCreate.completed' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ejbPostCreate_completed_col_label'>ejbPostCreate.completed, ops</Label>
 <ShortName NLSID='ejbPostCreate_completed_col_sname'>ejbPostCreate.completed</ShortName>
<Description NLSID='ejbPostCreate_completed_col_desc'>ejbPostCreate</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ejbPostCreate.maxTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ejbPostCreate_maxTime_col_label'>ejbPostCreate.maxTime, msecs</Label>
 <ShortName NLSID='ejbPostCreate_maxTime_col_sname'>ejbPostCreate.maxTime</ShortName>
<Description NLSID='ejbPostCreate_maxTime_col_desc'>ejbPostCreate</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ejbPostCreate.minTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ejbPostCreate_minTime_col_label'>ejbPostCreate.minTime, msecs</Label>
 <ShortName NLSID='ejbPostCreate_minTime_col_sname'>ejbPostCreate.minTime</ShortName>
<Description NLSID='ejbPostCreate_minTime_col_desc'>ejbPostCreate</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ejbPostCreate.time' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ejbPostCreate_time_col_label'>ejbPostCreate.time, msecs</Label>
 <ShortName NLSID='ejbPostCreate_time_col_sname'>ejbPostCreate.time</ShortName>
<Description NLSID='ejbPostCreate_time_col_desc'>ejbPostCreate</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ear' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_ear_col_label'>oc4j_ear</Label>
 <ShortName NLSID='oc4j_ear_col_sname'>oc4j_ear</ShortName>
<Description NLSID='oc4j_ear_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ejb' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_ejb_col_label'>oc4j_ejb</Label>
 <ShortName NLSID='oc4j_ejb_col_sname'>oc4j_ejb</ShortName>
<Description NLSID='oc4j_ejb_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ejb_entity_bean' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_ejb_entity_bean_col_label'>oc4j_ejb_entity_bean</Label>
 <ShortName NLSID='oc4j_ejb_entity_bean_col_sname'>oc4j_ejb_entity_bean</ShortName>
<Description NLSID='oc4j_ejb_entity_bean_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ejb_method' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_ejb_method_col_label'>oc4j_ejb_method</Label>
 <ShortName NLSID='oc4j_ejb_method_col_sname'>oc4j_ejb_method</ShortName>
<Description NLSID='oc4j_ejb_method_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ejb_pkg' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_ejb_pkg_col_label'>oc4j_ejb_pkg</Label>
 <ShortName NLSID='oc4j_ejb_pkg_col_sname'>oc4j_ejb_pkg</ShortName>
<Description NLSID='oc4j_ejb_pkg_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<!-- Start rate metrics -->
<ColumnDescriptor NAME='ejbPostCreate.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='ejbPostCreate.deltaCompleted'
 COMPUTE_EXPR="(_ejbPostCreate.completed > ejbPostCreate.completed) ? ejbPostCreate.completed : (ejbPostCreate.completed - _ejbPostCreate.completed)">
 <Display>
  <Label NLSID='ejbPostCreate_deltaCompleted_col_label'>ejbPostCreate.deltaCompleted, creates</Label>
  <ShortName NLSID='ejbPostCreate_deltaCompleted_col_sname'>ejbPostCreate.deltaCompleted</ShortName>
  <Description NLSID='ejbPostCreate_deltaCompleted_col_desc'>
   The number of times ejbPostCreate was executed during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ejbPostCreate.deltaTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='ejbPostCreate.deltaTime'
 COMPUTE_EXPR="(_ejbPostCreate.time > ejbPostCreate.time) ? ejbPostCreate.time/1000 : (ejbPostCreate.time - _ejbPostCreate.time)/1000">
 <Display>
  <Label NLSID='ejbPostCreate_deltaTime_col_label'>ejbPostCreate.deltaTime, seconds</Label>
  <ShortName NLSID='ejbPostCreate_deltaTime_col_sname'>ejbPostCreate.deltaTime</ShortName>
  <Description NLSID='ejbPostCreate_deltaTime_col_desc'>
   The amount of time executing ejbPostCreate during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='interval' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='interval'
 COMPUTE_EXPR="__interval">
 <Display>
  <Label NLSID='interval_col_label'>interval, seconds</Label>
  <ShortName NLSID='interval_col_sname'>interval, seconds</ShortName>
  <Description NLSID='interval_col_desc'>
   The time in seconds of the last interval
  </Description>
</Display></ColumnDescriptor>
<!-- End rate metrics -->
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>oc4j_ejb_method_postCreate</Property>
<!-- do not include 'name' column in 'columnOrder' property. 
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>ejbPostCreate.active;ejbPostCreate.avg;ejbPostCreate.completed;ejbPostCreate.maxTime;ejbPostCreate.minTime;ejbPostCreate.time;oc4j_ear;oc4j_ejb;oc4j_ejb_entity_bean;oc4j_ejb_method;oc4j_ejb_pkg</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>
<!-- Metric oc4j_ear -->
<Metric NAME='oc4j_ear' TYPE='TABLE'  USAGE_TYPE="HIDDEN" HELP="NO_HELP">
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
<Display>
 <Label NLSID='oc4j_ear_table'>oc4j_ear Metrics</Label>
 <ShortName NLSID='oc4j_ear_stable'>oc4j_ear</ShortName>
 <Description NLSID='oc4j_ear_table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='application_log.value' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='application_log_value_col_label'>application_log.value</Label>
 <ShortName NLSID='application_log_value_col_sname'>application_log.value</ShortName>
</Display></ColumnDescriptor>
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>oc4j_ear</Property>
<!-- do not include 'name' column in 'columnOrder' property.
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL' OPTIONAL='TRUE'>application_log.value</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>


<!-- 1013plus_metric -->
<!-- Metric oc4j_jms_raw -->
<Metric NAME='oc4j_jms_raw' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="1013plus"/>
  </ValidIf>
  <Display>
    <Label NLSID='oc4j_raw_jms_table'>OC4J RAW JMS Metrics</Label>
    <ShortName NLSID='oc4j_raw_jms_stable'>oc4j_raw_jms</ShortName>
    <Description NLSID='oc4j_raw_jms_table_desc'>OC4J Raw JMS Metric</Description>
  </Display>
  <TableDescriptor>
  <ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE'>
       <Display><Label NLSID='name_col_label'>Name</Label>
       <ShortName NLSID='name_col_sname'>Name</ShortName>
       <Description NLSID='name_col_desc'>Instance Name</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
       <Display><Label NLSID='fullname_col_label'>Full Name</Label>
       <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
       <Description NLSID='fullname_col_desc'>Full Instance Name</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
       <Display><Label NLSID='Host_col_label'>Host</Label>
       <ShortName NLSID='Host_col_sname'>Host</ShortName>
       <Description NLSID='Host_col_desc'>Ancestor Name</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
       <Display><Label NLSID='Process_col_label'>Process</Label>
       <ShortName NLSID='Process_col_sname'>Process</ShortName>
       <Description NLSID='Process_col_desc'>Ancestor Name</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='startTime' TYPE='NUMBER'>
       <Display><Label NLSID='jms_raw_starttime_label'>JMS - Start Time</Label>
       <ShortName NLSID='jms_raw_starttime_col_sname'>JMS - Start Time</ShortName>
       <Description NLSID='jms_raw_starttime_col_desc'>JMS - Start Time</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='activeConnections' TYPE='NUMBER'>
       <Display><Label NLSID='jms_raw_activeconnections_label'>Active Connections</Label>
       <ShortName NLSID='jms_raw_activeconnections_col_sname'>JMS - Active Connections</ShortName>
       <Description NLSID='jms_raw_activeconnections_col_desc'>JMS - Active Connections</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='messageCount' TYPE='NUMBER'>
       <Display><Label NLSID='jms_raw_messagecount_label'>JMS - Messages Waiting For Read</Label>
       <ShortName NLSID='jms_raw_messagecount_col_sname'>JMS - Messages Waiting For Read</ShortName>
       <Description NLSID='jms_raw_messagecount_col_desc'>JMS - Messages Waiting For Read</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='pendingMessageCount' TYPE='NUMBER'>
       <Display><Label NLSID='jms_raw_pendingmessagecount_label'>JMS - Messages Waiting For Commit</Label>
       <ShortName NLSID='jms_raw_pendingmessagecount_col_sname'>JMS - Messages Waiting For Commit</ShortName>
       <Description NLSID='jms_raw_pendingmessagecount_col_desc'>JMS - Messages Waiting For Commit</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='messageEnqueued' TYPE='NUMBER'>
       <Display><Label NLSID='jms_raw_messageenqueued_label'>JMS - Messages Enqueued </Label>
       <ShortName NLSID='jms_raw_messageenqueued_col_sname'>JMS - Messages Enqueued</ShortName>
       <Description NLSID='jms_raw_messageenqueued_col_desc'>JMS - Messages Enqueued</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='messageDequeued' TYPE='NUMBER'>
       <Display><Label NLSID='jms_raw_messagedequeued_label'>JMS - Messages Dequeued </Label>
       <ShortName NLSID='jms_raw_messagedequeued_col_sname'>JMS - Messages Dequeued</ShortName>
       <Description NLSID='jms_raw_messagednqueued_col_desc'>JMS - Messages Dequeued </Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='messagePagedIn' TYPE='NUMBER'>
       <Display><Label NLSID='jms_raw_messagepagedin_label'>JMS - Messages Paged In</Label>
       <ShortName NLSID='jms_raw_messagepadedin_col_sname'>JMS - Messages Paged In</ShortName>
       <Description NLSID='jms_raw_messagepagedin_col_desc'>JMS - Messages Paged In</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='messagePagedOut' TYPE='NUMBER'>
       <Display><Label NLSID='jms_raw_messagePagedOut_label'>Messages Paged Out</Label>
       <ShortName NLSID='jms_raw_messagePagedOut_col_sname'>JMS - Messages Paged Out</ShortName>
       <Description NLSID='jms_raw_messagePagedOut_col_desc'>JMS - Messages Paged Out</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='messagesCommitted' TYPE='NUMBER'>
       <Display><Label NLSID='jms_raw__messagesCommitted_label'>Messages Committed</Label>
       <ShortName NLSID='jms_raw_messagesCommitted_col_sname'>JMS - Messages Committed</ShortName>
       <Description NLSID='jms_raw__messageCommitted_col_desc'>JMS - Messages Committed</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='messagesRolledback' TYPE='NUMBER'>
       <Display><Label NLSID='jms_raw_messagesRolledback_label'>Messages Rolledback</Label>
       <ShortName NLSID='jms_raw_messagesRolledback_col_sname'>JMS - Messages Rolled Back</ShortName>
       <Description NLSID='jms_raw_messagesRolledback_col_desc'>JMS - Messages Rolled Back</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='messagesExpired' TYPE='NUMBER'>
       <Display><Label NLSID='jms_raw_messagesExpired_label'>Messages Expired</Label>
       <ShortName NLSID='jms_raw_messagesExpired_col_sname'>JMS - Messages Expired</ShortName>
       <Description NLSID='jms_raw_messageExpired_col_desc'>JMS - Messages Expired</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='messagesDiscarded' TYPE='NUMBER'>
       <Display><Label NLSID='jms_raw_messagesDiscarded_label'>Messages Discarded</Label>
       <ShortName NLSID='jms_raw_messagesDiscarded_col_sname'>JMS - Messages Discarded</ShortName>
       <Description NLSID='jms_raw_messageDiscarded_col_desc'>JMS - Messages Discarded</Description>
       </Display>
    </ColumnDescriptor>
<ColumnDescriptor NAME='messagesRecovered' TYPE='NUMBER'>
       <Display><Label NLSID='jms_raw_messagesRecovered_label'>Messages Recovered</Label>
       <ShortName NLSID='jms_raw_messagesRecovered_col_sname'>JMS - Messages Recovered</ShortName>
       <Description NLSID='jms_raw_messageRecovered_col_desc'>JMS - Messages Recovered</Description>
       </Display>
    </ColumnDescriptor>
<!-- Start rate metrics -->
   <ColumnDescriptor NAME='messageEnqueued.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='messageEnqueued.deltaCompleted'
 COMPUTE_EXPR="(_messageEnqueued > messageEnqueued) ? messageEnqueued : (messageEnqueued - _messageEnqueued)">
 <Display>
  <Label NLSID='jms_raw_messageEnqueued_deltaCompleted_col_label'>messageEnqueued.deltaCompleted, requests</Label>
  <ShortName NLSID='jms_raw_messageEnqueued_deltaCompleted_col_sname'>messageEnqueued.deltaCompleted</ShortName>
  <Description NLSID='jms_raw_messageEnqueued_deltaCompleted_col_desc'>
   The number of messages enqueued during the last interval
  </Description> 
</Display></ColumnDescriptor>
  <ColumnDescriptor NAME='messageDequeued.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='messageDequeued.deltaCompleted'
 COMPUTE_EXPR="(_messageDequeued > messageDequeued) ? messageDequeued : (messageDequeued - _messageDequeued)">
 <Display>
  <Label NLSID='jms_raw_messageDequeued_deltaCompleted_col_label'>messageDequeued.deltaCompleted, requests</Label>
  <ShortName NLSID='jms_raw_messageDequeued_deltaCompleted_col_sname'>messageDequeued.deltaCompleted</ShortName>
  <Description NLSID='jms_raw_messageDequeued_deltaCompleted_col_desc'>
   The number of messages dequeued during the last interval
  </Description>
</Display></ColumnDescriptor>
  <ColumnDescriptor NAME='messagePagedIn.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='messagePagedIn.deltaCompleted'
 COMPUTE_EXPR="(_messagePagedIn > messagePagedIn) ? messagePagedIn : (messagePagedIn - _messagePagedIn)">
 <Display>
  <Label NLSID='jms_raw_messagePagedIn_deltaCompleted_col_label'>messagePagedIn.deltaCompleted, requests</Label>
  <ShortName NLSID='jms_raw_messagePagedIn_deltaCompleted_col_sname'>messagePagedIn.deltaCompleted</ShortName>
  <Description NLSID='jms_raw_messagePagedIn_deltaCompleted_col_desc'>
   The number of messages Paged In during the last interval
  </Description>
</Display></ColumnDescriptor>
  <ColumnDescriptor NAME='messagePagedOut.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='messagePagedOut.deltaCompleted'
 COMPUTE_EXPR="(_messagePagedOut > messagePagedOut) ? messagePagedOut : (messagePagedOut - _messagePagedOut)">
 <Display>
  <Label NLSID='jms_raw_messagePagedOut_deltaCompleted_col_label'>messagePagedOut.deltaCompleted, requests</Label>
  <ShortName NLSID='jms_raw_messagePagedOut_deltaCompleted_col_sname'>messagePagedOut.deltaCompleted</ShortName>
  <Description NLSID='jms_raw_messagePagedOut_deltaCompleted_col_desc'>
   The number of messages Paged Out during the last interval
  </Description>
</Display></ColumnDescriptor>
      <ColumnDescriptor NAME='interval' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='interval'
 COMPUTE_EXPR="__interval">
 <Display>
  <Label NLSID='interval_col_label'>interval, seconds</Label>
  <ShortName NLSID='interval_col_sname'>interval</ShortName>
  <Description NLSID='interval_col_desc'> The time in seconds of the last interval
  </Description>
</Display></ColumnDescriptor>
<!-- End rate metrics -->

</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>JMSStats</Property>
<!-- do not include 'name' column in 'columnOrder' property.
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>startTime.value;activeConnections.active;messageCount.value;pendingMessageCount.value;messageEnqueued.count;messageDequeued.count;messagePagedIn.count;messagePagedOut.count;messageCommitted.count;messageRolledBack.count;messageExpired.count;messageDiscarded.count;messageRecovered.count</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor>
</Metric>
<!-- 1013plus_metric end -->

<!-- 1013plus_metric -->
<!-- Metric oc4j_jms_rollup -->
<Metric NAME='oc4j_jms_rollup' TYPE='TABLE'>
<!-- klm: fix -->
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="1013plus"/>
  </ValidIf>
  <Display>
    <Label NLSID='oc4j_jms_table'>OC4J JMS Metrics</Label>
    <ShortName NLSID='oc4j_jms_stable'>oc4j_jms</ShortName>
    <Description NLSID='oc4j_jmx_table_desc'>OC4J JMS Metric</Description>
  </Display>
  <TableDescriptor>
    <ColumnDescriptor NAME='startTime' TYPE='NUMBER'>
       <Display><Label NLSID='jms_startTime_label'>JMS - Start Time (ms since Epoch)</Label>
       <ShortName NLSID='jms_starttime_col_sname'>JMS - Start Time</ShortName>
       <Description NLSID='jms_starttime_col_desc'>JMS - Start Time</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='activeConnections' TYPE='NUMBER'>
       <Display><Label NLSID='jms_activeconnections_label'>JMS - Active Connections</Label>
       <ShortName NLSID='jms_activeconnections_col_sname'>JMS - Active Connections</ShortName>
       <Description NLSID='jms_activeconnections_col_desc'>JMS - Active Connections</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='messageCount' TYPE='NUMBER'>
       <Display><Label NLSID='jms_messagecount_label'>JMS - Messages Waiting for Read</Label>
       <ShortName NLSID='jms_messageCount_col_sname'>JMS - Messages Waiting for Read</ShortName>
       <Description NLSID='jms_messagecount_col_desc'>JMS - Messages Waiting for Read</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='pendingMessageCount' TYPE='NUMBER'>
       <Display><Label NLSID='jms_pending_messageCount_label'>JMS - Messages Waiting For Commit</Label>
       <ShortName NLSID='jms_pending_messageCount_col_sname'>JMS - Messages Waiting For Commit</ShortName>
       <Description NLSID='jms_pending_messageCount_col_desc'>JMS - Messages Waiting For Commit</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='messageEnqueuedRate' TYPE='NUMBER'>
       <Display><Label NLSID='jms_messageEnqueuedRate_label'>JMS - Messages Enqueued Rate (per second)</Label>
       <ShortName NLSID='jms_messageEnqueuedRate_col_sname'>JMS - Messages Enqueued per second</ShortName>
       <Description NLSID='jms_messageEnqueuedRate_col_desc'>JMS - Messages Enqueued per second</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='messageDequeuedRate' TYPE='NUMBER'>
       <Display><Label NLSID='jms_messageDequeuedRate_label'>JMS - Messages Dequeued Rate (per second)</Label>
       <ShortName NLSID='jms_messageDequeuedRate_col_sname'>JMS - Messages Dequeued per second</ShortName>
       <Description NLSID='jms_messageDequeuedRate_col_desc'>JMS - Messages Dequeued per second</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='messagePagedInRate' TYPE='NUMBER'>
       <Display><Label NLSID='jms_messagePagedInRate_label'>JMS - Messages Paged In Rate (per second)</Label>
       <ShortName NLSID='jms_messagePagedInRate_col_sname'>JMS - Messages Paged In per second</ShortName>
       <Description NLSID='jms_messagePagedInRate_col_desc'>JMS - Messages Paged In per second</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='messagePagedOutRate' TYPE='NUMBER'>
       <Display><Label NLSID='jms_messagePagedOutRate_label'>JMS - Messages Paged Out Rate (per second)</Label>
       <ShortName NLSID='jms_messagePagedOutRate_col_sname'>JMS - Messages Paged Out per second</ShortName>
       <Description NLSID='jms_messagePagedOutRate_col_desc'>JMS - Messages Paged Out per second</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='messagesCommitted' TYPE='NUMBER'>
       <Display><Label NLSID='jms_messagesCommitted_label'>JMS - Messages Committed Since Startup</Label>
       <ShortName NLSID='jms_messagesCommitted_col_sname'>JMS - Messages Committed</ShortName>
       <Description NLSID='jms_messagesComitted_col_desc'>JMS - Messages Committed</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='messagesRolledback' TYPE='NUMBER'>
       <Display><Label NLSID='jms_messagesRolledback_label'>JMS - Messages Rolledback Since Startup</Label>
       <ShortName NLSID='jms_messagesRolledback_col_sname'>JMS - Messages Rolled Back</ShortName>
       <Description NLSID='jms_messageRolledback_col_desc'>JMS - Messages Rolled Back</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='messagesExpired' TYPE='NUMBER'>
       <Display><Label NLSID='jms_messagesExpired_label'>JMS - Messages Expired Since Startup</Label>
       <ShortName NLSID='jms_messagesExpired_col_sname'>JMS - Messages Expired</ShortName>
       <Description NLSID='jms_messageExpired_col_desc'>JMS - Messages Expired</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='messagesDiscarded' TYPE='NUMBER'>
       <Display><Label NLSID='jms_messagesDiscarded_label'>JMS - Messages Discarded Since Startup</Label>
       <ShortName NLSID='jms_messagesDiscarded_col_sname'>JMS - Messages Discarded</ShortName>
       <Description NLSID='jms_messageDiscarded_col_desc'>JMS - Messages Discarded</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='messagesRecovered' TYPE='NUMBER'>
       <Display><Label NLSID='jms_messagesRecovered_label'>JMS - Messages Recovered Since Startup</Label>
       <ShortName NLSID='jms_messagesRecovered_col_sname'>JMS - Messages Recovered</ShortName>
       <Description NLSID='jms_messageRecovered_col_desc'>JMS - Messages Recovered</Description>
       </Display>
    </ColumnDescriptor>
</TableDescriptor>
<ExecutionDescriptor>

 <!-- Create filter so that we get metrics only for this oc4j instance -->
    <GetTable NAME="oc4j_opmn" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="this_oc4j" FROM_TABLE="oc4j_opmn">
      <Filter COLUMN_NAME="oc4j_instance.value" SCOPE="INSTANCE" OPERATOR="EQ">DISPLAY_NAME</Filter>
    </GetView>

    <!-- Get the JMS metrics for this oc4j instance -->
    <GetTable NAME="oc4j_jms_raw" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="filtered_oc4j_jms" FROM_TABLE="oc4j_jms_raw">
      <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
    </GetView>

    <!-- Report the metrics by servlet, web module and application -->
    <GroupBy NAME="result" FROM_TABLE="filtered_oc4j_jms">
      <AggregateColumn  NAME="startTime"
                        COLUMN_NAME="startTime"          
                        OPERATOR="MIN"/>
      <AggregateColumn  NAME="activeConnections" 
                        COLUMN_NAME="activeConnections"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="messageCount" 
                        COLUMN_NAME="messageCount"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="pendingMessageCount" 
                        COLUMN_NAME="pendingMessageCount"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="messageEnqueuedSum" 
                        COLUMN_NAME="messageEnqueued"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="messageDequeuedSum" 
                        COLUMN_NAME="messageDequeued"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="messagePagedInSum" 
                        COLUMN_NAME="messagePagedIn"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="messagePagedOutSum" 
                        COLUMN_NAME="messagePagedOut"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="messageEnqueued.deltaCompletedSum"
                        COLUMN_NAME="messageEnqueued.deltaCompleted"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="messageDequeued.deltaCompletedSum"
                        COLUMN_NAME="messageDequeued.deltaCompleted"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="messagePagedIn.deltaCompletedSum"
                        COLUMN_NAME="messagePagedIn.deltaCompleted"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="messagePagedOut.deltaCompletedSum"
                        COLUMN_NAME="messagePagedOut.deltaCompleted"          
                        OPERATOR="SUM" />
      <AggregateColumn  NAME="interval"
                        COLUMN_NAME="interval"          
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="messageEnqueuedRate"            
                        EXPR="(interval != 0) ? messageEnqueued.deltaCompletedSum/interval : 0"/>
      <ComputeColumn    NAME="messageDequeuedRate"            
                        EXPR="(interval != 0) ? messageDequeued.deltaCompletedSum/interval : 0"/>
      <ComputeColumn    NAME="messagePagedInRate"            
                        EXPR="(interval != 0) ? messagePagedIn.deltaCompletedSum/interval : 0"/>
      <ComputeColumn    NAME="messagePagedOutRate"            
                        EXPR="(interval != 0) ? messagePagedOut.deltaCompletedSum/interval : 0"/>
      <AggregateColumn  NAME="messagesCommitted" 
                        COLUMN_NAME="messagesCommitted"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="messagesRolledback" 
                        COLUMN_NAME="messagesRolledback"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="messagesExpired" 
                        COLUMN_NAME="messagesExpired"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="messagesDiscarded" 
                        COLUMN_NAME="messagesDiscarded"          
                        OPERATOR="SUM"/>
      <AggregateColumn  NAME="messagesRecovered" 
                        COLUMN_NAME="messagesRecovered"          
                        OPERATOR="SUM"/>
    </GroupBy>
  </ExecutionDescriptor>
</Metric>
<!-- 1013plus_metric end -->


<!-- 1013plus_metric -->
<!-- Metric raw oc4j_webservice -->
<Metric NAME='oc4j_webservices_raw' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="1013plus"/>
  </ValidIf>
  <Display>
    <Label NLSID='oc4j_raw_webservice_table'>OC4J Raw Web Service Metrics</Label>
    <ShortName NLSID='oc4j_raw_webservice_stable'>oc4j_webservices_raw</ShortName>
    <Description NLSID='oc4j_raw_webservice_table_desc'>Raw WebService Metric Table</Description>
  </Display>
  <TableDescriptor>
    <ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE'>
       <Display><Label NLSID='name_col_label'>Name</Label>
       <ShortName NLSID='name_col_sname'>Name</ShortName>
       <Description NLSID='name_col_desc'>Instance Name</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
       <Display><Label NLSID='fullname_col_label'>Full Name</Label>
       <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
       <Description NLSID='fullname_col_desc'>Full Instance Name</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
       <Display><Label NLSID='Host_col_label'>Host</Label>
       <ShortName NLSID='Host_col_sname'>Host</ShortName>
       <Description NLSID='Host_col_desc'>Ancestor Name</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
       <Display><Label NLSID='Process_col_label'>Process</Label>
       <ShortName NLSID='Process_col_sname'>Process</ShortName>
       <Description NLSID='Process_col_desc'>Ancestor Name</Description>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='webservice_name' TYPE='STRING' IS_KEY='TRUE'>
      <Display><Label NLSID='ws_raw_name_col_label'>WebService Name</Label>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='webservice_app' TYPE='STRING' IS_KEY='TRUE'>
      <Display><Label NLSID='ws_raw_app_name_col_label'>Application Name</Label>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='startTime' TYPE='NUMBER' IS_KEY='FALSE'>
       <Display><Label NLSID='ws_raw_startTime_value_col_label'>startTime.value, msecs</Label>
       <ShortName NLSID='ws_raw_startTime_value_col_sname'>startTime.value</ShortName>
       <Unit NLSID='msecs'>msecs</Unit>
       </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME='Faults' TYPE='NUMBER' IS_KEY='FALSE'>
       <Display><Label NLSID='ws_raw_faults_col_label'>Faults, ops</Label>
       <ShortName NLSID='ws_raw_faults_col_sname'>Faults</ShortName>
       <Description NLSID='ws_raw_faults_count_col_desc'>Number of Faults</Description>
       <Unit NLSID='ops'>ops</Unit>
       </Display>
     </ColumnDescriptor>
     <ColumnDescriptor NAME='processRequest.active' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
        <Display><Label NLSID='ws_raw_processRequest_active_col_label'>processRequest.active</Label>
        <ShortName NLSID='ws_raw_processRequest_active_col_sname'>processRequest.active</ShortName>
        <Description NLSID='ws_raw_processRequest_active_col_desc'>processRequest.active</Description>
        </Display>
     </ColumnDescriptor>
     <ColumnDescriptor NAME='processRequest.avg' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ws_raw_processRequest_avg_col_label'>processRequest.avg, msecs</Label>
 <ShortName NLSID='ws_raw_processRequest_avg_col_sname'>processRequest.avg</ShortName>
<Description NLSID='ws_raw_processRequest_avg_col_desc'>processRequest.avg</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
     <ColumnDescriptor NAME='processRequest.completed' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ws_raw_processRequest_completed_col_label'>processRequest.completed, ops</Label>
 <ShortName NLSID='ws_raw_processRequest_completed_col_sname'>processRequest.completed</ShortName>
<Description NLSID='ws_raw_processRequest_completed_col_desc'>processRequest.completed</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
     <ColumnDescriptor NAME='processRequest.maxTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ws_raw_processRequest_maxTime_col_label'>processRequest.maxTime, msecs</Label>
 <ShortName NLSID='ws_raw_processRequest_maxTime_col_sname'>processRequest.maxTime</ShortName>
<Description NLSID='ws_raw_processRequest_maxTime_col_desc'>processRequest.maxTime</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
     <ColumnDescriptor NAME='processRequest.minTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ws_raw_processRequest_minTime_col_label'>processRequest.minTime, msecs</Label>
 <ShortName NLSID='ws_raw_processRequest_minTime_col_sname'>processRequest.minTime</ShortName>
<Description NLSID='ws_raw_processRequest_minTime_col_desc'>processRequest.minTime</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
     <ColumnDescriptor NAME='processRequest.time' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ws_raw_processRequest_time_col_label'>processRequest.time, msecs</Label>
 <ShortName NLSID='ws_raw_processRequest_time_col_sname'>processRequest.time</ShortName>
<Description NLSID='ws_raw_processRequest_time_col_desc'>processRequest.time</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<!-- Start rate metrics -->
   <ColumnDescriptor NAME='processRequest.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='processRequest.deltaCompleted'
 COMPUTE_EXPR="(_processRequest.completed > processRequest.completed) ? processRequest.completed : (processRequest.completed - _processRequest.completed)">
 <Display>
  <Label NLSID='ws_raw_processRequest_deltaCompleted_col_label'>processRequest.deltaCompleted, requests</Label>
  <ShortName NLSID='ws_raw_processRequest_deltaCompleted_col_sname'>processRequest.deltaCompleted</ShortName>
  <Description NLSID='ws_raw_processRequest_deltaCompleted_col_desc'>
   The number of requests processed during the last interval
  </Description>
</Display></ColumnDescriptor>
     <ColumnDescriptor NAME='processRequest.deltaTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='processRequest.deltaTime'
 COMPUTE_EXPR="(_processRequest.time > processRequest.time) ? processRequest.time : (processRequest.time - _processRequest.time)">
 <Display>
  <Label NLSID='ws_raw_processRequest_deltaTime_col_label'>processRequest.deltaTime, msecs</Label>
  <ShortName NLSID='ws_raw_processRequest_deltaTime_col_sname'>processRequest.deltaTime</ShortName>
  <Description NLSID='ws_raw_processRequest_deltaTime_col_desc'>
   The amount of time spent processing requests during the last interval
  </Description>
</Display></ColumnDescriptor>
      <ColumnDescriptor NAME='interval' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='interval'
 COMPUTE_EXPR="__interval">
 <Display>
  <Label NLSID='interval_col_label'>interval, seconds</Label>
  <ShortName NLSID='interval_col_sname'>interval</ShortName>
  <Description NLSID='interval_col_desc'> The time in seconds of the last interval
  </Description>
</Display></ColumnDescriptor>
<!-- End rate metrics -->
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>oc4j_webservice_port</Property>
<!-- do not include 'name' column in 'columnOrder' property.
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>oc4j_webservice;oc4j_ear;StartTime.value;TotalFault.count;POSTs.active;POSTs.avg;POSTs.completed;POSTs.maxTime;POSTs.minTime;POSTs.time</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor>
</Metric>
<!-- 1013plus_metric end -->

<!-- Metric oc4j_context -->
<Metric NAME='oc4j_context' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
<Display>
 <Label NLSID='oc4j_context_table'>OC4J Raw Web Module Metrics</Label>
 <ShortName NLSID='oc4j_context_stable'>oc4j_context</ShortName>
 <Description NLSID='oc4j_context_table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ear' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_ear_col_label'>oc4j_ear</Label>
 <ShortName NLSID='oc4j_ear_col_sname'>oc4j_ear</ShortName>
<Description NLSID='oc4j_ear_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_web_module' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_web_module_col_label'>oc4j_web_module</Label>
 <ShortName NLSID='oc4j_web_module_col_sname'>oc4j_web_module</ShortName>
<Description NLSID='oc4j_web_module_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='processRequest.active' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='processRequest_active_col_label'>processRequest.active</Label>
 <ShortName NLSID='processRequest_active_col_sname'>processRequest.active</ShortName>
<Description NLSID='processRequest_active_col_desc_oc4j_context'>oc4j_context</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='processRequest.avg' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='processRequest_avg_col_label'>processRequest.avg, msecs</Label>
 <ShortName NLSID='processRequest_avg_col_sname'>processRequest.avg</ShortName>
<Description NLSID='processRequest_avg_col_desc'>oc4j_context</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='processRequest.completed' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='processRequest_completed_col_label'>processRequest.completed, ops</Label>
 <ShortName NLSID='processRequest_completed_col_sname'>processRequest.completed</ShortName>
<Description NLSID='processRequest_completed_col_desc'>oc4j_context</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='processRequest.maxTime' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='processRequest_maxTime_col_label'>processRequest.maxTime, msecs</Label>
 <ShortName NLSID='processRequest_maxTime_col_sname'>processRequest.maxTime</ShortName>
<Description NLSID='processRequest_maxTime_col_desc'>oc4j_context</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='processRequest.minTime' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='processRequest_minTime_col_label'>processRequest.minTime, msecs</Label>
 <ShortName NLSID='processRequest_minTime_col_sname'>processRequest.minTime</ShortName>
<Description NLSID='processRequest_minTime_col_desc'>oc4j_context</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='processRequest.time' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='processRequest_time_col_label'>processRequest.time, msecs</Label>
 <ShortName NLSID='processRequest_time_col_sname'>processRequest.time</ShortName>
<Description NLSID='processRequest_time_col_desc'>oc4j_context</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='resolveServlet.active' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='resolveServlet_active_col_label'>resolveServlet.active</Label>
 <ShortName NLSID='resolveServlet_active_col_sname'>resolveServlet.active</ShortName>
<Description NLSID='resolveServlet_active_col_desc'>oc4j_context</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='resolveServlet.avg' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='resolveServlet_avg_col_label'>resolveServlet.avg, msecs</Label>
 <ShortName NLSID='resolveServlet_avg_col_sname'>resolveServlet.avg</ShortName>
<Description NLSID='resolveServlet_avg_col_desc'>oc4j_context</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='resolveServlet.completed' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='resolveServlet_completed_col_label'>resolveServlet.completed, ops</Label>
 <ShortName NLSID='resolveServlet_completed_col_sname'>resolveServlet.completed</ShortName>
<Description NLSID='resolveServlet_completed_col_desc'>oc4j_context</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='resolveServlet.maxTime' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='resolveServlet_maxTime_col_label'>resolveServlet.maxTime, msecs</Label>
 <ShortName NLSID='resolveServlet_maxTime_col_sname'>resolveServlet.maxTime</ShortName>
<Description NLSID='resolveServlet_maxTime_col_desc'>oc4j_context</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='resolveServlet.minTime' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='resolveServlet_minTime_col_label'>resolveServlet.minTime, msecs</Label>
 <ShortName NLSID='resolveServlet_minTime_col_sname'>resolveServlet.minTime</ShortName>
<Description NLSID='resolveServlet_minTime_col_desc'>oc4j_context</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='resolveServlet.time' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='resolveServlet_time_col_label'>resolveServlet.time, msecs</Label>
 <ShortName NLSID='resolveServlet_time_col_sname'>resolveServlet.time</ShortName>
<Description NLSID='resolveServlet_time_col_desc'>oc4j_context</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='sessionActivation.active' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='sessionActivation_active_col_label'>sessionActivation.active</Label>
 <ShortName NLSID='sessionActivation_active_col_sname'>sessionActivation.active</ShortName>
<Description NLSID='sessionActivation_active_col_desc'>oc4j_context</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='sessionActivation.avg' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='sessionActivation_avg_col_label'>sessionActivation.avg, msecs</Label>
 <ShortName NLSID='sessionActivation_avg_col_sname'>sessionActivation.avg</ShortName>
<Description NLSID='sessionActivation_avg_col_desc'>oc4j_context</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='sessionActivation.completed' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='sessionActivation_completed_col_label'>sessionActivation.completed, ops</Label>
 <ShortName NLSID='sessionActivation_completed_col_sname'>sessionActivation.completed</ShortName>
<Description NLSID='sessionActivation_completed_col_desc'>oc4j_context</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='sessionActivation.maxTime' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='sessionActivation_maxTime_col_label'>sessionActivation.maxTime, msecs</Label>
 <ShortName NLSID='sessionActivation_maxTime_col_sname'>sessionActivation.maxTime</ShortName>
<Description NLSID='sessionActivation_maxTime_col_desc'>oc4j_context</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='sessionActivation.minTime' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='sessionActivation_minTime_col_label'>sessionActivation.minTime, msecs</Label>
 <ShortName NLSID='sessionActivation_minTime_col_sname'>sessionActivation.minTime</ShortName>
<Description NLSID='sessionActivation_minTime_col_desc'>oc4j_context</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='sessionActivation.time' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='sessionActivation_time_col_label'>sessionActivation.time, msecs</Label>
 <ShortName NLSID='sessionActivation_time_col_sname'>sessionActivation.time</ShortName>
<Description NLSID='sessionActivation_time_col_desc'>oc4j_context</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<!-- Start rate metrics -->
<ColumnDescriptor NAME='resolveServlet.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='resolveServlet.deltaCompleted'
 COMPUTE_EXPR="(_resolveServlet.completed > resolveServlet.completed) ? resolveServlet.completed : (resolveServlet.completed - _resolveServlet.completed)">
 <Display>
  <Label NLSID='resolveServlet_deltaCompleted_col_label'>resolveServlet.deltaCompleted, loads</Label>
  <ShortName NLSID='resolveServlet_deltaCompleted_col_sname'>resolveServlet.deltaCompleted</ShortName>
  <Description NLSID='resolveServlet_deltaCompleted_col_desc'>
   The number of servlets and JSPs loaded during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='resolveServlet.deltaTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='resolveServlet.deltaTime'
 COMPUTE_EXPR="(_resolveServlet.time > resolveServlet.time) ? resolveServlet.time/1000 : (resolveServlet.time - _resolveServlet.time)/1000">
 <Display>
  <Label NLSID='resolveServlet_deltaTime_col_label'>resolveServlet.deltaTime, seconds</Label>
  <ShortName NLSID='resolveServlet_deltaTime_col_sname'>resolveServlet.deltaTime</ShortName>
  <Description NLSID='resolveServlet_deltaTime_col_desc'>
   The amount of time spent loading servlets and JSPs during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='processRequest.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='processRequest.deltaCompleted'
 COMPUTE_EXPR="(_processRequest.completed > processRequest.completed) ? processRequest.completed : (processRequest.completed - _processRequest.completed)">
 <Display>
  <Label NLSID='processRequest_deltaCompleted_col_label'>processRequest.deltaCompleted, requests</Label>
  <ShortName NLSID='processRequest_deltaCompleted_col_sname'>processRequest.deltaCompleted</ShortName>
  <Description NLSID='processRequest_deltaCompleted_col_desc'>
   The number of requests processed during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='processRequest.deltaTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='processRequest.deltaTime'
 COMPUTE_EXPR="(_processRequest.time > processRequest.time) ? processRequest.time/1000 : (processRequest.time - _processRequest.time)/1000">
 <Display>
  <Label NLSID='processRequest_deltaTime_col_label'>processRequest.deltaTime, seconds</Label>
  <ShortName NLSID='processRequest_deltaTime_col_sname'>processRequest.deltaTime</ShortName>
  <Description NLSID='processRequest_deltaTime_col_desc'>
   The amount of time spent processing requests during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='interval' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='interval'
 COMPUTE_EXPR="__interval">
 <Display>
  <Label NLSID='interval_col_label'>interval, seconds</Label>
  <ShortName NLSID='interval_col_sname'>interval, seconds</ShortName>
  <Description NLSID='interval_col_desc'>
   The time in seconds of the last interval
  </Description>
</Display></ColumnDescriptor>
<!-- End rate metrics -->
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>oc4j_context</Property>
<!-- do not include 'name' column in 'columnOrder' property.
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>oc4j_ear;oc4j_web_module;processRequest.active;processRequest.avg;processRequest.completed;processRequest.maxTime;processRequest.minTime;processRequest.time;resolveServlet.active;resolveServlet.avg;resolveServlet.completed;resolveServlet.maxTime;resolveServlet.minTime;resolveServlet.time;sessionActivation.active;sessionActivation.avg;sessionActivation.completed;sessionActivation.maxTime;sessionActivation.minTime;sessionActivation.time</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>
<!-- Metric oc4j_ejb_method -->
<Metric NAME='oc4j_ejb_method' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
<Display>
 <Label NLSID='oc4j_ejb_method_table'>OC4J Raw EJB Method Metrics</Label>
 <ShortName NLSID='oc4j_ejb_method_stable'>oc4j_ejb_method</ShortName>
 <Description NLSID='oc4j_ejb_method_table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='client.active' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='client_active_col_label'>client.active</Label>
 <ShortName NLSID='client_active_col_sname'>client.active</ShortName>
<Description NLSID='client_active_col_desc'>client</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='client.avg' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='client_avg_col_label'>client.avg, msecs</Label>
 <ShortName NLSID='client_avg_col_sname'>client.avg</ShortName>
<Description NLSID='client_avg_col_desc'>client</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='client.completed' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='client_completed_col_label'>client.completed, ops</Label>
 <ShortName NLSID='client_completed_col_sname'>client.completed</ShortName>
<Description NLSID='client_completed_col_desc'>client</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='client.maxTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='client_maxTime_col_label'>client.maxTime, msecs</Label>
 <ShortName NLSID='client_maxTime_col_sname'>client.maxTime</ShortName>
<Description NLSID='client_maxTime_col_desc'>client</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='client.minTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='client_minTime_col_label'>client.minTime, msecs</Label>
 <ShortName NLSID='client_minTime_col_sname'>client.minTime</ShortName>
<Description NLSID='client_minTime_col_desc'>client</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='client.time' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='client_time_col_label'>client.time, msecs</Label>
 <ShortName NLSID='client_time_col_sname'>client.time</ShortName>
<Description NLSID='client_time_col_desc'>client</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ear' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_ear_col_label'>oc4j_ear</Label>
 <ShortName NLSID='oc4j_ear_col_sname'>oc4j_ear</ShortName>
<Description NLSID='oc4j_ear_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ejb' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_ejb_col_label'>oc4j_ejb</Label>
 <ShortName NLSID='oc4j_ejb_col_sname'>oc4j_ejb</ShortName>
<Description NLSID='oc4j_ejb_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ejb_entity_bean' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_ejb_entity_bean_col_label'>oc4j_ejb_entity_bean</Label>
 <ShortName NLSID='oc4j_ejb_entity_bean_col_sname'>oc4j_ejb_entity_bean</ShortName>
<Description NLSID='oc4j_ejb_entity_bean_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<!-- These next 3 columns will appear for 10.1.3 OC4J - they will be empty -->
<!-- for earlier versions -->
<ColumnDescriptor NAME='oc4j_ejb_stateless_bean' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
</ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ejb_stateful_bean' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
</ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ejb_message-driven_bean' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
</ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ejb_pkg' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_ejb_pkg_col_label'>oc4j_ejb_pkg</Label>
 <ShortName NLSID='oc4j_ejb_pkg_col_sname'>oc4j_ejb_pkg</ShortName>
<Description NLSID='oc4j_ejb_pkg_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ejb_session_bean' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_ejb_session_bean_col_label'>oc4j_ejb_session_bean</Label>
 <ShortName NLSID='oc4j_ejb_session_bean_col_sname'>oc4j_ejb_session_bean</ShortName>
<Description NLSID='oc4j_ejb_session_bean_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='trans-attribute.value' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='trans_attribute_value_col_label'>trans-attribute.value</Label>
 <ShortName NLSID='trans_attribute_value_col_sname'>trans-attribute.value</ShortName>
<Description NLSID='trans_attribute_value_col_desc'>trans attribute</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='wrapper.active' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='wrapper_active_col_label'>wrapper.active</Label>
 <ShortName NLSID='wrapper_active_col_sname'>wrapper.active</ShortName>
<Description NLSID='wrapper_active_col_desc'>wrapper</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='wrapper.avg' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='wrapper_avg_col_label'>wrapper.avg, msecs</Label>
 <ShortName NLSID='wrapper_avg_col_sname'>wrapper.avg</ShortName>
<Description NLSID='wrapper_avg_col_desc'>wrapper</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='wrapper.completed' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='wrapper_completed_col_label'>wrapper.completed, ops</Label>
 <ShortName NLSID='wrapper_completed_col_sname'>wrapper.completed</ShortName>
<Description NLSID='wrapper_completed_col_desc'>wrapper</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='wrapper.maxTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='wrapper_maxTime_col_label'>wrapper.maxTime, msecs</Label>
 <ShortName NLSID='wrapper_maxTime_col_sname'>wrapper.maxTime</ShortName>
<Description NLSID='wrapper_maxTime_col_desc'>wrapper</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='wrapper.minTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='wrapper_minTime_col_label'>wrapper.minTime, msecs</Label>
 <ShortName NLSID='wrapper_minTime_col_sname'>wrapper.minTime</ShortName>
<Description NLSID='wrapper_minTime_col_desc'>wrapper</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='wrapper.time' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='wrapper_time_col_label'>wrapper.time, msecs</Label>
 <ShortName NLSID='wrapper_time_col_sname'>wrapper.time</ShortName>
<Description NLSID='wrapper_time_col_desc'>wrapper</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<!-- Start rate metrics -->
<ColumnDescriptor NAME='client.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='client.deltaCompleted'
 COMPUTE_EXPR="(_client.completed > client.completed) ? client.completed : (client.completed - _client.completed)">
 <Display>
  <Label NLSID='client_deltaCompleted_col_label'>client.deltaCompleted, executes</Label>
  <ShortName NLSID='client_deltaCompleted_col_sname'>client.deltaCompleted</ShortName>
  <Description NLSID='client_deltaCompleted_col_desc'>
   The number of times the client code was executed during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='client.deltaTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='client.deltaTime'
 COMPUTE_EXPR="(_client.time > _client.time) ? client.time/1000 : (client.time - _client.time)/1000">
 <Display>
  <Label NLSID='client_deltaTime_col_label'>client.deltaTime, seconds</Label>
  <ShortName NLSID='client_deltaTime_col_sname'>client.deltaTime</ShortName>
  <Description NLSID='client_deltaTime_col_desc'>
   The amount of time executing client code during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='wrapper.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='wrapper.deltaCompleted'
 COMPUTE_EXPR="(_wrapper.completed > wrapper.completed) ? wrapper.completed : (wrapper.completed - _wrapper.completed)">
 <Display>
  <Label NLSID='wrapper_deltaCompleted_col_label'>wrapper.deltaCompleted, executes</Label>
  <ShortName NLSID='wrapper_deltaCompleted_col_sname'>wrapper.deltaCompleted</ShortName>
  <Description NLSID='wrapper_deltaCompleted_col_desc'>
   The number of times the wrapper and client code was executed during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='wrapper.deltaTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='wrapper.deltaTime'
 COMPUTE_EXPR="(_wrapper.time > wrapper.time) ? wrapper.time/1000 : (wrapper.time - _wrapper.time)/1000">
 <Display>
  <Label NLSID='wrapper_deltaTime_col_label'>wrapper.deltaTime, seconds</Label>
  <ShortName NLSID='wrapper_deltaTime_col_sname'>wrapper.deltaTime</ShortName>
  <Description NLSID='wrapper_deltaTime_col_desc'>
   The amount of time executing the wrapper and client code during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='interval' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='interval'
 COMPUTE_EXPR="__interval">
 <Display>
  <Label NLSID='interval_col_label'>interval, seconds</Label>
  <ShortName NLSID='interval_col_sname'>interval, seconds</ShortName>
  <Description NLSID='interval_col_desc'>
   The time in seconds of the last interval
  </Description>
</Display></ColumnDescriptor>
<!-- End rate metrics -->
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>oc4j_ejb_method</Property>
<!-- do not include 'name' column in 'columnOrder' property. 
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>client.active;client.avg;client.completed;client.maxTime;client.minTime;client.time;oc4j_ear;oc4j_ejb;oc4j_ejb_entity_bean;oc4j_ejb_stateless_bean;oc4j_ejb_stateful_bean;oc4j_ejb_message-driven_bean;oc4j_ejb_pkg;oc4j_ejb_session_bean;trans-attribute.value;wrapper.active;wrapper.avg;wrapper.completed;wrapper.maxTime;wrapper.minTime;wrapper.time</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>
<!-- Metric JVM -->
<Metric NAME='JVM_from_DMS' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="900"/>
  </ValidIf>
<Display>
 <Label NLSID='JVM_table'>Raw JVM Metrics</Label>
 <ShortName NLSID='JVM_stable'>JVM_from_dms</ShortName>
 <Description NLSID='JVM_table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='activeThreadGroups.maxValue' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='activeThreadGroups_maxValue_col_label'>activeThreadGroups.maxValue, groups</Label>
 <ShortName NLSID='activeThreadGroups_maxValue_col_sname'>activeThreadGroups.maxValue</ShortName>
<Description NLSID='activeThreadGroups_maxValue_col_desc'>Number of active thread groups in the Java VM.</Description>
<Unit NLSID='groups'>groups</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='activeThreadGroups.minValue' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='activeThreadGroups_minValue_col_label'>activeThreadGroups.minValue, groups</Label>
 <ShortName NLSID='activeThreadGroups_minValue_col_sname'>activeThreadGroups.minValue</ShortName>
<Description NLSID='activeThreadGroups_minValue_col_desc'>Number of active thread groups in the Java VM.</Description>
<Unit NLSID='groups'>groups</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='activeThreadGroups.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='activeThreadGroups_value_col_label'>activeThreadGroups.value, groups</Label>
 <ShortName NLSID='activeThreadGroups_value_col_sname'>activeThreadGroups.value</ShortName>
<Description NLSID='activeThreadGroups_value_col_desc'>Number of active thread groups in the Java VM.</Description>
<Unit NLSID='groups'>groups</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='activeThreads.maxValue' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='activeThreads_maxValue_col_label'>activeThreads.maxValue, threads</Label>
 <ShortName NLSID='activeThreads_maxValue_col_sname'>activeThreads.maxValue</ShortName>
<Description NLSID='activeThreads_maxValue_col_desc'>Number of active threads in the Java VM.</Description>
<Unit NLSID='threads'>threads</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='activeThreads.minValue' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='activeThreads_minValue_col_label'>activeThreads.minValue, threads</Label>
 <ShortName NLSID='activeThreads_minValue_col_sname'>activeThreads.minValue</ShortName>
<Description NLSID='activeThreads_minValue_col_desc'>Number of active threads in the Java VM.</Description>
<Unit NLSID='threads'>threads</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='activeThreads.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='activeThreads_value_col_label'>activeThreads.value, threads</Label>
 <ShortName NLSID='activeThreads_value_col_sname'>activeThreads.value</ShortName>
<Description NLSID='activeThreads_value_col_desc'>Number of active threads in the Java VM.</Description>
<Unit NLSID='threads'>threads</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='cpuTime.value' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='cpuTime_value_col_label'>cpuTime.value, msecs</Label>
 <ShortName NLSID='cpuTime_value_col_sname'>cpuTime.value</ShortName>
<Description NLSID='cpuTime_value_col_desc'>CPU used by the Java VM.</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='freeMemory.maxValue' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='freeMemory_maxValue_col_label'>freeMemory.maxValue, kbytes</Label>
 <ShortName NLSID='freeMemory_maxValue_col_sname'>freeMemory.maxValue</ShortName>
<Description NLSID='freeMemory_maxValue_col_desc'>Free memory in the Java VM.</Description>
<Unit NLSID='kbytes'>kbytes</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='freeMemory.minValue' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='freeMemory_minValue_col_label'>freeMemory.minValue, kbytes</Label>
 <ShortName NLSID='freeMemory_minValue_col_sname'>freeMemory.minValue</ShortName>
<Description NLSID='freeMemory_minValue_col_desc'>Free memory in the Java VM.</Description>
<Unit NLSID='kbytes'>kbytes</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='freeMemory.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='freeMemory_value_col_label'>freeMemory.value, kbytes</Label>
 <ShortName NLSID='freeMemory_value_col_sname'>freeMemory.value</ShortName>
<Description NLSID='freeMemory_value_col_desc'>Free memory in the Java VM.</Description>
<Unit NLSID='kbytes'>kbytes</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='totalMemory.maxValue' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='totalMemory_maxValue_col_label'>totalMemory.maxValue, kbytes</Label>
 <ShortName NLSID='totalMemory_maxValue_col_sname'>totalMemory.maxValue</ShortName>
<Description NLSID='totalMemory_maxValue_col_desc'>Total memory in the Java VM.</Description>
<Unit NLSID='kbytes'>kbytes</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='totalMemory.minValue' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='totalMemory_minValue_col_label'>totalMemory.minValue, kbytes</Label>
 <ShortName NLSID='totalMemory_minValue_col_sname'>totalMemory.minValue</ShortName>
<Description NLSID='totalMemory_minValue_col_desc'>Total memory in the Java VM.</Description>
<Unit NLSID='kbytes'>kbytes</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='totalMemory.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='totalMemory_value_col_label'>totalMemory.value, kbytes</Label>
 <ShortName NLSID='totalMemory_value_col_sname'>totalMemory.value</ShortName>
<Description NLSID='totalMemory_value_col_desc'>Total memory in the Java VM.</Description>
<Unit NLSID='kbytes'>kbytes</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='upTime.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='upTime_value_col_label'>upTime.value, msecs</Label>
 <ShortName NLSID='upTime_value_col_sname'>upTime.value</ShortName>
<Description NLSID='upTime_value_col_desc'>Time elapsed since the Java VM was initialized.</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>JVM</Property>
<!-- do not include 'name' column in 'columnOrder' property. 
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>activeThreadGroups.maxValue;activeThreadGroups.minValue;activeThreadGroups.value;activeThreads.maxValue;activeThreads.minValue;activeThreads.value;cpuTime.value;freeMemory.maxValue;freeMemory.minValue;freeMemory.value;totalMemory.maxValue;totalMemory.minValue;totalMemory.value;upTime.value</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>
<!-- Metric JVM -->
<Metric NAME='JVM' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="900"/>
  </ValidIf>
<Display>
 <Label NLSID='JVM_table'>Raw JVM Metrics</Label>
 <ShortName NLSID='JVM_stable'>JVM</ShortName>
 <Description NLSID='JVM_table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='freeMemory.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='freeMemory_value_col_label'>freeMemory.value, kbytes</Label>
 <ShortName NLSID='freeMemory_value_col_sname'>freeMemory.value</ShortName>
<Description NLSID='freeMemory_value_col_desc'>Free memory in the Java VM.</Description>
<Unit NLSID='kbytes'>kbytes</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='totalMemory.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='totalMemory_value_col_label'>totalMemory.value, kbytes</Label>
 <ShortName NLSID='totalMemory_value_col_sname'>totalMemory.value</ShortName>
<Description NLSID='totalMemory_value_col_desc'>Total memory in the Java VM.</Description>
<Unit NLSID='kbytes'>kbytes</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='upTime.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='upTime_value_col_label'>upTime.value, msecs</Label>
 <ShortName NLSID='upTime_value_col_sname'>upTime.value</ShortName>
<Description NLSID='upTime_value_col_desc'>Time elapsed since the Java VM was initialized.</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='startTime.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='startTime_value_col_label'>startTime.value, msecs</Label>
 <ShortName NLSID='startTime_value_col_sname'>startTime.value</ShortName>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='activeThreads.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='activeThreads_value_col_label'>activeThreads.value, threads</Label>
 <ShortName NLSID='activeThreads_value_col_sname'>activeThreads.value</ShortName>
<Description NLSID='activeThreads_value_col_desc'>Number of active threads in the Java VM.</Description>
<Unit NLSID='threads'>threads</Unit>
</Display></ColumnDescriptor>
</TableDescriptor>
<ExecutionDescriptor>
    <GetTable NAME="JVM_from_DMS" USE_CACHE="FALSE"/>
    <GroupBy NAME="result" FROM_TABLE="JVM_from_DMS">
      <By NAME="fullname"/>
      <By NAME="Process"/>
      <AggregateColumn  NAME="totalMemory.value" 
                        COLUMN_NAME="totalMemory.value"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="freeMemory.value"          
                        COLUMN_NAME="freeMemory.value"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="upTime.value"
                        COLUMN_NAME="upTime.value"
                        OPERATOR="AVG" />
      <AggregateColumn  NAME="activeThreads.value"
                        COLUMN_NAME="activeThreads.value"
                        OPERATOR="AVG" />
      <ComputeColumn    NAME="startTime.value"            
                        EXPR="__GMTdate*1000 - upTime.value"/>
    </GroupBy>      

</ExecutionDescriptor></Metric>

<!-- Metric JVM -->
<Metric NAME='JVM' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="904plus;1013plus"/>
  </ValidIf>
<Display>
 <Label NLSID='JVM_table'>Raw JVM Metrics</Label>
 <ShortName NLSID='JVM_stable'>JVM</ShortName>
 <Description NLSID='JVM_table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='activeThreadGroups.maxValue' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='activeThreadGroups_maxValue_col_label'>activeThreadGroups.maxValue, groups</Label>
 <ShortName NLSID='activeThreadGroups_maxValue_col_sname'>activeThreadGroups.maxValue</ShortName>
<Description NLSID='activeThreadGroups_maxValue_col_desc'>Number of active thread groups in the Java VM.</Description>
<Unit NLSID='groups'>groups</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='activeThreadGroups.minValue' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='activeThreadGroups_minValue_col_label'>activeThreadGroups.minValue, groups</Label>
 <ShortName NLSID='activeThreadGroups_minValue_col_sname'>activeThreadGroups.minValue</ShortName>
<Description NLSID='activeThreadGroups_minValue_col_desc'>Number of active thread groups in the Java VM.</Description>
<Unit NLSID='groups'>groups</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='activeThreadGroups.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='activeThreadGroups_value_col_label'>activeThreadGroups.value, groups</Label>
 <ShortName NLSID='activeThreadGroups_value_col_sname'>activeThreadGroups.value</ShortName>
<Description NLSID='activeThreadGroups_value_col_desc'>Number of active thread groups in the Java VM.</Description>
<Unit NLSID='groups'>groups</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='activeThreads.maxValue' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='activeThreads_maxValue_col_label'>activeThreads.maxValue, threads</Label>
 <ShortName NLSID='activeThreads_maxValue_col_sname'>activeThreads.maxValue</ShortName>
<Description NLSID='activeThreads_maxValue_col_desc'>Number of active threads in the Java VM.</Description>
<Unit NLSID='threads'>threads</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='activeThreads.minValue' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='activeThreads_minValue_col_label'>activeThreads.minValue, threads</Label>
 <ShortName NLSID='activeThreads_minValue_col_sname'>activeThreads.minValue</ShortName>
<Description NLSID='activeThreads_minValue_col_desc'>Number of active threads in the Java VM.</Description>
<Unit NLSID='threads'>threads</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='activeThreads.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='activeThreads_value_col_label'>activeThreads.value, threads</Label>
 <ShortName NLSID='activeThreads_value_col_sname'>activeThreads.value</ShortName>
<Description NLSID='activeThreads_value_col_desc'>Number of active threads in the Java VM.</Description>
<Unit NLSID='threads'>threads</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='freeMemory.maxValue' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='freeMemory_maxValue_col_label'>freeMemory.maxValue, kbytes</Label>
 <ShortName NLSID='freeMemory_maxValue_col_sname'>freeMemory.maxValue</ShortName>
<Description NLSID='freeMemory_maxValue_col_desc'>Free memory in the Java VM.</Description>
<Unit NLSID='kbytes'>kbytes</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='freeMemory.minValue' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='freeMemory_minValue_col_label'>freeMemory.minValue, kbytes</Label>
 <ShortName NLSID='freeMemory_minValue_col_sname'>freeMemory.minValue</ShortName>
<Description NLSID='freeMemory_minValue_col_desc'>Free memory in the Java VM.</Description>
<Unit NLSID='kbytes'>kbytes</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='freeMemory.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='freeMemory_value_col_label'>freeMemory.value, kbytes</Label>
 <ShortName NLSID='freeMemory_value_col_sname'>freeMemory.value</ShortName>
<Description NLSID='freeMemory_value_col_desc'>Free memory in the Java VM.</Description>
<Unit NLSID='kbytes'>kbytes</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='totalMemory.maxValue' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='totalMemory_maxValue_col_label'>totalMemory.maxValue, kbytes</Label>
 <ShortName NLSID='totalMemory_maxValue_col_sname'>totalMemory.maxValue</ShortName>
<Description NLSID='totalMemory_maxValue_col_desc'>Total memory in the Java VM.</Description>
<Unit NLSID='kbytes'>kbytes</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='totalMemory.minValue' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='totalMemory_minValue_col_label'>totalMemory.minValue, kbytes</Label>
 <ShortName NLSID='totalMemory_minValue_col_sname'>totalMemory.minValue</ShortName>
<Description NLSID='totalMemory_minValue_col_desc'>Total memory in the Java VM.</Description>
<Unit NLSID='kbytes'>kbytes</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='totalMemory.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='totalMemory_value_col_label'>totalMemory.value, kbytes</Label>
 <ShortName NLSID='totalMemory_value_col_sname'>totalMemory.value</ShortName>
<Description NLSID='totalMemory_value_col_desc'>Total memory in the Java VM.</Description>
<Unit NLSID='kbytes'>kbytes</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='upTime.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='upTime_value_col_label'>upTime.value, msecs</Label>
 <ShortName NLSID='upTime_value_col_sname'>upTime.value</ShortName>
<Description NLSID='upTime_value_col_desc'>Time elapsed since the Java VM was initialized.</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='startTime.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='startTime_value_col_label'>startTime.value, msecs</Label>
 <ShortName NLSID='startTime_value_col_sname'>startTime.value</ShortName>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>JVM</Property>
<!-- do not include 'name' column in 'columnOrder' property. 
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>activeThreadGroups.maxValue;activeThreadGroups.minValue;activeThreadGroups.value;activeThreads.maxValue;activeThreads.minValue;activeThreads.value;freeMemory.maxValue;freeMemory.minValue;freeMemory.value;totalMemory.maxValue;totalMemory.minValue;totalMemory.value;upTime.value;startTime.value</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>
<!-- Metric oc4j_ejb_entity_bean -->
<Metric NAME='oc4j_ejb_entity_bean' TYPE='TABLE' USAGE_TYPE="HIDDEN" HELP="NO_HELP">
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
<Display>
 <Label NLSID='oc4j_ejb_entity_bean_table'>oc4j_ejb_entity_bean Metrics</Label>
 <ShortName NLSID='oc4j_ejb_entity_bean_stable'>oc4j_ejb_entity_bean</ShortName>
 <Description NLSID='oc4j_ejb_entity_bean_table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='exclusive-write-access.value' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='exclusive_write_access_value_col_label'>exclusive-write-access.value</Label>
 <ShortName NLSID='exclusive_write_access_value_col_sname'>exclusive-write-access.value</ShortName>
<Description NLSID='exclusive_write_access_value_col_desc'>exclusive writeaccess</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='isolation.value' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='isolation_value_col_label'>isolation.value</Label>
 <ShortName NLSID='isolation_value_col_sname'>isolation.value</ShortName>
<Description NLSID='isolation_value_col_desc'>isolation</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ear' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='oc4j_ear_col_label'>oc4j_ear</Label>
 <ShortName NLSID='oc4j_ear_col_sname'>oc4j_ear</ShortName>
<Description NLSID='oc4j_ear_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ejb' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='oc4j_ejb_col_label'>oc4j_ejb</Label>
 <ShortName NLSID='oc4j_ejb_col_sname'>oc4j_ejb</ShortName>
<Description NLSID='oc4j_ejb_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ejb_pkg' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='oc4j_ejb_pkg_col_label'>oc4j_ejb_pkg</Label>
 <ShortName NLSID='oc4j_ejb_pkg_col_sname'>oc4j_ejb_pkg</ShortName>
<Description NLSID='oc4j_ejb_pkg_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='persistence-type.value' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='persistence_type_value_col_label'>persistence-type.value</Label>
 <ShortName NLSID='persistence_type_value_col_sname'>persistence-type.value</ShortName>
<Description NLSID='persistence_type_value_col_desc'>persistence type</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='transaction-type.value' TYPE='STRING' IS_KEY='FALSE'>
<Display><Label NLSID='transaction_type_value_col_label'>transaction-type.value</Label>
 <ShortName NLSID='transaction_type_value_col_sname'>transaction-type.value</ShortName>
<Description NLSID='transaction_type_value_col_desc'>transaction</Description>
</Display></ColumnDescriptor>
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>oc4j_ejb_entity_bean</Property>
<!-- do not include 'name' column in 'columnOrder' property.
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>exclusive-write-access.value;isolation.value;oc4j_ear;oc4j_ejb;oc4j_ejb_pkg;persistence-type.value;transaction-type.value</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>
<!-- Metric oc4j_jsp(threadsafe=true) -->
<Metric NAME='oc4j_jsp(threadsafe=true)' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
<Display>
 <Label NLSID='oc4j_jsp_threadsafe_true__table'>OC4J Raw Multi-Threaded JSP Metrics</Label>
 <ShortName NLSID='oc4j_jsp_threadsafe_true__stable'>oc4j_jsp(threadsafe=true)</ShortName>
 <Description NLSID='oc4j_jsp_threadsafe_true__table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_context' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_context_col_label'>oc4j_context</Label>
 <ShortName NLSID='oc4j_context_col_sname'>oc4j_context</ShortName>
<Description NLSID='oc4j_context_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_ear' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_ear_col_label'>oc4j_ear</Label>
 <ShortName NLSID='oc4j_ear_col_sname'>oc4j_ear</ShortName>
<Description NLSID='oc4j_ear_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_jspExec' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_jspExec_col_label'>oc4j_jspExec</Label>
 <ShortName NLSID='oc4j_jspExec_col_sname'>oc4j_jspExec</ShortName>
<Description NLSID='oc4j_jspExec_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_web_module' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_web_module_col_label'>oc4j_web_module</Label>
 <ShortName NLSID='oc4j_web_module_col_sname'>oc4j_web_module</ShortName>
<Description NLSID='oc4j_web_module_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.active' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_active_col_label'>service.active</Label>
 <ShortName NLSID='service_active_col_sname'>service.active</ShortName>
<Description NLSID='service_active_col_desc'>oc4j_jsp(threadsafe=true)</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.avg' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_avg_col_label'>service.avg, msecs</Label>
 <ShortName NLSID='service_avg_col_sname'>service.avg</ShortName>
<Description NLSID='service_avg_col_desc'>oc4j_jsp(threadsafe=true)</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.completed' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_completed_col_label'>service.completed, ops</Label>
 <ShortName NLSID='service_completed_col_sname'>service.completed</ShortName>
<Description NLSID='service_completed_col_desc'>oc4j_jsp(threadsafe=true)</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.maxTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_maxTime_col_label'>service.maxTime, msecs</Label>
 <ShortName NLSID='service_maxTime_col_sname'>service.maxTime</ShortName>
<Description NLSID='service_maxTime_col_desc'>oc4j_jsp(threadsafe=true)</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.minTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_minTime_col_label'>service.minTime, msecs</Label>
 <ShortName NLSID='service_minTime_col_sname'>service.minTime</ShortName>
<Description NLSID='service_minTime_col_desc'>oc4j_jsp(threadsafe=true)</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.time' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='service_time_col_label'>service.time, msecs</Label>
 <ShortName NLSID='service_time_col_sname'>service.time</ShortName>
<Description NLSID='service_time_col_desc'>oc4j_jsp(threadsafe=true)</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<!-- Start rate metrics -->
<ColumnDescriptor NAME='service.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='service.deltaCompleted'
 COMPUTE_EXPR="(_service.completed > service.completed) ? service.completed : (service.completed - _service.completed)">
 <Display>
  <Label NLSID='service_deltaCompleted_col_label'>service.deltaCompleted, executes</Label>
  <ShortName NLSID='service_deltaCompleted_col_sname'>service.deltaCompleted</ShortName>
  <Description NLSID='service_deltaCompleted_col_desc'>
   The number of times the JSP was executed during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='service.deltaTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='service.deltaTime'
 COMPUTE_EXPR="(_service.time > service.time) ? service.time/1000 : (service.time - _service.time)/1000">
 <Display>
  <Label NLSID='service_deltaTime_col_label'>service.deltaTime, seconds</Label>
  <ShortName NLSID='service_deltaTime_col_sname'>service.deltaTime</ShortName>
  <Description NLSID='service_deltaTime_col_desc'>
   The amount of time executing the JSP during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='interval' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='interval'
 COMPUTE_EXPR="__interval">
 <Display>
  <Label NLSID='interval_col_label'>interval, seconds</Label>
  <ShortName NLSID='interval_col_sname'>interval, seconds</ShortName>
  <Description NLSID='interval_col_desc'>
   The time in seconds of the last interval
  </Description>
</Display></ColumnDescriptor>
<!-- End rate metrics -->
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>oc4j_jsp(threadsafe=true)</Property>
<!-- do not include 'name' column in 'columnOrder' property.
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>oc4j_context;oc4j_ear;oc4j_jspExec;oc4j_web_module;service.active;service.avg;service.completed;service.maxTime;service.minTime;service.time</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>
<!-- Metric oc4j_opmn -->
<Metric NAME='oc4j_opmn' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
<Display>
 <Label NLSID='oc4j_opmn_table'>Raw OPMN Metrics</Label>
 <ShortName NLSID='oc4j_opmn_stable'>oc4j_opmn</ShortName>
 <Description NLSID='oc4j_opmn_table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='default_application_log.value' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='default_application_log_value_col_label'>default_application_log.value</Label>
 <ShortName NLSID='default_application_log_value_col_sname'>default_application_log.value</ShortName>
<Description NLSID='default_application_log_value_col_desc'>Application log file path</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ias_cluster.value' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ias_cluster_value_col_label'>ias_cluster.value</Label>
 <ShortName NLSID='ias_cluster_value_col_sname'>ias_cluster.value</ShortName>
<Description NLSID='ias_cluster_value_col_desc'>iAS cluster id</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ias_instance.value' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ias_instance_value_col_label'>ias_instance.value</Label>
 <ShortName NLSID='ias_instance_value_col_sname'>ias_instance.value</ShortName>
<Description NLSID='ias_instance_value_col_desc'>iAS instance id</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='jms_log.value' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='jms_log_value_col_label'>jms_log.value</Label>
 <ShortName NLSID='jms_log_value_col_sname'>jms_log.value</ShortName>
<Description NLSID='jms_log_value_col_desc'>JMS log file path</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_instance.value' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_instance_value_col_label'>oc4j_instance.value</Label>
 <ShortName NLSID='oc4j_instance_value_col_sname'>oc4j_instance.value</ShortName>
<Description NLSID='oc4j_instance_value_col_desc'>OC4J instance id</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='oc4j_island.value' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='oc4j_island_value_col_label'>oc4j_island.value</Label>
 <ShortName NLSID='oc4j_island_value_col_sname'>oc4j_island.value</ShortName>
<Description NLSID='oc4j_island_value_col_desc'>OC4J island id</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='opmn_group.value' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='opmn_group_value_col_label'>opmn_group.value</Label>
 <ShortName NLSID='opmn_group_value_col_sname'>opmn_group.value</ShortName>
<Description NLSID='opmn_group_value_col_desc'>OPMN group id</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='opmn_sequence.value' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='opmn_sequence_value_col_label'>opmn_sequence.value</Label>
 <ShortName NLSID='opmn_sequence_value_col_sname'>opmn_sequence.value</ShortName>
<Description NLSID='opmn_sequence_value_col_desc'>OPMN Sequence id</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='rmi_log.value' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='rmi_log_value_col_label'>rmi_log.value</Label>
 <ShortName NLSID='rmi_log_value_col_sname'>rmi_log.value</ShortName>
<Description NLSID='rmi_log_value_col_desc'>RMI log file path</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='server_log.value' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='server_log_value_col_label'>server_log.value</Label>
 <ShortName NLSID='server_log_value_col_sname'>server_log.value</ShortName>
<Description NLSID='server_log_value_col_desc'>Application server log file path</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='vmId.value' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='vmId_value_col_label'>vmId.value</Label>
 <ShortName NLSID='vmId_value_col_sname'>vmId.value</ShortName>
<Description NLSID='vmId_value_col_desc'>vmId</Description>
</Display></ColumnDescriptor>
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>oc4j_opmn</Property>
<!-- do not include 'name' column in 'columnOrder' property.
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>default_application_log.value;ias_cluster.value;ias_instance.value;jms_log.value;oc4j_instance.value;oc4j_island.value;opmn_group.value;opmn_sequence.value;rmi_log.value;server_log.value;vmId.value</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>

<!-- Metric opmn_process -->
<Metric NAME='opmn_process' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN">
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="900"/>
  </ValidIf>
<Display>
 <Label NLSID='opmn_process_table'>OPMN Process Metric</Label>
 <ShortName NLSID='opmn_process_stable'>opmn_process</ShortName>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='FALSE' TRANSIENT='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT='TRUE'>
<Display><Label NLSID='host_col_label'>Host</Label>
 <ShortName NLSID='host_col_sname'>Host</ShortName>
<Description NLSID='host_col_desc'>Host Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT='TRUE'>
<Display><Label NLSID='process_col_label'>Process</Label>
 <ShortName NLSID='process_col_sname'>Process</ShortName>
<Description NLSID='process_col_desc'>Process Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='pid.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT='TRUE'>
<Display><Label NLSID='pid_value_col_label'>pid.value</Label>
 <ShortName NLSID='pid_value_col_sname'>pid.value</ShortName>
<Description NLSID='pid_value_col_desc'>process ID</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='type.value' TYPE='STRING' IS_KEY='FALSE' TRANSIENT='TRUE'>
<Display><Label NLSID='type_value_col_label'>type.value</Label>
 <ShortName NLSID='type_value_col_sname'>type.value</ShortName>
<Description NLSID='type_value_col_desc'>process type</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='uid.value' TYPE='STRING' IS_KEY='FALSE' TRANSIENT='TRUE'>
<Display><Label NLSID='uid_value_col_label'>uid.value</Label>
 <ShortName NLSID='uid_value_col_sname'>uid.value</ShortName>
<Description NLSID='uid_value_col_desc'>unique process ID</Description>
</Display></ColumnDescriptor>
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>opmn_process</Property>
<!-- do not include 'name' column in 'columnOrder' property.
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>pid.value;type.value;uid.value</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>

<!-- Metric oc4j_port -->
<Metric NAME="oc4j_port" TYPE="TABLE" USAGE_TYPE="HIDDEN" HELP="NO_HELP">
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="904plus;1013plus"/>
  </ValidIf>
  <Display>
    <Label NLSID="oc4j_port">OC4J Port Metrics</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="port.type" TYPE="STRING" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_port_port_type">Port Type</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="port.value" TYPE="STRING" IS_KEY="TRUE">
        <Display>
          <Label NLSID="oc4j_port_port_value">Port Value</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="pid.value" TYPE="STRING" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_port_pid_value">PID</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="islandID.value" TYPE="STRING" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oc4j_port_islandID_value">Island Name</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>
  <ExecutionDescriptor> 
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="904plus"/>
    </ValidIf>

    <!-- Find the rows in the opmn_process table that belong to this OC4J -->
    <GetTable NAME="opmn_process" ASSOC_TARGET="ias" USE_CACHE="FALSE"/>
    <GetView  NAME="oc4j_process" FROM_TABLE="opmn_process">
      <Filter COLUMN_NAME="type.value" OPERATOR="EQ">OC4J</Filter> 
    </GetView>
    <GetView  NAME="this_oc4j_process" FROM_TABLE="oc4j_process">
      <Filter COLUMN_NAME="opmn_process_type" SCOPE="INSTANCE" OPERATOR="EQ">DISPLAY_NAME</Filter> 
    </GetView>

    <!-- Add the ports to the process info -->
    <GetTable NAME="opmn_connect" ASSOC_TARGET="ias" USE_CACHE="FALSE"/>
    <JoinTables NAME="result"> 
      <Table NAME="this_oc4j_process" />
      <Table NAME="opmn_connect" />
      <Column NAME="pid.value"               TABLE_NAME="this_oc4j_process"/>
      <Column NAME="islandID.value" 
              COLUMN_NAME="opmn_process_set" TABLE_NAME="this_oc4j_process"/>
      <Column NAME="port.type"  
              COLUMN_NAME="name"             TABLE_NAME="opmn_connect"/>
      <Column NAME="port.value"              TABLE_NAME="opmn_connect"/>        
      <Where  FROM_TABLE="this_oc4j_process" JOIN_TABLE="opmn_connect" 
          FROM_KEY="name"  JOIN_KEY="opmn_process"/>
    </JoinTables>     

  </ExecutionDescriptor> 

  <ExecutionDescriptor> 
    <!-- In 10.1.3, the port type is defined in protocol.value, not name -->
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="1013plus"/>
    </ValidIf>

    <!-- Find the rows in the opmn_process table that belong to this OC4J -->
    <GetTable NAME="opmn_process" ASSOC_TARGET="ias" USE_CACHE="FALSE"/>
    <GetView  NAME="oc4j_process" FROM_TABLE="opmn_process">
      <Filter COLUMN_NAME="type.value" OPERATOR="EQ">OC4J</Filter> 
    </GetView>
    <GetView  NAME="this_oc4j_process" FROM_TABLE="oc4j_process">
      <Filter COLUMN_NAME="opmn_process_type" SCOPE="INSTANCE" OPERATOR="EQ">DISPLAY_NAME</Filter> 
    </GetView>

    <!-- Add the ports to the process info -->
    <GetTable NAME="opmn_connect" ASSOC_TARGET="ias" USE_CACHE="FALSE"/>
    <JoinTables NAME="result"> 
      <Table NAME="this_oc4j_process" />
      <Table NAME="opmn_connect" />
      <Column NAME="pid.value"               TABLE_NAME="this_oc4j_process"/>
      <Column NAME="islandID.value" 
              COLUMN_NAME="opmn_process_set" TABLE_NAME="this_oc4j_process"/>
      <Column NAME="port.type"  
              COLUMN_NAME="protocol.value"   TABLE_NAME="opmn_connect"/>
      <Column NAME="port.value"              TABLE_NAME="opmn_connect"/>        
      <Where  FROM_TABLE="this_oc4j_process" JOIN_TABLE="opmn_connect" 
          FROM_KEY="name"  JOIN_KEY="opmn_process"/>
    </JoinTables>     

  </ExecutionDescriptor> 
</Metric>



<!-- Metric AjpPorts -->
<Metric NAME="AjpPorts" TYPE="TABLE" USAGE_TYPE="COLLECT_UPLOAD">
  <ValidMidTierVersions START_VER="10.2.0.0.0" />
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="904plus;1013plus"/>
  </ValidIf>
  <Display>
    <Label NLSID="ajp_ports">OC4J AJP Port Metrics</Label>
  </Display>
  <TableDescriptor>
      <ColumnDescriptor NAME="dummy" TYPE="NUMBER" IS_KEY="TRUE">
        <Display>
          <Label NLSID="ajp_ports_dummy">Dummy Key Value</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="port.value" TYPE="NUMBER">
        <Display>
          <Label NLSID="ajp_ports_port_value">Port Value</Label>
        </Display>
      </ColumnDescriptor>
  </TableDescriptor>
  <ExecutionDescriptor> 
    <GetTable NAME="oc4j_port"/>
    <GetView  NAME="ajp_ports" FROM_TABLE="oc4j_port">
      <Filter COLUMN_NAME="port.type" OPERATOR="EQ">ajp</Filter> 
    </GetView>
    <GroupBy NAME="result" FROM_TABLE="ajp_ports">
      <By NAME="port.value"/>
      <!-- Just use the value of the port for the dummy value.  This -->
      <!-- will give a column that will be unique.  Then port.value  -->
      <!-- will contain the data value                               -->
      <AggregateColumn  NAME="dummy"
                        COLUMN_NAME="port.value"          
                        OPERATOR="AVG" />
    </GroupBy>
  </ExecutionDescriptor> 
</Metric>

<!-- Metric JDBC_Connection -->
<Metric NAME='JDBC_Connection' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
<Display>
 <Label NLSID='JDBC_Connection_table'>Raw JDBC Connection Metrics</Label>
 <ShortName NLSID='JDBC_Connection_stable'>JDBC_Connection</ShortName>
 <Description NLSID='JDBC_Connection_table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CreateNewStatement.avg' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CreateNewStatement_avg_col_label'>CreateNewStatement.avg, msecs</Label>
 <ShortName NLSID='CreateNewStatement_avg_col_sname'>CreateNewStatement.avg</ShortName>
<Description NLSID='CreateNewStatement_avg_col_desc'>time spent creating a new statement</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CreateNewStatement.completed' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CreateNewStatement_completed_col_label'>CreateNewStatement.completed, ops</Label>
 <ShortName NLSID='CreateNewStatement_completed_col_sname'>CreateNewStatement.completed</ShortName>
<Description NLSID='CreateNewStatement_completed_col_desc'>time spent creating a new statement</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CreateNewStatement.maxTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CreateNewStatement_maxTime_col_label'>CreateNewStatement.maxTime, msecs</Label>
 <ShortName NLSID='CreateNewStatement_maxTime_col_sname'>CreateNewStatement.maxTime</ShortName>
<Description NLSID='CreateNewStatement_maxTime_col_desc'>time spent creating a new statement</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CreateNewStatement.minTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CreateNewStatement_minTime_col_label'>CreateNewStatement.minTime, msecs</Label>
 <ShortName NLSID='CreateNewStatement_minTime_col_sname'>CreateNewStatement.minTime</ShortName>
<Description NLSID='CreateNewStatement_minTime_col_desc'>time spent creating a new statement</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CreateNewStatement.time' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CreateNewStatement_time_col_label'>CreateNewStatement.time, msecs</Label>
 <ShortName NLSID='CreateNewStatement_time_col_sname'>CreateNewStatement.time</ShortName>
<Description NLSID='CreateNewStatement_time_col_desc'>time spent creating a new statement</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CreateStatement.avg' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CreateStatement_avg_col_label'>CreateStatement.avg, msecs</Label>
 <ShortName NLSID='CreateStatement_avg_col_sname'>CreateStatement.avg</ShortName>
<Description NLSID='CreateStatement_avg_col_desc'>time spent retrieving a statement from cache or creating it anew</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CreateStatement.completed' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CreateStatement_completed_col_label'>CreateStatement.completed, ops</Label>
 <ShortName NLSID='CreateStatement_completed_col_sname'>CreateStatement.completed</ShortName>
<Description NLSID='CreateStatement_completed_col_desc'>time spent retrieving a statement from cache or creating it anew</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CreateStatement.maxTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CreateStatement_maxTime_col_label'>CreateStatement.maxTime, msecs</Label>
 <ShortName NLSID='CreateStatement_maxTime_col_sname'>CreateStatement.maxTime</ShortName>
<Description NLSID='CreateStatement_maxTime_col_desc'>time spent retrieving a statement from cache or creating it anew</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CreateStatement.minTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CreateStatement_minTime_col_label'>CreateStatement.minTime, msecs</Label>
 <ShortName NLSID='CreateStatement_minTime_col_sname'>CreateStatement.minTime</ShortName>
<Description NLSID='CreateStatement_minTime_col_desc'>time spent retrieving a statement from cache or creating it anew</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CreateStatement.time' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CreateStatement_time_col_label'>CreateStatement.time, msecs</Label>
 <ShortName NLSID='CreateStatement_time_col_sname'>CreateStatement.time</ShortName>
<Description NLSID='CreateStatement_time_col_desc'>time spent retrieving a statement from cache or creating it anew</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='JDBC_DataSource' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='JDBC_DataSource_col_label'>JDBC_DataSource</Label>
 <ShortName NLSID='JDBC_DataSource_col_sname'>JDBC_DataSource</ShortName>
<Description NLSID='JDBC_DataSource_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='LogicalConnection.value' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='LogicalConnection_value_col_label'>LogicalConnection.value</Label>
 <ShortName NLSID='LogicalConnection_value_col_sname'>LogicalConnection.value</ShortName>
<Description NLSID='LogicalConnection_value_col_desc'>logical connection holding this physical connection</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='StatementCacheHit.count' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='StatementCacheHit_count_col_label'>StatementCacheHit.count, ops</Label>
 <ShortName NLSID='StatementCacheHit_count_col_sname'>StatementCacheHit.count</ShortName>
<Description NLSID='StatementCacheHit_count_col_desc'>Statement found in cache</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='StatementCacheMiss.count' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='StatementCacheMiss_count_col_label'>StatementCacheMiss.count, ops</Label>
 <ShortName NLSID='StatementCacheMiss_count_col_sname'>StatementCacheMiss.count</ShortName>
<Description NLSID='StatementCacheMiss_count_col_desc'>Statement not found in cache</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<!-- Start rate metrics -->
<ColumnDescriptor NAME='CreateStatement.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='CreateStatement.deltaCompleted'
 COMPUTE_EXPR="(CreateStatement.completed - _CreateStatement.completed)">
 <Display>
  <Label NLSID='CreateStatement_deltaCompleted_col_label'>CreateStatement.deltaCompleted, executes</Label>
  <ShortName NLSID='CreateStatement_deltaCompleted_col_sname'>CreateStatement.deltaCompleted</ShortName>
  <Description NLSID='CreateStatement_deltaCompleted_col_desc'>
   The number of times a request for a statement was satisfied from the cache during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CreateStatement.deltaTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='CreateStatement.deltaTime'
 COMPUTE_EXPR="(CreateStatement.time - _CreateStatement.time)/1000">
 <Display>
  <Label NLSID='CreateStatement_deltaTime_col_label'>CreateStatement.deltaTime, seconds</Label>
  <ShortName NLSID='CreateStatement_deltaTime_col_sname'>CreateStatement.deltaTime</ShortName>
  <Description NLSID='CreateStatement_deltaTime_col_desc'>
   The amount of time (in seconds) spent getting a statement from the statement cache during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CreateNewStatement.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='CreateNewStatement.deltaCompleted'
 COMPUTE_EXPR="(CreateNewStatement.completed - _CreateNewStatement.completed)">
 <Display>
  <Label NLSID='CreateNewStatement_deltaCompleted_col_label'>CreateNewStatement.deltaCompleted, executes</Label>
  <ShortName NLSID='CreateNewStatement_deltaCompleted_col_sname'>CreateNewStatement.deltaCompleted</ShortName>
  <Description NLSID='CreateNewStatement_deltaCompleted_col_desc'>
   The number of times a request for a statement failed to be satisfied by the cache during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CreateNewStatement.deltaTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='CreateNewStatement.deltaTime'
 COMPUTE_EXPR="(CreateNewStatement.time - _CreateNewStatement.time)/1000">
 <Display>
  <Label NLSID='CreateNewStatement_deltaTime_col_label'>CreateNewStatement.deltaTime, seconds</Label>
  <ShortName NLSID='CreateNewStatement_deltaTime_col_sname'>CreateNewStatement.deltaTime</ShortName>
  <Description NLSID='CreateNewStatement_deltaTime_col_desc'>
   The amount of time (in seconds) spent creating a new statement during the last interval
  </Description>
</Display></ColumnDescriptor>
<!-- End rate metrics -->
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>JDBC_Connection</Property>
<!-- do not include 'name' column in 'columnOrder' property. 
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>CreateNewStatement.avg;CreateNewStatement.completed;CreateNewStatement.maxTime;CreateNewStatement.minTime;CreateNewStatement.time;CreateStatement.avg;CreateStatement.completed;CreateStatement.maxTime;CreateStatement.minTime;CreateStatement.time;JDBC_DataSource;LogicalConnection.value;StatementCacheHit.count;StatementCacheMiss.count</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>

<!-- Metric JDBC_Connection_URL_raw -->
<Metric NAME='JDBC_Connection_URL_raw' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN">
  <ValidMidTierVersions START_VER="10.2.0.0.0" />
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="904plus;1013plus"/>
  </ValidIf>
  <Display>
    <Label NLSID='JDBC_Connection_URL_raw_table'>Raw JDBC Connection URL Metrics</Label>
    <ShortName NLSID='JDBC_Connection_URL_raw_stable'>JDBC_Connection_URL_raw</ShortName>
    <Description NLSID='JDBC_Connection_URL_raw_table_desc'>Metric Table</Description>
  </Display>
  <TableDescriptor>
    <ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
    <Display><Label NLSID='name_col_label'>Name</Label>
     <ShortName NLSID='name_col_sname'>Name</ShortName>
    <Description NLSID='name_col_desc'>Instance Name</Description>
    </Display></ColumnDescriptor>
    <ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
    <Display><Label NLSID='fullname_col_label'>Full Name</Label>
     <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
    <Description NLSID='fullname_col_desc'>Full Instance Name</Description>
    </Display></ColumnDescriptor>
    <ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
    <Display><Label NLSID='Host_col_label'>Host</Label>
     <ShortName NLSID='Host_col_sname'>Host</ShortName>
    <Description NLSID='Host_col_desc'>Ancestor Name</Description>
    </Display></ColumnDescriptor>
    <ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
    <Display><Label NLSID='Process_col_label'>Process</Label>
     <ShortName NLSID='Process_col_sname'>Process</ShortName>
    <Description NLSID='Process_col_desc'>Ancestor Name</Description>
    </Display></ColumnDescriptor>
    <ColumnDescriptor NAME='JDBC_Connection_Url.value' TYPE='STRING' IS_KEY='FALSE'>
    <Display><Label NLSID='jdbc_connection_url_col_name'>JDBC Connection URL</Label>
     <ShortName NLSID='jdbc_connection_url_col_sname'>JDBC Connection URL</ShortName>
    <Description NLSID='jdbc_connection_url_col_desc'>JDBC Connection URL</Description>
    </Display></ColumnDescriptor>
  </TableDescriptor>
  <QueryDescriptor FETCHLET_ID='DMS'>
    <Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
    <Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
    <Property NAME='version' SCOPE='INSTANCE'>version</Property>
    <Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
    <!-- The followings are properties for Basic authorization settings. -->
    <Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
    <Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
    <Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
    <Property NAME='metric' SCOPE='GLOBAL'>JDBC_Connection</Property>
    <!-- do not include 'name' column in 'columnOrder' property. 
    Column names should be in the same order as they are declared. -->
    <Property NAME='columnOrder' SCOPE='GLOBAL'>JDBC_Connection_Url.value</Property>
    <!-- The followings are properties for proxy settings. -->
    <Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
    <Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
    <Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
    <Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
    <Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
    <Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
  </QueryDescriptor>
</Metric>

<!-- Metric JDBC_Connection_URLs -->
<Metric NAME="JDBC_Connection_URLs" TYPE="TABLE" USAGE_TYPE="COLLECT_UPLOAD">
  <ValidMidTierVersions START_VER="10.2.0.0.0" />
  <ValidIf>
    <CategoryProp NAME="VersionCategory" CHOICES="904plus;1013plus"/>
  </ValidIf>
  <Display>
    <Label NLSID="JDBC_Connection_URLs_table">JDBC Connection Unique URLs</Label>
  </Display>
  <TableDescriptor>
    <ColumnDescriptor NAME="dummy" TYPE="STRING" IS_KEY="TRUE">
      <Display>
        <Label NLSID="jdbc_connection_urls_dummy">Dummy Key Value</Label>
      </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME="url.value" TYPE="STRING">
      <Display>
        <Label NLSID="jdbc_connection_urls_value">JDBC Connection URL</Label>
      </Display>
    </ColumnDescriptor>
  </TableDescriptor>
  <ExecutionDescriptor>
    <!-- Create filter so that we get metrics only for this oc4j instance -->
    <GetTable NAME="oc4j_opmn" USE_CACHE="TRUE_IF_COLLECT"/>
    <GetView  NAME="this_oc4j" FROM_TABLE="oc4j_opmn">
      <Filter COLUMN_NAME="oc4j_instance.value" SCOPE="INSTANCE" OPERATOR="EQ">DISPLAY_NAME</Filter> 
    </GetView>

    <GetTable NAME="JDBC_Connection_URL_raw"/>
    <GetView  NAME="filtered_jdbc_connection_urls" FROM_TABLE="JDBC_Connection_URL_raw">
      <In COLUMN_NAME="Process" IN_TABLE_NAME="this_oc4j" IN_COLUMN_NAME="Process"/>
    </GetView>
    <GroupBy NAME="result" FROM_TABLE="filtered_jdbc_connection_urls">
      <By NAME="dummy" COLUMN_NAME="JDBC_Connection_Url.value"/>
      <By NAME="url.value" COLUMN_NAME="JDBC_Connection_Url.value"/>

    </GroupBy>
  </ExecutionDescriptor>
</Metric>


<!-- Metric JDBC_Driver -->
<Metric NAME='JDBC_Driver' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
<Display>
 <Label NLSID='JDBC_Driver_table'>Raw JDBC Driver Metrics</Label>
 <ShortName NLSID='JDBC_Driver_stable'>JDBC_Driver</ShortName>
 <Description NLSID='JDBC_Driver_table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ConnectionCloseCount.count' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ConnectionCloseCount_count_col_label'>ConnectionCloseCount.count, ops</Label>
 <ShortName NLSID='ConnectionCloseCount_count_col_sname'>ConnectionCloseCount.count</ShortName>
<Description NLSID='ConnectionCloseCount_count_col_desc'>number of connections that have been closed</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ConnectionCreate.active' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ConnectionCreate_active_col_label'>ConnectionCreate.active</Label>
 <ShortName NLSID='ConnectionCreate_active_col_sname'>ConnectionCreate.active</ShortName>
<Description NLSID='ConnectionCreate_active_col_desc'>time spent creating a connection</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ConnectionCreate.avg' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ConnectionCreate_avg_col_label'>ConnectionCreate.avg, msecs</Label>
 <ShortName NLSID='ConnectionCreate_avg_col_sname'>ConnectionCreate.avg</ShortName>
<Description NLSID='ConnectionCreate_avg_col_desc'>time spent creating a connection</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ConnectionCreate.completed' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ConnectionCreate_completed_col_label'>ConnectionCreate.completed, ops</Label>
 <ShortName NLSID='ConnectionCreate_completed_col_sname'>ConnectionCreate.completed</ShortName>
<Description NLSID='ConnectionCreate_completed_col_desc'>time spent creating a connection</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ConnectionCreate.maxTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ConnectionCreate_maxTime_col_label'>ConnectionCreate.maxTime, msecs</Label>
 <ShortName NLSID='ConnectionCreate_maxTime_col_sname'>ConnectionCreate.maxTime</ShortName>
<Description NLSID='ConnectionCreate_maxTime_col_desc'>time spent creating a connection</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ConnectionCreate.minTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ConnectionCreate_minTime_col_label'>ConnectionCreate.minTime, msecs</Label>
 <ShortName NLSID='ConnectionCreate_minTime_col_sname'>ConnectionCreate.minTime</ShortName>
<Description NLSID='ConnectionCreate_minTime_col_desc'>time spent creating a connection</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ConnectionCreate.time' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ConnectionCreate_time_col_label'>ConnectionCreate.time, msecs</Label>
 <ShortName NLSID='ConnectionCreate_time_col_sname'>ConnectionCreate.time</ShortName>
<Description NLSID='ConnectionCreate_time_col_desc'>time spent creating a connection</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ConnectionOpenCount.count' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ConnectionOpenCount_count_col_label'>ConnectionOpenCount.count, ops</Label>
 <ShortName NLSID='ConnectionOpenCount_count_col_sname'>ConnectionOpenCount.count</ShortName>
<Description NLSID='ConnectionOpenCount_count_col_desc'>number of connections that have been opened</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>JDBC_Driver</Property>
<!-- do not include 'name' column in 'columnOrder' property. 
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>ConnectionCloseCount.count;ConnectionCreate.active;ConnectionCreate.avg;ConnectionCreate.completed;ConnectionCreate.maxTime;ConnectionCreate.minTime;ConnectionCreate.time;ConnectionOpenCount.count</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>
<!-- Metric JDBC_ConnectionSource -->
<Metric NAME='JDBC_ConnectionSource' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
<Display>
 <Label NLSID='JDBC_ConnectionSource_table'>Raw JDBC ConnectionSource Metrics</Label>
 <ShortName NLSID='JDBC_ConnectionSource_stable'>JDBC_ConnectionSource</ShortName>
 <Description NLSID='JDBC_ConnectionSource_table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CacheFreeSize.count' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CacheFreeSize_count_col_label'>CacheFreeSize.count, ops</Label>
 <ShortName NLSID='CacheFreeSize_count_col_sname'>CacheFreeSize.count</ShortName>
<Description NLSID='CacheFreeSize_count_col_desc'>number of additional connections that can be added to the cache before it reaches capacity</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CacheFreeSize.maxValue' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CacheFreeSize_maxValue_col_label'>CacheFreeSize.maxValue, connections</Label>
 <ShortName NLSID='CacheFreeSize_maxValue_col_sname'>CacheFreeSize.maxValue</ShortName>
<Description NLSID='CacheFreeSize_maxValue_col_desc'>number of additional connections that can be added to the cache before it reaches capacity</Description>
<Unit NLSID='connections'>connections</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CacheFreeSize.minValue' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CacheFreeSize_minValue_col_label'>CacheFreeSize.minValue, connections</Label>
 <ShortName NLSID='CacheFreeSize_minValue_col_sname'>CacheFreeSize.minValue</ShortName>
<Description NLSID='CacheFreeSize_minValue_col_desc'>number of additional connections that can be added to the cache before it reaches capacity</Description>
<Unit NLSID='connections'>connections</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CacheFreeSize.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CacheFreeSize_value_col_label'>CacheFreeSize.value, connections</Label>
 <ShortName NLSID='CacheFreeSize_value_col_sname'>CacheFreeSize.value</ShortName>
<Description NLSID='CacheFreeSize_value_col_desc'>number of additional connections that can be added to the cache before it reaches capacity</Description>
<Unit NLSID='connections'>connections</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CacheGetConnection.active' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CacheGetConnection_active_col_label'>CacheGetConnection.active</Label>
 <ShortName NLSID='CacheGetConnection_active_col_sname'>CacheGetConnection.active</ShortName>
<Description NLSID='CacheGetConnection_active_col_desc'>time required to get a connection</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CacheGetConnection.avg' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CacheGetConnection_avg_col_label'>CacheGetConnection.avg, msecs</Label>
 <ShortName NLSID='CacheGetConnection_avg_col_sname'>CacheGetConnection.avg</ShortName>
<Description NLSID='CacheGetConnection_avg_col_desc'>time required to get a connection</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CacheGetConnection.completed' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CacheGetConnection_completed_col_label'>CacheGetConnection.completed, ops</Label>
 <ShortName NLSID='CacheGetConnection_completed_col_sname'>CacheGetConnection.completed</ShortName>
<Description NLSID='CacheGetConnection_completed_col_desc'>time required to get a connection</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CacheGetConnection.maxTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CacheGetConnection_maxTime_col_label'>CacheGetConnection.maxTime, msecs</Label>
 <ShortName NLSID='CacheGetConnection_maxTime_col_sname'>CacheGetConnection.maxTime</ShortName>
<Description NLSID='CacheGetConnection_maxTime_col_desc'>time required to get a connection</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CacheGetConnection.minTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CacheGetConnection_minTime_col_label'>CacheGetConnection.minTime, msecs</Label>
 <ShortName NLSID='CacheGetConnection_minTime_col_sname'>CacheGetConnection.minTime</ShortName>
<Description NLSID='CacheGetConnection_minTime_col_desc'>time required to get a connection</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CacheGetConnection.time' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CacheGetConnection_time_col_label'>CacheGetConnection.time, msecs</Label>
 <ShortName NLSID='CacheGetConnection_time_col_sname'>CacheGetConnection.time</ShortName>
<Description NLSID='CacheGetConnection_time_col_desc'>time required to get a connection</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CacheHit.count' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CacheHit_count_col_label'>CacheHit.count, ops</Label>
 <ShortName NLSID='CacheHit_count_col_sname'>CacheHit.count</ShortName>
<Description NLSID='CacheHit_count_col_desc'>a  connection was found in the cache</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CacheMiss.count' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CacheMiss_count_col_label'>CacheMiss.count, ops</Label>
 <ShortName NLSID='CacheMiss_count_col_sname'>CacheMiss.count</ShortName>
<Description NLSID='CacheMiss_count_col_desc'>no connection was found in the cache</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CacheSize.count' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CacheSize_count_col_label'>CacheSize.count, ops</Label>
 <ShortName NLSID='CacheSize_count_col_sname'>CacheSize.count</ShortName>
<Description NLSID='CacheSize_count_col_desc'>number of physical connections in the cache</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CacheSize.maxValue' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CacheSize_maxValue_col_label'>CacheSize.maxValue, connections</Label>
 <ShortName NLSID='CacheSize_maxValue_col_sname'>CacheSize.maxValue</ShortName>
<Description NLSID='CacheSize_maxValue_col_desc'>number of physical connections in the cache</Description>
<Unit NLSID='connections'>connections</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CacheSize.minValue' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CacheSize_minValue_col_label'>CacheSize.minValue, connections</Label>
 <ShortName NLSID='CacheSize_minValue_col_sname'>CacheSize.minValue</ShortName>
<Description NLSID='CacheSize_minValue_col_desc'>number of physical connections in the cache</Description>
<Unit NLSID='connections'>connections</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CacheSize.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='CacheSize_value_col_label'>CacheSize.value, connections</Label>
 <ShortName NLSID='CacheSize_value_col_sname'>CacheSize.value</ShortName>
<Description NLSID='CacheSize_value_col_desc'>number of physical connections in the cache</Description>
<Unit NLSID='connections'>connections</Unit>
</Display></ColumnDescriptor>
<!-- Start rate metrics -->
<ColumnDescriptor NAME='CacheGetConnection.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='CacheGetConnection.deltaCompleted'
 COMPUTE_EXPR="(CacheGetConnection.completed - _CacheGetConnection.completed)">
 <Display>
  <Label NLSID='CacheGetConnection_deltaCompleted_col_label'>CacheGetConnection.deltaCompleted, executes</Label>
  <ShortName NLSID='CacheGetConnection_deltaCompleted_col_sname'>CacheGetConnection.deltaCompleted</ShortName>
  <Description NLSID='CacheGetConnection_deltaCompleted_col_desc'>
   The number of times a request for a connection was satisfied from the cache during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='CacheGetConnection.deltaTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='CacheGetConnection.deltaTime'
 COMPUTE_EXPR="(CacheGetConnection.time - _CacheGetConnection.time)/1000">
 <Display>
  <Label NLSID='CacheGetConnection_deltaTime_col_label'>CacheGetConnection.deltaTime, seconds</Label>
  <ShortName NLSID='CacheGetConnection_deltaTime_col_sname'>CacheGetConnection.deltaTime</ShortName>
  <Description NLSID='CacheGetConnection_deltaTime_col_desc'>
   The amount of time (in seconds) spent getting a connection from the connection cache during the last interval
  </Description>
</Display></ColumnDescriptor>
<!-- End rate metrics -->
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>JDBC_ConnectionSource</Property>
<!-- do not include 'name' column in 'columnOrder' property. 
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>CacheFreeSize.count;CacheFreeSize.maxValue;CacheFreeSize.minValue;CacheFreeSize.value;CacheGetConnection.active;CacheGetConnection.avg;CacheGetConnection.completed;CacheGetConnection.maxTime;CacheGetConnection.minTime;CacheGetConnection.time;CacheHit.count;CacheMiss.count;CacheSize.count;CacheSize.maxValue;CacheSize.minValue;CacheSize.value</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>
<!-- Metric JDBC_DataSource -->
<Metric NAME='JDBC_DataSource' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
<Display>
 <Label NLSID='JDBC_DataSource_table'>Raw JDBC DataSource Metrics</Label>
 <ShortName NLSID='JDBC_DataSource_stable'>JDBC_DataSource</ShortName>
 <Description NLSID='JDBC_DataSource_table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ConnectionCloseCount.count' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ConnectionCloseCount_count_col_label'>ConnectionCloseCount.count, ops</Label>
 <ShortName NLSID='ConnectionCloseCount_count_col_sname'>ConnectionCloseCount.count</ShortName>
<Description NLSID='ConnectionCloseCount_count_col_desc'>number of connections that have been closed</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ConnectionCreate.active' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ConnectionCreate_active_col_label'>ConnectionCreate.active</Label>
 <ShortName NLSID='ConnectionCreate_active_col_sname'>ConnectionCreate.active</ShortName>
<Description NLSID='ConnectionCreate_active_col_desc'>time spent creating a connection</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ConnectionCreate.avg' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ConnectionCreate_avg_col_label'>ConnectionCreate.avg, msecs</Label>
 <ShortName NLSID='ConnectionCreate_avg_col_sname'>ConnectionCreate.avg</ShortName>
<Description NLSID='ConnectionCreate_avg_col_desc'>time spent creating a connection</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ConnectionCreate.completed' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ConnectionCreate_completed_col_label'>ConnectionCreate.completed, ops</Label>
 <ShortName NLSID='ConnectionCreate_completed_col_sname'>ConnectionCreate.completed</ShortName>
<Description NLSID='ConnectionCreate_completed_col_desc'>time spent creating a connection</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ConnectionCreate.maxTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ConnectionCreate_maxTime_col_label'>ConnectionCreate.maxTime, msecs</Label>
 <ShortName NLSID='ConnectionCreate_maxTime_col_sname'>ConnectionCreate.maxTime</ShortName>
<Description NLSID='ConnectionCreate_maxTime_col_desc'>time spent creating a connection</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ConnectionCreate.minTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ConnectionCreate_minTime_col_label'>ConnectionCreate.minTime, msecs</Label>
 <ShortName NLSID='ConnectionCreate_minTime_col_sname'>ConnectionCreate.minTime</ShortName>
<Description NLSID='ConnectionCreate_minTime_col_desc'>time spent creating a connection</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ConnectionCreate.time' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ConnectionCreate_time_col_label'>ConnectionCreate.time, msecs</Label>
 <ShortName NLSID='ConnectionCreate_time_col_sname'>ConnectionCreate.time</ShortName>
<Description NLSID='ConnectionCreate_time_col_desc'>time spent creating a connection</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ConnectionOpenCount.count' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='ConnectionOpenCount_count_col_label'>ConnectionOpenCount.count, ops</Label>
 <ShortName NLSID='ConnectionOpenCount_count_col_sname'>ConnectionOpenCount.count</ShortName>
<Description NLSID='ConnectionOpenCount_count_col_desc'>number of connections that have been opened</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>

<!-- Start rate metrics -->
<ColumnDescriptor NAME='ConnectionCreate.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='ConnectionCreate.deltaCompleted'
 COMPUTE_EXPR="(ConnectionCreate.completed - _ConnectionCreate.completed)">
 <Display>
  <Label NLSID='ConnectionCreate_deltaCompleted_col_label'>ConnectionCreate.deltaCompleted, created</Label>
  <ShortName NLSID='ConnectionCreate_deltaCompleted_col_sname'>ConnectionCreate.deltaCompleted</ShortName>
  <Description NLSID='ConnectionCreate_deltaCompleted_col_desc'>
   The number of times a connection was created during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='ConnectionCreate.deltaTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='ConnectionCreate.deltaTime'
 COMPUTE_EXPR="(ConnectionCreate.time - _ConnectionCreate.time)/1000">
 <Display>
  <Label NLSID='ConnectionCreate_deltaTime_col_label'>ConnectionCreate.deltaTime, seconds</Label>
  <ShortName NLSID='ConnectionCreate_deltaTime_col_sname'>ConnectionCreate_deltaTime</ShortName>
  <Description NLSID='ConnectionCreate_deltaTime_col_desc'>
   The amount of time (in seconds) spent creating a connection the last interval
  </Description>
</Display></ColumnDescriptor>
<!-- End rate metrics -->
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>JDBC_DataSource</Property>
<!-- do not include 'name' column in 'columnOrder' property. 
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>ConnectionCloseCount.count;ConnectionCreate.active;ConnectionCreate.avg;ConnectionCreate.completed;ConnectionCreate.maxTime;ConnectionCreate.minTime;ConnectionCreate.time;ConnectionOpenCount.count</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>
<!-- Metric JDBC_Statement -->
<Metric NAME='JDBC_Statement' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
<Display>
 <Label NLSID='JDBC_Statement_table'>Raw JDBC Statement Metrics</Label>
 <ShortName NLSID='JDBC_Statement_stable'>JDBC_Statement</ShortName>
 <Description NLSID='JDBC_Statement_table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Execute.active' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Execute_active_col_label'>Execute.active</Label>
 <ShortName NLSID='Execute_active_col_sname'>Execute.active</ShortName>
<Description NLSID='Execute_active_col_desc'>the time required for all executions of this statement</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Execute.avg' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Execute_avg_col_label'>Execute.avg, msecs</Label>
 <ShortName NLSID='Execute_avg_col_sname'>Execute.avg</ShortName>
<Description NLSID='Execute_avg_col_desc'>the time required for all executions of this statement</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Execute.completed' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Execute_completed_col_label'>Execute.completed, ops</Label>
 <ShortName NLSID='Execute_completed_col_sname'>Execute.completed</ShortName>
<Description NLSID='Execute_completed_col_desc'>the time required for all executions of this statement</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Execute.maxTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Execute_maxTime_col_label'>Execute.maxTime, msecs</Label>
 <ShortName NLSID='Execute_maxTime_col_sname'>Execute.maxTime</ShortName>
<Description NLSID='Execute_maxTime_col_desc'>the time required for all executions of this statement</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Execute.minTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Execute_minTime_col_label'>Execute.minTime, msecs</Label>
 <ShortName NLSID='Execute_minTime_col_sname'>Execute.minTime</ShortName>
<Description NLSID='Execute_minTime_col_desc'>the time required for all executions of this statement</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Execute.time' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Execute_time_col_label'>Execute.time, msecs</Label>
 <ShortName NLSID='Execute_time_col_sname'>Execute.time</ShortName>
<Description NLSID='Execute_time_col_desc'>the time required for all executions of this statement</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Fetch.active' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Fetch_active_col_label'>Fetch.active</Label>
 <ShortName NLSID='Fetch_active_col_sname'>Fetch.active</ShortName>
<Description NLSID='Fetch_active_col_desc'>the time required for all fetches by this statement</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Fetch.avg' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Fetch_avg_col_label'>Fetch.avg, msecs</Label>
 <ShortName NLSID='Fetch_avg_col_sname'>Fetch.avg</ShortName>
<Description NLSID='Fetch_avg_col_desc'>the time required for all fetches by this statement</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Fetch.completed' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Fetch_completed_col_label'>Fetch.completed, ops</Label>
 <ShortName NLSID='Fetch_completed_col_sname'>Fetch.completed</ShortName>
<Description NLSID='Fetch_completed_col_desc'>the time required for all fetches by this statement</Description>
<Unit NLSID='ops'>ops</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Fetch.maxTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Fetch_maxTime_col_label'>Fetch.maxTime, msecs</Label>
 <ShortName NLSID='Fetch_maxTime_col_sname'>Fetch.maxTime</ShortName>
<Description NLSID='Fetch_maxTime_col_desc'>the time required for all fetches by this statement</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Fetch.minTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Fetch_minTime_col_label'>Fetch.minTime, msecs</Label>
 <ShortName NLSID='Fetch_minTime_col_sname'>Fetch.minTime</ShortName>
<Description NLSID='Fetch_minTime_col_desc'>the time required for all fetches by this statement</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Fetch.time' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Fetch_time_col_label'>Fetch.time, msecs</Label>
 <ShortName NLSID='Fetch_time_col_sname'>Fetch.time</ShortName>
<Description NLSID='Fetch_time_col_desc'>the time required for all fetches by this statement</Description>
<Unit NLSID='msecs'>msecs</Unit>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='JDBC_Connection' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='JDBC_Connection_col_label'>JDBC_Connection</Label>
 <ShortName NLSID='JDBC_Connection_col_sname'>JDBC_Connection</ShortName>
<Description NLSID='JDBC_Connection_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='JDBC_DataSource' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='JDBC_DataSource_col_label'>JDBC_DataSource</Label>
 <ShortName NLSID='JDBC_DataSource_col_sname'>JDBC_DataSource</ShortName>
<Description NLSID='JDBC_DataSource_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='SQLText.value' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='SQLText_value_col_label'>SQLText.value</Label>
 <ShortName NLSID='SQLText_value_col_sname'>SQLText.value</ShortName>
<Description NLSID='SQLText_value_col_desc'>current SQL text</Description>
</Display></ColumnDescriptor>
<!-- Start rate metrics -->
<ColumnDescriptor NAME='Execute.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='Execute.deltaCompleted'
 COMPUTE_EXPR="(Execute.completed - _Execute.completed)">
 <Display>
  <Label NLSID='Execute_deltaCompleted_col_label'>Execute.deltaCompleted, executes</Label>
  <ShortName NLSID='Execute_deltaCompleted_col_sname'>Execute.deltaCompleted</ShortName>
  <Description NLSID='Execute_deltaCompleted_col_desc'>
   The number of times the statement was executed during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Execute.deltaTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='Execute.deltaTime'
 COMPUTE_EXPR="(Execute.time - _Execute.time)/1000">
 <Display>
  <Label NLSID='Execute_deltaTime_col_label'>Execute.deltaTime, seconds</Label>
  <ShortName NLSID='Execute_deltaTime_col_sname'>Execute.deltaTime</ShortName>
  <Description NLSID='Execute_deltaTime_col_desc'>
   The amount of time spent executing the statement during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Fetch.deltaCompleted' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='Fetch.deltaCompleted'
 COMPUTE_EXPR="(Fetch.completed - _Fetch.completed)">
 <Display>
  <Label NLSID='Fetch_deltaCompleted_col_label'>Fetch.deltaCompleted, executes</Label>
  <ShortName NLSID='Fetch_deltaCompleted_col_sname'>Fetch.deltaCompleted</ShortName>
  <Description NLSID='Fetch_deltaCompleted_col_desc'>
   The number of times the statement was fetched during the last interval
  </Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Fetch.deltaTime' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE"
 COLUMN_NAME='Fetch.deltaTime'
 COMPUTE_EXPR="(Fetch.time - _Fetch.time)/1000">
 <Display>
  <Label NLSID='Fetch_deltaTime_col_label'>Fetch.deltaTime, seconds</Label>
  <ShortName NLSID='Fetch_deltaTime_col_sname'>Fetch.deltaTime</ShortName>
  <Description NLSID='Fetch_deltaTime_col_desc'>
   The amount of time spent fetching the statement during the last interval
  </Description>
</Display></ColumnDescriptor>
<!-- End rate metrics -->
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>JDBC_Statement</Property>
<!-- do not include 'name' column in 'columnOrder' property. 
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>Execute.active;Execute.avg;Execute.completed;Execute.maxTime;Execute.minTime;Execute.time;Fetch.active;Fetch.avg;Fetch.completed;Fetch.maxTime;Fetch.minTime;Fetch.time;JDBC_Connection;JDBC_DataSource;SQLText.value</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>
<!-- Metric oc4j_txnMgr -->
<Metric NAME='oc4j_txnMgr' TYPE='TABLE' HELP="NO_HELP" USAGE_TYPE="HIDDEN_COLLECT">
<ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
</ValidIf>
<Display>
 <Label NLSID='oc4j_txnMgr_table'>OC4J Raw Transaction Manager Metrics</Label>
 <ShortName NLSID='oc4j_txnMgr_stable'>oc4j_txnMgr</ShortName>
 <Description NLSID='oc4j_txnMgr_table_desc'>Metric Table</Description>
</Display><TableDescriptor>
<ColumnDescriptor NAME='name' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='name_col_label'>Name</Label>
 <ShortName NLSID='name_col_sname'>Name</ShortName>
<Description NLSID='name_col_desc'>Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='fullname' TYPE='STRING' IS_KEY='TRUE'>
<Display><Label NLSID='fullname_col_label'>Full Name</Label>
 <ShortName NLSID='fullname_col_sname'>Full Name</ShortName>
<Description NLSID='fullname_col_desc'>Full Instance Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Host' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Host_col_label'>Host</Label>
 <ShortName NLSID='Host_col_sname'>Host</ShortName>
<Description NLSID='Host_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='Process' TYPE='STRING' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='Process_col_label'>Process</Label>
 <ShortName NLSID='Process_col_sname'>Process</ShortName>
<Description NLSID='Process_col_desc'>Ancestor Name</Description>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='aborted_transactions.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='aborted_transactions_value_col_label'>aborted_transactions.value</Label>
 <ShortName NLSID='aborted_transactions_value_col_sname'>aborted_transactions.value</ShortName>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='committed_transactions.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='committed_transactions_value_col_label'>committed_transactions.value</Label>
 <ShortName NLSID='committed_transactions_value_col_sname'>committed_transactions.value</ShortName>
</Display></ColumnDescriptor>
<ColumnDescriptor NAME='open_transactions.value' TYPE='NUMBER' IS_KEY='FALSE' TRANSIENT="TRUE">
<Display><Label NLSID='open_transactions_value_col_label'>open_transactions.value</Label>
 <ShortName NLSID='open_transactions_value_col_sname'>open_transactions.value</ShortName>
</Display></ColumnDescriptor>
</TableDescriptor><QueryDescriptor FETCHLET_ID='DMS'>
<Property NAME='machine' SCOPE='INSTANCE'>HTTPMachine</Property>
<Property NAME='oraclehome' SCOPE='INSTANCE'>OracleHome</Property>
<Property NAME='version' SCOPE='INSTANCE'>version</Property>
<Property NAME='opmnport' SCOPE='INSTANCE' OPTIONAL='TRUE'>OPMNPort</Property>
<!-- The followings are properties for Basic authorization settings. -->
<Property NAME='authrealm' SCOPE='INSTANCE' OPTIONAL='TRUE'>authRealm</Property>
<Property NAME='authuser' SCOPE='INSTANCE' OPTIONAL='TRUE'>authUser</Property>
<Property NAME='authpwd' SCOPE='INSTANCE' OPTIONAL='TRUE'>authPasswd</Property>
<Property NAME='metric' SCOPE='GLOBAL'>oc4j_txnMgr</Property>
<!-- do not include 'name' column in 'columnOrder' property.
Column names should be in the same order as they are declared. -->
<Property NAME='columnOrder' SCOPE='GLOBAL'>aborted_transactions.value;committed_transactions.value;open_transactions.value</Property>
<!-- The followings are properties for proxy settings. -->
<Property NAME='proxyHost' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPort' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>proxyPort</Property>
<Property NAME='dontProxyFor' SCOPE='SYSTEMGLOBAL' OPTIONAL='TRUE'>dontProxyFor</Property>
<Property NAME='useProxy' SCOPE='INSTANCE' OPTIONAL='TRUE'>useDefaultProxy</Property>
<Property NAME='proxyHostOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyHost</Property>
<Property NAME='proxyPortOverride' SCOPE='INSTANCE' OPTIONAL='TRUE'>proxyPort</Property>
</QueryDescriptor></Metric>

<!-- Metric oc4j_aggregate -->
<Metric NAME="oc4j_aggregate" TYPE="EXTERNAL" HELP="NO_HELP">
<!-- We will have to change the implemenation of this metric for V11 instances -->
  <Display>
    <Label NLSID="oc4_aggregate">Web Application Historical</Label>
  </Display>
  <QueryDescriptor FETCHLET_ID="OSLineToken" ON_TARGET="TRUE">
    <Property NAME="emdRoot" SCOPE="SYSTEMGLOBAL">emdRoot</Property>
    <Property NAME="agentStateDir" SCOPE="SYSTEMGLOBAL">agentStateDir</Property>
    <Property NAME="webAppID" SCOPE="INSTANCE">DISPLAY_NAME</Property>
    <Property NAME="targetGUID" SCOPE="INSTANCE">GUID</Property>
    <Property NAME="targetName" SCOPE="INSTANCE">DISPLAY_NAME</Property>
    <Property NAME="targetType" SCOPE="INSTANCE">TYPE</Property>
    <Property NAME="oracleHome" SCOPE="INSTANCE">OracleHome</Property>
    <Property NAME="inDir" SCOPE="USER" OPTIONAL="TRUE">inDir</Property>
    <Property NAME="loaderFile" SCOPE="SYSTEMGLOBAL">_loaderFile</Property>
    <Property NAME="emdURL" SCOPE="SYSTEMGLOBAL">EMD_URL</Property>
    <Property NAME="appNames" SCOPE="USER" OPTIONAL="TRUE">appNames</Property>
    <Property NAME="aggregateOptionalProps" SCOPE="USER" OPTIONAL="TRUE">aggregateOptionalProps</Property>
    <Property NAME="command" SCOPE="GLOBAL">
     "%emdRoot%/bin/e2eme" "oc4j=%webAppID%" "tgtGuid=%targetGUID%" "tgtNm=%targetName%" "tgtTp=%targetType%" "emdUrl=%emdURL%" "outFl=%loaderFile%" "oraHm=%oracleHome%" "emdRoot=%emdRoot%" "emState=%agentStateDir%" "inDir=%inDir%" "appNames=%appNames%"  %aggregateOptionalProps%
    </Property>
    <Property NAME="startsWith" SCOPE="GLOBAL">em_result=</Property>
    <Property NAME="delimiter" SCOPE="GLOBAL">|</Property>
  </QueryDescriptor>
</Metric>

<!-- Metric oc4j_aggregate_sm (aggregate self monitoring metric) -->
<Metric NAME="oc4j_aggregate_sm" TYPE="TABLE" HELP="NO_HELP" USAGE_TYPE="COLLECT_UPLOAD">
<!-- We will have to change the implemenation of this metric for V11 instances -->
  <Display>
    <Label NLSID="oc4j_aggregate_sm">Monitor Web Application Collection</Label>
  </Display>
  <TableDescriptor>
    <ColumnDescriptor NAME="TIME" TYPE="NUMBER" IS_KEY="FALSE">
      <Display>
        <Label NLSID="oc4j_resource_agg_time">Time of Run</Label>
      </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME="STATUS" TYPE="NUMBER" IS_KEY="FALSE">
      <Display>
        <Label NLSID="oc4j_resource_agg_status">Run Status</Label>
      </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME="RUN_DURATION" TYPE="NUMBER" IS_KEY="FALSE">
      <Display>
        <Label NLSID="oc4j_resource_agg_run_duration">Run Duration</Label>
      </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME="PROCESSING_DURATION" TYPE="NUMBER" IS_KEY="FALSE">
      <Display>
        <Label NLSID="oc4j_resource_agg_processing_duration">Duration of URL Processing</Label>
      </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME="NO_INPUT_URL" TYPE="NUMBER" IS_KEY="FALSE">
      <Display>
        <Label NLSID="oc4j_resource_agg_no_input_url">Number of Input URLs</Label>
      </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME="NO_OUTPUT_URL" TYPE="NUMBER" IS_KEY="FALSE">
      <Display>
        <Label NLSID="oc4j_resource_agg_no_output_url">Number of Output URLs</Label>
      </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME="AVG_OUTPUT_URL_SPEED" TYPE="NUMBER" IS_KEY="FALSE">
      <Display>
        <Label NLSID="oc4j_resource_agg_avg_output">Average URL Output Speed</Label>
      </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME="CPU_UTIL" TYPE="NUMBER" IS_KEY="FALSE">
      <Display>
        <Label NLSID="oc4j_resource_agg_cpu_pct">CPU Utilization (%)</Label>
      </Display>
    </ColumnDescriptor>
    <ColumnDescriptor NAME="ERR_MSG" TYPE="STRING" IS_KEY="FALSE">
      <Display>
        <Label NLSID="oc4j_resource_agg_err_msg">Error message</Label>
      </Display>
    </ColumnDescriptor>
  </TableDescriptor>
  <QueryDescriptor FETCHLET_ID="OSLineToken" ON_TARGET="TRUE">
    <Property NAME="scriptsDir" SCOPE="SYSTEMGLOBAL">scriptsDir</Property>
    <Property NAME="perlBin" SCOPE="SYSTEMGLOBAL">perlBin</Property>
    <Property NAME="agentState" SCOPE="SYSTEMGLOBAL">agentStateDir</Property>
    <Property NAME="targetName" SCOPE="INSTANCE">DISPLAY_NAME</Property>
    <Property NAME="targetType" SCOPE="INSTANCE">TYPE</Property>
    <Property NAME="aggregateOptionalPropsSm" SCOPE="USER" OPTIONAL="TRUE">aggregateOptionalPropsSm</Property>
    <Property NAME="command" SCOPE="GLOBAL">
      "%perlBin%/perl" "%scriptsDir%/chronos_run.pl" -chronosroot "%agentState%/sysman/emd/e2eme" -emdroot "%agentState%" -targetname "%targetName%" -targettype "%targetType%" %aggregateOptionalPropsSm%
    </Property>
    <Property NAME="startsWith" SCOPE="GLOBAL">chronos_run_result=</Property>
    <Property NAME="delimiter" SCOPE="GLOBAL">|</Property>
  </QueryDescriptor>
</Metric>

<InstanceProperties>

    <InstanceProperty NAME="ObjectName" CREDENTIAL="FALSE" OPTIONAL="TRUE">
    <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus" />
    </ValidIf>
      <Display>
        <Label NLSID="object_name_prop">Object Name</Label>
      </Display>
    </InstanceProperty>

    <InstanceProperty NAME="farmTopologyNodeID" CREDENTIAL="FALSE" OPTIONAL="TRUE">
    <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus" />
    </ValidIf>
      <Display>
        <Label NLSID="farm_topology_node_id_prop">Farm Topology Node Id</Label>
      </Display>
    </InstanceProperty>

    <InstanceProperty NAME="MAS_OracleHome" CREDENTIAL="FALSE" OPTIONAL="TRUE">
    <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus" />
    </ValidIf>
      <Display>
        <Label NLSID="mas_oracle_home_prop">MAS Oracle Home</Label>
      </Display>
    </InstanceProperty>

    <InstanceProperty NAME="MAS_Version" CREDENTIAL="FALSE" OPTIONAL="TRUE">
    <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus" />
    </ValidIf>
      <Display>
        <Label NLSID="mas_version_prop">MAS Version</Label>
      </Display>
    </InstanceProperty>

    <InstanceProperty NAME="MAS_FarmGUID" CREDENTIAL="FALSE" OPTIONAL="TRUE">
    <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus" />
    </ValidIf>
      <Display>
        <Label NLSID="mas_farm_guid_prop">MAS Farm Guid</Label>
      </Display>
    </InstanceProperty>

    <InstanceProperty NAME="CanonicalPath" CREDENTIAL="FALSE" OPTIONAL="TRUE">
    <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus" />
    </ValidIf>
      <Display>
        <Label NLSID="canonical_path_prop">Canonical Path</Label>
      </Display>
    </InstanceProperty>

    <InstanceProperty NAME="OracleInstance" CREDENTIAL="FALSE" OPTIONAL="TRUE">
    <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus" />
    </ValidIf>
      <Display>
        <Label NLSID="oracle_instance_prop">Oracle Instance</Label>
      </Display>
    </InstanceProperty>


<InstanceProperty NAME='HTTPMachine'>
 <ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
 </ValidIf>
 <Display>
 <Label NLSID='dms_HTTPMachine_iprop'>Machine name</Label>
 <ShortName NLSID='dms_HTTPMachine_iprop'>Machine name</ShortName>
</Display></InstanceProperty>
<InstanceProperty NAME='useDefaultProxy' OPTIONAL='TRUE'>
 <ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
 </ValidIf>
 <Display>
 <Label NLSID='dms_useProxy_iprop'>Use default proxy?</Label>
 <ShortName NLSID='dms_useProxy_iprop'>Use default proxy?</ShortName>
</Display>false</InstanceProperty>
<InstanceProperty NAME='proxyHost' OPTIONAL='TRUE'>
 <ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
 </ValidIf>
 <Display>
 <Label NLSID='dms_proxyHost_iprop'>Proxy Host</Label>
 <ShortName NLSID='dms_proxyHost_iprop'>Proxy Host</ShortName>
</Display></InstanceProperty>
<InstanceProperty NAME='proxyPort' OPTIONAL='TRUE'>
 <ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
 </ValidIf>
 <Display>
 <Label NLSID='dms_proxyPort_iprop'>Proxy Port</Label>
 <ShortName NLSID='dms_proxyPort_iprop'>Proxy Port</ShortName>
</Display></InstanceProperty>
<InstanceProperty NAME='OracleHome'>
 <Display>
 <Label NLSID='dms_OracleHome_iprop'>Oracle home path</Label>
 <ShortName NLSID='dms_OracleHome_iprop'>Oracle home path</ShortName>
</Display></InstanceProperty>
<InstanceProperty NAME="OracleBinaryHome" OPTIONAL="TRUE">
 <ValidIf>
   <CategoryProp NAME="VersionCategory" CHOICES="1013plus"/>
  </ValidIf>
  <Display>
    <Label NLSID="OracleBinaryHome_iprop">Oracle Binary Home</Label>
  </Display>
</InstanceProperty>
<InstanceProperty NAME='OracleInstance'>
 <ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="11plus" />
 </ValidIf>
 <Display>
 <Label NLSID='OracleInstance_iprop'>Oracle Instance path</Label>
</Display></InstanceProperty>
<InstanceProperty NAME='OPMNPort' OPTIONAL='TRUE'>
 <ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
 </ValidIf>
 <Display>
 <Label NLSID='dms_OPMNPort_iprop'>OPMN port number</Label>
 <ShortName NLSID='dms_OPMNPort_iprop'>OPMN port number</ShortName>
</Display></InstanceProperty>
<InstanceProperty NAME='authRealm' OPTIONAL='TRUE'>
 <ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
 </ValidIf>
 <Display>
 <Label NLSID='dms_authRealm_iprop'>Realm for Basic authorization</Label>
 <ShortName NLSID='dms_authRealm_iprop'>Realm for Basic authorization</ShortName>
</Display></InstanceProperty>
<InstanceProperty NAME='authUser' OPTIONAL='TRUE'>
 <ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
 </ValidIf>
 <Display>
 <Label NLSID='dms_authUser_iprop'>Username for Basic authorization</Label>
 <ShortName NLSID='dms_authUser_iprop'>Username for Basic authorization</ShortName>
</Display></InstanceProperty>
<InstanceProperty NAME='authPasswd' CREDENTIAL='TRUE' OPTIONAL='TRUE'>
 <ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
 </ValidIf>
 <Display>
 <Label NLSID='dms_authPasswd_iprop'>Password for Basic authorization</Label>
 <ShortName NLSID='dms_authPasswd_iprop'>Password for Basic authorization</ShortName>
</Display></InstanceProperty>
<InstanceProperty NAME="version">
  <Display>
    <Label NLSID="oc4j_version_iprop">Version of OC4J</Label>
   </Display>
</InstanceProperty>
<InstanceProperty NAME="MAS_OracleInstance">
    <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus" />
    </ValidIf>
    <Display>
        <Label NLSID="MAS_OracleInstanceLabel">MAS Oracle Instance Home</Label>
    </Display>
</InstanceProperty>
<InstanceProperty NAME="topologyNodeID">
 <ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="11plus" />
 </ValidIf>
 <Display>
  <Label NLSID="MAS_toplogyNodeIDLabel">Topology Node ID</Label>
 </Display>
</InstanceProperty>
<InstanceProperty NAME="VersionCategory" IS_COMPUTED="TRUE">
 <Display>
  <Label NLSID="version_cat_iprop">Version Category</Label>
 </Display>
</InstanceProperty>
<InstanceProperty NAME="getLogNames" IS_COMPUTED="TRUE">
 <ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus"/>
 </ValidIf>
 <Display>
  <Label NLSID="getLogNames_iprop">Logfile names</Label>
 </Display>
</InstanceProperty>

<DynamicProperties NAME="ComputeVC" FORMAT="ROW" 
                   PROP_LIST="VersionCategory">
  <QueryDescriptor FETCHLET_ID="VersionRangeComputer">
    <Property NAME="Version" SCOPE="INSTANCE">version</Property>
    <Property NAME="DefaultRange" SCOPE="GLOBAL">900</Property>
    <Property NAME="900" SCOPE="GLOBAL">9.0.2;</Property>
    <Property NAME="904plus" SCOPE="GLOBAL">9.0.4;</Property>
    <Property NAME="1013plus" SCOPE="GLOBAL">10.1.3;</Property>
    <Property NAME="11plus" SCOPE="GLOBAL">11.0.0;</Property>
  </QueryDescriptor>
</DynamicProperties>
<DynamicProperties NAME="getLogNames" FORMAT="TABLE" >
 <ValidIf>
  <CategoryProp NAME="VersionCategory" CHOICES="900;904plus;1013plus" />
 </ValidIf>
   <QueryDescriptor FETCHLET_ID="OSLineToken" ON_TARGET="TRUE">
	<Property NAME="targetName" SCOPE="INSTANCE">NAME</Property>
	<Property NAME="targetDisplayName" SCOPE="INSTANCE">DISPLAY_NAME</Property>
	<Property NAME="scriptsDir" SCOPE="SYSTEMGLOBAL">scriptsDir</Property>
        <Property NAME="oracleHome" SCOPE="INSTANCE">OracleHome</Property>
        <Property NAME="perlBin" SCOPE="SYSTEMGLOBAL">perlBin</Property>
        <Property NAME="command" SCOPE="GLOBAL">"%perlBin%/perl" "%scriptsDir%/ias/logRotation/listOC4JLogs.pl" "%OracleHome%" %targetDisplayName%</Property>
        <Property NAME="startsWith" SCOPE="GLOBAL">em_result=</Property>
        <Property NAME="delimiter" SCOPE="GLOBAL">|</Property>
  </QueryDescriptor>
</DynamicProperties>
</InstanceProperties>
</TargetMetadata>
