<!-- Copyright (c) 2006, 2010, Oracle and/or its affiliates. 
All rights reserved. -->

<!--
   MODIFIED    (MM/DD/YY)
   rrpai        06/15/10 - bug9794341
-->

<!DOCTYPE TargetMetadata SYSTEM "../dtds/TargetMetadata.dtd"[
<!ENTITY opmn_component_response SYSTEM "./opmn_component_response.xmlp">
<!ENTITY opmn_component_resource_usage SYSTEM "./opmn_component_resource_usage.xmlp">
]>

<TargetMetadata META_VER="1.0" TYPE="oracle_repbrd"
                CATEGORY_PROPERTIES="VersionCategory"
                RESOURCE_BUNDLE_PACKAGE="oracle.sysman.emai.rsc.reports">
   <Display>
      <Label NLSID="repbrd_nlsid">Oracle Reports Bridge</Label>
      <ShortName NLSID="repbrd_shortname">Reports Bridge</ShortName>
      <Description NLSID="repbrd_nlsid">Oracle Reports Bridge</Description>
   </Display>

   <AssocTarget ASSOCIATION_NAME="farm" ASSOC_TARGET_TYPE="*"/>
   <AssocTarget ASSOCIATION_NAME="managedBy" ASSOC_TARGET_TYPE="*"/>   
   
   &opmn_component_response;
   &opmn_component_resource_usage;
     
   <Metric NAME="Remote_Bridge_Elements" TYPE="TABLE">
      <Display>
         <Label NLSID="Remote_Bridge_Elements">Remote Elements Discovered</Label>
      </Display>
      <TableDescriptor>
         <ColumnDescriptor NAME="Host.value" TYPE="STRING">
            <Display>
               <Label NLSID="Host">Host.value</Label>
            </Display>
         </ColumnDescriptor>
         <ColumnDescriptor NAME="Name" TYPE="STRING" IS_KEY="TRUE">
            <Display>
               <Label NLSID="Internal_Name">Internal Name</Label>
            </Display>
         </ColumnDescriptor>
         <ColumnDescriptor NAME="Name.value" TYPE="STRING">
            <Display>
               <Label NLSID="Name">Name</Label>
            </Display>
         </ColumnDescriptor>
         <ColumnDescriptor NAME="Type.value" TYPE="STRING">
            <Display>
               <Label NLSID="Type">Type of Element</Label>
            </Display>
         </ColumnDescriptor>
         <ColumnDescriptor NAME="Time.value" TYPE="NUMBER">
            <Display>
               <Label NLSID="Time">Discovery Time (ms)</Label>
            </Display>
         </ColumnDescriptor>
      </TableDescriptor>
      <QueryDescriptor FETCHLET_ID="JMX">
         <ValidIf>
            <CategoryProp NAME="VersionCategory" CHOICES="11plus" />
         </ValidIf>
         <Property NAME="serviceURL" SCOPE="ASSOCTGT" ASSOCIATION_NAME="farm">serviceURL</Property>
         <Property NAME="UserName" SCOPE="ASSOCTGT" OPTIONAL="TRUE"
                   ASSOCIATION_NAME="farm">UserName</Property>
         <Property NAME="password" SCOPE="ASSOCTGT" OPTIONAL="TRUE"
                   ASSOCIATION_NAME="farm">password</Property>
         <Property NAME="MetricService" SCOPE="GLOBAL">true</Property>
         <Property NAME="ServerNames" SCOPE="INSTANCE">ServerNames</Property>
         <Property NAME="columnOrder" SCOPE="GLOBAL">Host.value;Name;Name.value;Type.value;Time.value</Property>
         <Property NAME="metric" SCOPE="GLOBAL">reports:Remote_Bridge_Elements</Property>
         <Property NAME="CanonicalPath.parameter" SCOPE="INSTANCE">CanonicalPath</Property>         
         <Property NAME="admlMap" SCOPE="GLOBAL">
            <![CDATA[<argument type="java.util.Map"><value><item><key>ServerNames.parameter</key><value type="java.lang.String">%CanonicalPath.parameter%</value></item></value></argument>]]>
         </Property>         
      </QueryDescriptor>
   </Metric>
     
   <InstanceProperties>
   
     <!-- version related properties -->
      <InstanceProperty NAME="version">
         <ValidIf>
            <CategoryProp NAME="VersionCategory" CHOICES="11plus" />
         </ValidIf>
         <Display>
            <Label NLSID="oracle_repbrd_version_iprop">Version of Reports Bridge</Label>
         </Display>
      </InstanceProperty>
      <InstanceProperty NAME="VersionCategory" IS_COMPUTED="TRUE">
         <Display>
            <Label NLSID="version_cat_iprop">Version Category</Label>
         </Display>
      </InstanceProperty>
      <DynamicProperties NAME="ComputeVC" FORMAT="ROW"
                         PROP_LIST="VersionCategory">
         <QueryDescriptor FETCHLET_ID="VersionRangeComputer">
            <Property NAME="Version" SCOPE="INSTANCE">version</Property>
            <Property NAME="DefaultRange" SCOPE="GLOBAL">900</Property>
            <Property NAME="900" SCOPE="GLOBAL">9.0.2;</Property>
            <Property NAME="904plus" SCOPE="GLOBAL">9.0.4;</Property>
            <Property NAME="1012plus" SCOPE="GLOBAL">10.1.2;</Property>                        
            <Property NAME="1013plus" SCOPE="GLOBAL">10.1.3;</Property>
            <Property NAME="11plus" SCOPE="GLOBAL">10.3;</Property>
         </QueryDescriptor>
      </DynamicProperties>
      
     <!-- Reports related properties -->   
     <InstanceProperty NAME="OracleHome" CREDENTIAL="FALSE" OPTIONAL="TRUE">
      <Display>
        <Label NLSID="oracle_reptools_oraclehome">Oracle Home</Label>
      </Display>
     </InstanceProperty>    
     
      <!-- MAS properties. Some properties required for Agent Monitored targets
          are not required here eg MASUserName, MASMachineName etc.  -->    
    <InstanceProperty NAME="serviceURL" OPTIONAL="TRUE">
     <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus" />
    </ValidIf>
      <Display>
        <Label NLSID="serviceURL_Label">Service URL</Label>
      </Display>
    </InstanceProperty>
              
    <InstanceProperty NAME="ObjectName" CREDENTIAL="FALSE" OPTIONAL="TRUE">
    <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus" />
    </ValidIf>
      <Display>
        <Label NLSID="object_name_prop">Object Name</Label>
      </Display>
    </InstanceProperty>

    <InstanceProperty NAME="ServerNames">
       <ValidIf>
          <CategoryProp NAME="VersionCategory" CHOICES="11plus" />
       </ValidIf>
       <Display>
          <Label NLSID="Servernames">Server Names</Label>
       </Display>        
    </InstanceProperty>
    
    <InstanceProperty NAME="CanonicalPath" CREDENTIAL="FALSE">
    <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus" />
    </ValidIf>
      <Display>
        <Label NLSID="canonical_path_prop">Canonical Path</Label>
      </Display>
    </InstanceProperty>

    <InstanceProperty NAME="OracleInstance" CREDENTIAL="FALSE" OPTIONAL="TRUE">
    <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus" />
    </ValidIf>
      <Display>
        <Label NLSID="oracle_instance_prop">Oracle Instance</Label>
      </Display>
    </InstanceProperty>
     
     
   </InstanceProperties>
</TargetMetadata>
