<?xml version='1.0'?>

<!-- Copyright (c) 2002, 2008, Oracle and/or its affiliates. All rights reserved.-->

<!--
  Copy this block into your targets.xml and replace values for strings with
  %% to get a target instance
  9.0.4 and 10.#.# target style:

   <Target TYPE="sso_server" NAME="%Name%" VERSION="1.0">        
     <Property NAME="ssoServerDAD" VALUE="%ssoServerDAD%" />
     <Property NAME="OidRepSchemaName" VALUE="%ssoServer_psUserName%" />    
     <Property NAME="OracleHome" VALUE="%OracleHome%" />
     <Property NAME="startComponent" VALUE="%iASName%_HTTP Server" />
     <Property NAME="HTTPMachine" VALUE="%HTTPMachine%" />    
     <Property NAME="HTTPPort" VALUE="%HTTPPort%" />    
     <Property NAME='HTTPProtocol' VALUE='http' />       
     <Property NAME="useProxy" VALUE="%useProxy%" />   
     <CompositeMembership>
         <MemberOf TYPE="oracle_ias" NAME="%iASName%"/>
     </CompositeMembership>
   </Target>
   
   
  The metadata also supports monitoring 9.0.2 Single Sign-On Servers in order that
  the Grid Control Central Agent can monitor 9.0.2 and 9.0.4 simultaneously.
  Should you require a 9.0.2 target it will have to be of the following format
  9.0.2 Target style:
    <Target TYPE="sso_server" NAME="%Name%" VERSION="1.0">        
      <Property NAME="ssoServerDAD" VALUE="%ssoServerDAD%" />
      <Property NAME="ssoServerMachineName" VALUE="%ssoServerMachineName%" />       
      <Property NAME="ssoServerPort" VALUE="%ssoServerPort%" />
      <Property NAME="ssoServerSID" VALUE="%ssoServerSID%" />
      <Property NAME="ssoServerUserName" VALUE="%ssoServerUserName%" ENCRYPTED="FALSE" />
      <Property NAME="ssoServerPassword" VALUE="%ssoServerPassword%" ENCRYPTED="FALSE"  />
      <Property NAME="HTTPMachine" VALUE="%HTTPMachine%" />    
      <Property NAME="HTTPPort" VALUE="%HTTPPort%" />    
      <Property NAME='HTTPProtocol' VALUE='http' />       
      <Property NAME="useProxy" VALUE="%useProxy%" />            
    </Target>
      
-->
<!DOCTYPE TargetMetadata SYSTEM "../dtds/TargetMetadata.dtd" >
<TargetMetadata META_VER="5.0" TYPE="oracle_sso_server" CATEGORY_PROPERTIES="VersionCategory" RESOURCE_BUNDLE_PACKAGE="oracle.sysman.emas.rsc.gen.iam">
 
  <Display>
    <Label NLSID="oracle_sso_server_name">Single Sign-On Server</Label>
    <ShortName NLSID="oracle_sso_server_sname">Single Sign-On Server</ShortName>
  </Display>

  <AssocTarget ASSOC_TARGET="oc4j" TYPE="oc4j" 
               ASSOC_TYPE="CONNECTS_TO"/>
  <AssocTarget ASSOC_TARGET="httpServer" TYPE="oracle_apache" 
               ASSOC_TYPE="CONNECTS_TO"/>
  <AssocTarget ASSOC_TARGET="idmldap" TYPE="oracle_ldap" 
               ASSOC_TYPE="CONNECTS_TO"/>


  <MetricClass NAME="Functional" NLSID="MetricClassFunctional">
    <MetricCategory NAME="WorkloadVolume" NLSID="MetricCategoryWorkloadVolume"/>
    <MetricCategory NAME="WorkloadType" NLSID="MetricCategoryWorkloadType"/>
    <MetricCategory NAME="Performance" NLSID="MetricCategoryPerformance"/>
    <MetricCategory NAME="Capacity" NLSID="MetricCategoryCapacity"/>
    <MetricCategory NAME="Configuration" NLSID="MetricCategoryConfiguration"/>
    <MetricCategory NAME="Security" NLSID="MetricCategorySecurity"/>
    <MetricCategory NAME="Storage" NLSID="MetricCategoryStorage"/>
    <MetricCategory NAME="Fault" NLSID="MetricCategoryFault"/>
    <MetricCategory NAME="Unclassified" NLSID="MetricCategoryUncategorized"/>
  </MetricClass>
   
  <Metric NAME="LoginMetric" NUM_CACHE_VALUES="10" TYPE="TABLE" FORCE_CACHE="TRUE">
    <Display>
      <Label NLSID="LoginMetric_table">Login Activity Metrics</Label>
    </Display>
    <TableDescriptor>
      <ColumnDescriptor NAME="logins" TYPE="NUMBER" IS_KEY="FALSE " COLUMN_NAME="logins" TRANSIENT="FALSE">
        <Display  FOR_SUMMARY_UI="TRUE" >
          <Label NLSID="oracle_sso_server_LoginMetricLogins">Number of Login Attempts</Label>
          <ShortName NLSID="oracle_sso_server_total_logins_short">Total SSO Login</ShortName>
        </Display>
        <CategoryValue CLASS="Functional" CATEGORY_NAME="WorkloadVolume"/>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="successful_logins" TYPE="NUMBER" IS_KEY="FALSE" COLUMN_NAME="successful_logins" TRANSIENT="FALSE">
        <Display FOR_SUMMARY_UI="TRUE" >
          <Label NLSID="oracle_sso_server_LoginMetricSuccessful_logins">Number of Successful Login Attempts</Label>
         <ShortName NLSID="oracle_sso_server_succ_logins_short">Successful SSO Login</ShortName>
        </Display>
        <CategoryValue CLASS="Functional" CATEGORY_NAME="WorkloadVolume"/>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="cr_logins" TYPE="NUMBER" IS_KEY="FALSE" COLUMN_NAME="cr_logins" TRANSIENT="FALSE">
        <Display>
          <Label NLSID="oracle_sso_server_LoginMetricCred_logins">Total Credential Logins </Label>
          <!--<ShortName NSLID="oracle_sso_server_cred_logins_short">Credential Logins</ShortName>-->
        </Display>
        <CategoryValue CLASS="Functional" CATEGORY_NAME="WorkloadVolume"/>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="co_logins" TYPE="NUMBER" IS_KEY="FALSE" COLUMN_NAME="co_logins" TRANSIENT="FALSE">
        <Display>
          <Label NLSID="oracle_sso_server_LoginMetricCookie_logins">Total Cookie Logins </Label>
          <!--<ShortName NSLID="oracle_sso_server_cookie_logins_short">Cookie Logins</ShortName>-->
        </Display>
        <CategoryValue CLASS="Functional" CATEGORY_NAME="WorkloadVolume"/>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="failed_logins" TYPE="NUMBER" IS_KEY="FALSE" COLUMN_NAME="failed_logins" COMPUTE_EXPR="logins-successful_logins" TRANSIENT="FALSE">
        <Display FOR_SUMMARY_UI="TRUE" >
          <Label NLSID="oracle_sso_server_LoginMetric_failed_logins">Number of Unsuccessful Login Attempts</Label>
         <ShortName NLSID="oracle_sso_server_fail_logins_short">Failed SSO Login</ShortName>
        </Display>
        <CategoryValue CLASS="Functional" CATEGORY_NAME="WorkloadVolume"/>
      </ColumnDescriptor> 
      <ColumnDescriptor NAME="successful_logins.percentage" TYPE="NUMBER" IS_KEY="FALSE" COLUMN_NAME="successful_logins.percentage" COMPUTE_EXPR="(successful_logins/logins)*100" TRANSIENT="FALSE">
        <Display>
          <Label NLSID="oracle_sso_server_LoginMetric_successful_logins_percent">Percentage of Successful Logins </Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="failed_logins.percentage" TYPE="NUMBER" IS_KEY="FALSE" COLUMN_NAME="failed_logins.percentage" COMPUTE_EXPR="((logins-successful_logins)/logins)*100" TRANSIENT="FALSE">
        <Display>
          <Label NLSID="oracle_sso_server_LoginMetric_failed_logins_percent">Percentage of Unsuccessful Logins </Label>
        </Display>
      </ColumnDescriptor>
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="SQL">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
      </ValidIf>
       <Property NAME="STATEMENT" SCOPE="GLOBAL">
          <![CDATA[
               begin wwsso_stat.get_num_requests_and_succ(NULL,NULL,NULL,NULL,NULL,NULL,NULL,SYSDATE-1/(24*6),SYSDATE,0,:1); end;
          ]]>
       </Property>
       <Property NAME="SQLOUTPARAMPOS" SCOPE="GLOBAL">1</Property>
       <Property NAME="NUMROWS" SCOPE="GLOBAL">1</Property>
       <Property NAME="SQLOUTPARAMTYPE" SCOPE="GLOBAL">sql_cursor</Property>
       <Property NAME="ConnectDescriptor" SCOPE="INSTANCE" OPTIONAL="TRUE">ConnectDescriptor</Property>
       <Property NAME="UserName" SCOPE="INSTANCE">ssoServerUserName</Property>
       <Property NAME="password" SCOPE="INSTANCE">ssoServerPassword</Property>
    </QueryDescriptor>
    <QueryDescriptor FETCHLET_ID="SQL">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="904;1012;1014plus"/>
      </ValidIf>        
      <Property NAME="STATEMENT" SCOPE="GLOBAL"><![CDATA[
               begin wwsso_stat.get_num_requests_and_succ(NULL,NULL,NULL,NULL,NULL,NULL,NULL,SYSDATE-1/(24*6),SYSDATE,0,:1); end;
          ]]></Property>
      <Property NAME="SQLOUTPARAMPOS" SCOPE="GLOBAL">1</Property>
      <Property NAME="NUMROWS" SCOPE="GLOBAL">1</Property>
      <Property NAME="SQLOUTPARAMTYPE" SCOPE="GLOBAL">sql_cursor</Property>
      <Property NAME="OidRepSchemaName" SCOPE="INSTANCE">OidRepSchemaName</Property>
      <Property NAME="OracleHome" SCOPE="INSTANCE">OracleHome</Property>
    </QueryDescriptor>
    <QueryDescriptor FETCHLET_ID="SQL">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="902"/>
      </ValidIf>       
       <Property NAME="STATEMENT" SCOPE="GLOBAL">
          <![CDATA[
               begin wwsso_stat.get_num_requests_and_succ(NULL,NULL,NULL,NULL,NULL,NULL,NULL,SYSDATE-1/(24*6),SYSDATE,0,:1); end;
          ]]>
       </Property>
       <Property NAME="SQLOUTPARAMPOS" SCOPE="GLOBAL">1</Property>
       <Property NAME="NUMROWS" SCOPE="GLOBAL">1</Property>
       <Property NAME="SQLOUTPARAMTYPE" SCOPE="GLOBAL">sql_cursor</Property>
       <Property NAME="MachineName" SCOPE="INSTANCE">ssoServerMachineName</Property>
       <Property NAME="Port" SCOPE="INSTANCE">ssoServerPort</Property>
       <Property NAME="SID" SCOPE="INSTANCE">ssoServerSID</Property>
       <Property NAME="UserName" SCOPE="INSTANCE">ssoServerUserName</Property>
       <Property NAME="password" SCOPE="INSTANCE">ssoServerPassword</Property>
    </QueryDescriptor>   
  </Metric>  

  <Metric NAME="nMostActivityUsers" TYPE="TABLE" NUM_CACHE_VALUES="10">
    <Display>
      <Label NLSID="nMostActivityUsers_table">Most Activity Users Metrics</Label>
    </Display>
    <TableDescriptor>
      <ColumnDescriptor NAME="user_name" TYPE="STRING" IS_KEY="TRUE" COLUMN_NAME="user_name">
        <Display>
          <Label NLSID="oracle_sso_server_nMostActivityUsers_user_name">User Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="successful_logins" TYPE="NUMBER" IS_KEY="FALSE" COLUMN_NAME="successful_logins">
        <Display>
          <Label NLSID="oracle_sso_server_nMostActivityUsers_succ_logins">Successful Logins</Label>
        </Display>
        <CategoryValue CLASS="Functional" CATEGORY_NAME="WorkloadVolume"/>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="failed_logins" TYPE="NUMBER" IS_KEY="FALSE" COLUMN_NAME="failed_logins">
        <Display>
          <Label NLSID="oracle_sso_server_nMostActivityUsers_failed_logins">Failed Logins</Label>
        </Display>
        <CategoryValue CLASS="Functional" CATEGORY_NAME="WorkloadVolume"/>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="subscriber_id" TYPE="STRING" IS_KEY="FALSE" COLUMN_NAME="subscriber_id">
        <Display>
          <Label NLSID="oracle_sso_server_nMostActivityUsers_subscriber_id">Subscriber ID</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="subscriber_name" TYPE="STRING" IS_KEY="FALSE" COLUMN_NAME="subscriber_name">
        <Display>
          <Label NLSID="oracle_sso_server_nMostActivityUsers_subscriber_name">Subscriber Name</Label>
        </Display>
      </ColumnDescriptor>
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="SQL">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="1014plus"/>
      </ValidIf>    
      <Property NAME="STATEMENT" SCOPE="GLOBAL"><![CDATA[
                 begin wwsso_stat.get_login_details(NULL,SYSDATE -1/(24*6),SYSDATE,:1); end;                   
            ]]></Property>
      <Property NAME="SQLOUTPARAMPOS" SCOPE="GLOBAL">1</Property>
      <Property NAME="SQLOUTPARAMTYPE" SCOPE="GLOBAL">sql_cursor</Property>
      <Property NAME="OidRepSchemaName" SCOPE="INSTANCE">OidRepSchemaName</Property>
      <Property NAME="OracleHome" SCOPE="INSTANCE">OracleHome</Property>
    </QueryDescriptor>
    <QueryDescriptor FETCHLET_ID="SQL">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
      </ValidIf>
       <Property NAME="STATEMENT" SCOPE="GLOBAL"><![CDATA[
                 begin wwsso_stat.get_login_details(NULL,SYSDATE -1/(24*6),SYSDATE,:1); end;                                                                                                   
            ]]></Property>
       <Property NAME="SQLOUTPARAMPOS" SCOPE="GLOBAL">1</Property>
       <Property NAME="NUMROWS" SCOPE="GLOBAL">1</Property>
       <Property NAME="SQLOUTPARAMTYPE" SCOPE="GLOBAL">sql_cursor</Property>
       <Property NAME="ConnectDescriptor" SCOPE="INSTANCE" OPTIONAL="TRUE">ConnectDescriptor</Property>
       <Property NAME="UserName" SCOPE="INSTANCE">ssoServerUserName</Property>
       <Property NAME="password" SCOPE="INSTANCE">ssoServerPassword</Property>
    </QueryDescriptor>
  </Metric>

  <Metric NAME="LdapInstance" TYPE="TABLE">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="1014plus"/>
    </ValidIf>
    <Display>
      <Label NLSID="LdapInstanceDetails">Ldap Instance Details</Label>
    </Display>
    <TableDescriptor>
      <ColumnDescriptor NAME="ldap_host" TYPE="STRING" IS_KEY="FALSE" RENDERABLE="FALSE" COLUMN_NAME="ldap_host">
         <Display>
           <Label NLSID="oracle_sso_server_LdapInstanceLdap_host">LDAP Hostname</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ldap_port" TYPE="STRING" IS_KEY="FALSE" RENDERABLE="FALSE" COLUMN_NAME="ldap_port">
         <Display>
           <Label NLSID="oracle_sso_server_LdapInstanceLdap_port">LDAP Port</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ldap_flag" TYPE="STRING" IS_KEY="FALSE" RENDERABLE="FALSE" COLUMN_NAME="ldap_flag">
         <Display>
           <Label NLSID="oracle_sso_server_LdapInstanceLdap_flag">LDAP SSL Flag</Label>
         </Display>
      </ColumnDescriptor>
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="SQL">
      <Property NAME="STATEMENT" SCOPE="GLOBAL"><![CDATA[
                 begin wwsso_stat.get_ldap_config(:1); end;
            ]]></Property>
      <Property NAME="SQLOUTPARAMPOS" SCOPE="GLOBAL">1</Property>
      <Property NAME="SQLOUTPARAMTYPE" SCOPE="GLOBAL">sql_cursor</Property>
      <Property NAME="OidRepSchemaName" SCOPE="INSTANCE">OidRepSchemaName</Property>
      <Property NAME="OracleHome" SCOPE="INSTANCE">OracleHome</Property>
    </QueryDescriptor>
   </Metric>

  <!-- User for version 11plus or later -->
  <Metric NAME="nIPLoginDetails" TYPE="TABLE">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
    </ValidIf>
    <Display>
      <Label NLSID="nIPLoginDetails_table">IP Login Details Metric</Label>
    </Display>
    <TableDescriptor>
      <ColumnDescriptor NAME="ip_address" TYPE="STRING" IS_KEY="TRUE" COLUMN_NAME="ip_address">
         <Display>
           <Label NLSID="oracle_sso_server_nIPLoginDetails_ip_address">IP Address</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="success_count" TYPE="NUMBER" IS_KEY="FALSE" COLUMN_NAME="success_count">
         <Display>
           <Label NLSID="oracle_sso_server_nIPLoginActivity_success_count">Number of Successful Login Attempts</Label>
         </Display>
        <CategoryValue CLASS="Functional" CATEGORY_NAME="WorkloadVolume"/>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="failure_count" TYPE="NUMBER" IS_KEY="FALSE" COLUMN_NAME="failure_count">
         <Display>
           <Label NLSID="oracle_sso_server_nIPLoginActivity_failure_count">Number of Unsuccessful Login Attempts</Label>
         </Display>
        <CategoryValue CLASS="Functional" CATEGORY_NAME="WorkloadVolume"/>
      </ColumnDescriptor>
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="SQL">
        <Property NAME="STATEMENT" SCOPE="GLOBAL"><![CDATA[
                 begin wwsso_stat.get_login_details_for_user(NULL,SYSDATE-1/(24*6),SYSDATE,:1); end;
            ]]></Property>
       <Property NAME="SQLOUTPARAMPOS" SCOPE="GLOBAL">1</Property>
       <Property NAME="SQLOUTPARAMTYPE" SCOPE="GLOBAL">sql_cursor</Property>
       <Property NAME="ConnectDescriptor" SCOPE="INSTANCE" OPTIONAL="TRUE">ConnectDescriptor</Property>
       <Property NAME="UserName" SCOPE="INSTANCE">ssoServerUserName</Property>
       <Property NAME="password" SCOPE="INSTANCE">ssoServerPassword</Property>
    </QueryDescriptor>
  </Metric>
 
  <!-- Use only for version 1014puls --> 
  <Metric NAME="nIPLoginDetails" TYPE="TABLE">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="1014plus"/>
    </ValidIf>
    <Display>
      <Label NLSID="nIPLoginDetails_table">IP Login Details Metric</Label>
    </Display>
    <TableDescriptor>
      <ColumnDescriptor NAME="ip_address" TYPE="STRING" IS_KEY="TRUE" COLUMN_NAME="ip_address">
         <Display>
           <Label NLSID="oracle_sso_server_nIPLoginDetails_ip_address">IP Address</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="username" TYPE="STRING" IS_KEY="FALSE" COLUMN_NAME="username">
         <Display>
           <Label NLSID="oracle_sso_server_nIPLoginDetails_username">User name</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="count" TYPE="NUMBER" IS_KEY="FALSE" COLUMN_NAME="count">
         <Display>
           <Label NLSID="oracle_sso_server_nIPLoginDetails_count">Number of Login Successes and Failures</Label>
         </Display>
        <CategoryValue CLASS="Functional" CATEGORY_NAME="WorkloadVolume"/>
      </ColumnDescriptor>
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="SQL">
      <Property NAME="STATEMENT" SCOPE="GLOBAL"><![CDATA[
                 begin wwsso_stat.get_user_login_details(NULL,SYSDATE-1/(24*6),SYSDATE,:1); end;
            ]]></Property>
      <Property NAME="SQLOUTPARAMPOS" SCOPE="GLOBAL">1</Property>
      <Property NAME="SQLOUTPARAMTYPE" SCOPE="GLOBAL">sql_cursor</Property>
      <Property NAME="OidRepSchemaName" SCOPE="INSTANCE">OidRepSchemaName</Property>
      <Property NAME="OracleHome" SCOPE="INSTANCE">OracleHome</Property>
    </QueryDescriptor>
  </Metric>
  
  <!-- 
  New metric added for 11g. This metric has two keys - the ip address and the 
  user name. This is needed because it is possible that two users from the
  same IP address are accessing the SSO server. 
  -->
  <!--Metric NAME="nIPLoginActivity" NUM_CACHE_VALUES="10" TYPE="TABLE">
    <Display>
      <Label NLSID="nIPLoginActivity_table">IP Login Activity Metric</Label>
    </Display>
    <TableDescriptor>
      <ColumnDescriptor NAME="username" TYPE="STRING" IS_KEY="TRUE" COLUMN_NAME="username">
         <Display>
           <Label NLSID="oracle_sso_server_nIPLoginActivity_username">User name</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="success_count" TYPE="NUMBER" IS_KEY="FALSE" COLUMN_NAME="success_count">
         <Display>
           <Label NLSID="oracle_sso_server_nIPLoginActivity_success_count">Number of Successful Login Attempts</Label>
         </Display>
        <CategoryValue CLASS="Functional" CATEGORY_NAME="WorkloadVolume"/>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="failure_count" TYPE="NUMBER" IS_KEY="FALSE" COLUMN_NAME="failure_count">
         <Display>
           <Label NLSID="oracle_sso_server_nIPLoginActivity_failure_count">Number of Unsuccessful Login Attempts</Label>
         </Display>
        <CategoryValue CLASS="Functional" CATEGORY_NAME="WorkloadVolume"/>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="subscriber_id" TYPE="NUMBER" IS_KEY="FALSE" COLUMN_NAME="subscriber_id">
         <Display>
           <Label NLSID="oracle_sso_server_nIPLoginActivity_subscriber_id">Subscriber ID</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="ip_address" TYPE="STRING" IS_KEY="TRUE" COLUMN_NAME="ip_address">
         <Display>
           <Label NLSID="oracle_sso_server_nIPLoginActivity_ip_address">IP Address</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="subscriber_name" TYPE="STRING" IS_KEY="FALSE" COLUMN_NAME="subscriber_name">
         <Display>
           <Label NLSID="oracle_sso_server_nIPLoginActivity_subscriber_name">Subscriber Name</Label>
         </Display>
      </ColumnDescriptor>
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="SQL">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
      </ValidIf>
        <Property NAME="STATEMENT" SCOPE="GLOBAL"><![CDATA[
                 begin wwsso_stat.get_login_details_for_user(NULL,SYSDATE-1/(24*6),SYSDATE,:1); end;
            ]]></Property>
       <Property NAME="SQLOUTPARAMPOS" SCOPE="GLOBAL">1</Property>
       <Property NAME="SQLOUTPARAMTYPE" SCOPE="GLOBAL">sql_cursor</Property>
       <Property NAME="ConnectDescriptor" SCOPE="INSTANCE" OPTIONAL="TRUE">ConnectDescriptor</Property>
       <Property NAME="UserName" SCOPE="INSTANCE">ssoServerUserName</Property>
       <Property NAME="password" SCOPE="INSTANCE">ssoServerPassword</Property>
    </QueryDescriptor>
  </Metric-->
  
  <Metric NAME="nUserDetails" TYPE="TABLE">
    <Display>
      <Label NLSID="nUserDetails">Metrics of User DN,Guid and Role</Label>
    </Display>
    <TableDescriptor>
      <ColumnDescriptor NAME="ustat_name" TYPE="STRING" IS_KEY="TRUE" RENDERABLE="FALSE" COLUMN_NAME="ustat_name">
         <Display>
           <Label NLSID="oracle_sso_server_nUserDetails_ustat_name">User Name</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="user_role" TYPE="STRING" IS_KEY="FALSE" RENDERABLE="FALSE" COLUMN_NAME="user_role">
         <Display>
           <Label NLSID="oracle_sso_server_nUserDetails_user_role">User Role</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="user_dn" TYPE="STRING" IS_KEY="FALSE" RENDERABLE="FALSE" COLUMN_NAME="user_dn">
         <Display>
           <Label NLSID="oracle_sso_server_nUserDetails_user_dn">User DN</Label>
         </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="user_guid" TYPE="STRING" IS_KEY="FALSE" RENDERABLE="FALSE" COLUMN_NAME="user_guid">
         <Display>
           <Label NLSID="oracle_sso_server_nUserDetails_user_guid">User GUID</Label>
         </Display>
      </ColumnDescriptor>
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="SQL">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="1014plus"/>
      </ValidIf>
      <Property NAME="STATEMENT" SCOPE="GLOBAL"><![CDATA[
                 begin wwsso_stat.get_user_details(NULL,SYSDATE-1/(24*6),SYSDATE,:1); end;
            ]]></Property>
      <Property NAME="SQLOUTPARAMPOS" SCOPE="GLOBAL">1</Property>
      <Property NAME="SQLOUTPARAMTYPE" SCOPE="GLOBAL">sql_cursor</Property>
      <Property NAME="OidRepSchemaName" SCOPE="INSTANCE">OidRepSchemaName</Property>
      <Property NAME="OracleHome" SCOPE="INSTANCE">OracleHome</Property>
    </QueryDescriptor>
    <QueryDescriptor FETCHLET_ID="SQL">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
      </ValidIf>
        <Property NAME="STATEMENT" SCOPE="GLOBAL"><![CDATA[
                 begin wwsso_stat.get_user_login_details(NULL,SYSDATE-1/(24*6),SYSDATE,:1); end;
            ]]></Property>
       <Property NAME="SQLOUTPARAMPOS" SCOPE="GLOBAL">1</Property>
       <Property NAME="NUMROWS" SCOPE="GLOBAL">1</Property>
       <Property NAME="SQLOUTPARAMTYPE" SCOPE="GLOBAL">sql_cursor</Property>
       <Property NAME="ConnectDescriptor" SCOPE="INSTANCE" OPTIONAL="TRUE">ConnectDescriptor</Property>
       <Property NAME="UserName" SCOPE="INSTANCE">ssoServerUserName</Property>
       <Property NAME="password" SCOPE="INSTANCE">ssoServerPassword</Property>
    </QueryDescriptor>
  </Metric>

  <Metric NAME="Response" TYPE="TABLE">
    <Display>
      <Label NLSID="Response">Response Metric</Label>
    </Display>
    <TableDescriptor>
      <ColumnDescriptor NAME="Status" TYPE="NUMBER" IS_KEY="FALSE" TRANSIENT="FALSE">
        <Display>
          <Label NLSID="Status">Status</Label>
          <ShortName NLSID="oracle_sso_server_Status">Status</ShortName>
        </Display>
        <CategoryValue CLASS="Functional" CATEGORY_NAME="Fault"/>
      </ColumnDescriptor>
    </TableDescriptor>
    <!-- Version 10.1.4 and later  -->
    <ExecutionDescriptor>
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="1014plus"/>
      </ValidIf>
      <GetTable NAME="OC4J_SecurityResponse"/>
      <GetView NAME="result" FROM_TABLE="OC4J_SecurityResponse">
        <Column NAME="Status" />
      </GetView>
    </ExecutionDescriptor>

    <!-- Versions upto 10.1.4  -->
    <ExecutionDescriptor>    
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="902;904;1012"/>
      </ValidIf>
    <GetTable NAME="OC4J_SecurityResponse"/>
    <GetTable NAME="SSO_DADResponse"/>
    <Union NAME="SSOResponse">     
        <Table NAME="OC4J_SecurityResponse" />
        <Table NAME="SSO_DADResponse" />
    </Union>
    <GroupBy NAME="result" FROM_TABLE="SSOResponse">
      <AggregateColumn  NAME="Statuses"
                          COLUMN_NAME ="Status"
                          OPERATOR="SUM" /> 
      <ComputeColumn    NAME="Status"
                          EXPR="Statuses == 2 ? 1 : 0"/>    
    </GroupBy>              
    </ExecutionDescriptor>

    <!-- Versions 11 onwards -->
    <QueryDescriptor FETCHLET_ID="JMX" useCache="FALSE">
       <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
      </ValidIf>
         <Property NAME="serviceURL" SCOPE="INSTANCE">serviceURL</Property>
         <Property NAME="UserName" SCOPE="INSTANCE">MASUserName</Property>
         <Property NAME="password" SCOPE="INSTANCE">MASPassword</Property>
         <Property NAME="metric" SCOPE="GLOBAL">j2ee_application:Response</Property>
         <Property NAME="topologyNodeID" SCOPE="INSTANCE">metricTopologyNodeID</Property>
         <Property NAME="appName.parameter" SCOPE="INSTANCE">appName</Property>
         <Property NAME="MetricService" SCOPE="GLOBAL">true</Property>
         <Property NAME="columnOrder" SCOPE="GLOBAL">Status</Property>
         <Property NAME="useCache" SCOPE="GLOBAL">false</Property>
         <Property NAME="admlMap" SCOPE="GLOBAL">
           <![CDATA[<argument type="java.util.Map"><value><item><key>appName.parameter</key><value type="java.lang.String">%appName.parameter%</value></item></value></argument>]]>
         </Property>
  </QueryDescriptor>
  </Metric>

  <!-- Not used 10.1.3 onwards -->
  <Metric NAME="SSO_DADResponse"  TYPE="TABLE" HELP="NO_HELP" USAGE_TYPE="HIDDEN">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="902;904;1012"/>
    </ValidIf>
    <Display>
      <Label NLSID="SSOStatus_table">SSO DAD Status Metric</Label>
    </Display>
    <TableDescriptor>
      <ColumnDescriptor NAME="ssoping_response" TYPE="NUMBER" HELP="NO_HELP" IS_KEY="FALSE" TRANSIENT="FALSE">
        <Display>
          <Label NLSID="oracle_sso_server_resp_ssoping">SSO DAD Ping response, Milliseconds</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="Status" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="Status">Status</Label>
          <ShortName NLSID="Status">Status</ShortName>
        </Display>
      </ColumnDescriptor>
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="URLTiming">
      <Property NAME="prot" SCOPE="INSTANCE">HTTPProtocol</Property>
      <Property NAME="machine" SCOPE="INSTANCE">HTTPMachine</Property>
      <Property NAME="port" SCOPE="INSTANCE">HTTPPort</Property>
      <Property NAME="SSODAD" SCOPE="INSTANCE">ssoServerDAD</Property>
      <Property NAME="url0" SCOPE="GLOBAL">%prot%://%machine%:%port%/pls/%SSODAD%/htp.p?cbuf=Test</Property>
      <Property NAME="verbose" SCOPE="GLOBAL">0</Property>
      <Property NAME="singlerow" SCOPE="GLOBAL">y</Property>
      <Property NAME="proxyHost" SCOPE="SYSTEMGLOBAL" OPTIONAL="TRUE">proxyHost</Property>
      <Property NAME="proxyPort" SCOPE="SYSTEMGLOBAL" OPTIONAL="TRUE">proxyPort</Property>
      <Property NAME="dontProxyFor" SCOPE="SYSTEMGLOBAL" OPTIONAL="TRUE">dontProxyFor</Property>
      <Property NAME="useProxy" SCOPE="INSTANCE" OPTIONAL="TRUE">useProxy</Property>
      <Property NAME="proxyHostOverride" SCOPE="INSTANCE" OPTIONAL="TRUE">proxyHost</Property>
      <Property NAME="proxyPortOverride" SCOPE="INSTANCE" OPTIONAL="TRUE">proxyPort</Property>
    </QueryDescriptor>
  </Metric>

  <!--
  ======================================================================
  == SSO Latency Metrics
  ======================================================================
  -->                   
  <Metric NAME="SSOLatencyMetric" NUM_CACHE_VALUES="10" TYPE="TABLE" FORCE_CACHE="TRUE">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="11plus" />
    </ValidIf>
    <Display>
      <Label NLSID="sso_latency_table">SSO Latency Metric</Label>
    </Display>
    <CategoryValue CLASS="Functional" CATEGORY_NAME="Performance"/>
    <TableDescriptor>
      <ColumnDescriptor NAME="DBConnectionLatency" TYPE="NUMBER">
        <Display>
          <Label NLSID="oracle_sso_server_SSOLatencyMetric_DBConnectionLatency">Audit Database Response Time (ms)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="DSConnectionLatency" TYPE="NUMBER">
        <Display>
          <Label NLSID="oracle_sso_server_SSOLatencyMetric_DSConnectionLatency">LDAP Response Time (ms)</Label>
        </Display>
      </ColumnDescriptor>
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="JMX">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
      </ValidIf>
      <Property NAME="serviceURL" SCOPE="INSTANCE">serviceURL</Property>
      <Property NAME="UserName" SCOPE="INSTANCE">MASUserName</Property>
      <Property NAME="password" SCOPE="INSTANCE">MASPassword</Property>
      <Property NAME="metric" SCOPE="GLOBAL">OSSO_Latency</Property>
      <Property NAME="topologyNodeID" SCOPE="INSTANCE">metricTopologyNodeID</Property>
      <Property NAME="MetricService" SCOPE="GLOBAL">true</Property>
      <Property NAME="columnOrder" SCOPE="GLOBAL">connectDB.avg;connectDS.avg</Property>
    </QueryDescriptor>
  </Metric> 

  <!--
  ======================================================================
  == SSO Request Metrics
  ======================================================================
  -->
 
  <Metric NAME="SSORequestMetric" NUM_CACHE_VALUES="10" TYPE="TABLE" FORCE_CACHE="TRUE">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="11plus" />
    </ValidIf>
    <Display>
      <Label NLSID="sso_request_table">SSO Request Metric</Label>
    </Display>
    <CategoryValue CLASS="Functional" CATEGORY_NAME="Performance"/>
    <TableDescriptor>
      <ColumnDescriptor NAME="CredValidationLatency" TYPE="NUMBER">
        <Display>
          <Label NLSID="oracle_sso_server_SSORequestMetric_CredValidationRequest">Credential Validation Responese Time (ms)</Label>
        </Display>
      </ColumnDescriptor>
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="JMX">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
      </ValidIf>
      <Property NAME="serviceURL" SCOPE="INSTANCE">serviceURL</Property>
      <Property NAME="UserName" SCOPE="INSTANCE">MASUserName</Property>
      <Property NAME="password" SCOPE="INSTANCE">MASPassword</Property>
      <Property NAME="MetricService" SCOPE="GLOBAL" OPTIONAL="TRUE">true</Property>
      <Property NAME="topologyNodeID" SCOPE="INSTANCE" OPTIONAL="TRUE">metricTopologyNodeID</Property>
      <Property NAME="metric" SCOPE="GLOBAL">OSSO_Request</Property>
      <Property NAME="columnOrder" SCOPE="GLOBAL">validateCreds.avg</Property>
    </QueryDescriptor>
  </Metric>

  <!-- Resource Usage Metric -->
  <!-- Need to change to use the JMX to get the OC4J usage -->
  <Metric NAME="ResourceUsage" TYPE="TABLE" NUM_CACHE_VALUES="20" FORCE_CACHE="TRUE">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="11plus" />
    </ValidIf>
    <Display>
      <Label NLSID="sso_ResourceUsage">Resource Usage</Label>
    </Display>
    <TableDescriptor>
      <ColumnDescriptor NAME="cpu.component" TYPE="NUMBER" IS_KEY="FALSE">
        <Display FOR_SUMMARY_UI="TRUE">
          <Label NLSID="sso_resource_cpu_component">CPU Usage (%)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="cpu.other" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="sso_resource_cpu_other">Other CPU Usage (%)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="cpu.idle" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="sso_resource_cpu_idle">CPU Idle Time (%)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="memory.component" TYPE="NUMBER" IS_KEY="FALSE">
        <Display FOR_SUMMARY_UI="TRUE">
          <Label NLSID="sso_resource_memory_component">Memory Usage (KB)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="memoryPercentage.component" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="sso_resource_memoryPercentage_component">Memory Usage (%)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="memory.other" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="sso_resource_memory_other">Other Memory Usage (KB)</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="memory.free" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="sso_resource_memory_free">Free Memory (KB)</Label>
        </Display>
      </ColumnDescriptor>
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="JMX">
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
    </ValidIf>
         <Property NAME="serviceURL" SCOPE="INSTANCE">serviceURL</Property>
         <Property NAME="UserName" SCOPE="INSTANCE">MASUserName</Property>
         <Property NAME="password" SCOPE="INSTANCE">MASPassword</Property>
         <Property NAME="metric" SCOPE="GLOBAL">pcs_component:ResourceUsage</Property>
         <Property NAME="topologyNodeID" SCOPE="INSTANCE">metricTopologyNodeID</Property>
         <Property NAME="MetricService" SCOPE="GLOBAL">true</Property>
         <Property NAME="columnOrder" SCOPE="GLOBAL">cpu.component;cpu.other;cpu.idle;memory.component;memoryPercentage.component;memory.other;memory.free</Property>
         <Property NAME="topologyNodeID.parameter" SCOPE="INSTANCE">metricTopologyNodeID</Property>
         <Property NAME="admlMap" SCOPE="GLOBAL">
           <![CDATA[<argument type="java.util.Map"><value><item><key>topologyNodeID.parameter</key><value type="java.lang.String">%topologyNodeID.parameter%</value></item></value></argument>]]>
         </Property>
  </QueryDescriptor>
  </Metric>

  <Metric NAME="OC4J_SecurityResponse" NUM_CACHE_VALUES="10" TYPE="TABLE" HELP="NO_HELP" FORCE_CACHE="TRUE">
    <Display>
      <Label NLSID="SSOStatus_table">SSO Application Status Metric</Label>
    </Display>
    <CategoryValue CLASS="Functional" CATEGORY_NAME="Performance"/>
    <TableDescriptor>
      <ColumnDescriptor NAME="ssoping_response" TYPE="NUMBER" HELP="NO_HELP" IS_KEY="FALSE" TRANSIENT="FALSE">
        <Display>
          <Label NLSID="oracle_sso_server_resp_ssoping">SSO Application Ping Response (ms)</Label>
          <ShortName NLSID="oracle_sso_server_resp_ssoping_short">SSO Application Ping Response (ms)</ShortName>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="Status" TYPE="NUMBER" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oracle_sso_server_OC4J_SecurityResponseStatus">Status</Label>
          <ShortName NLSID="oracle_sso_server_OC4J_SecurityResponseStatus">Status</ShortName>
        </Display>
      </ColumnDescriptor>
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="URLTiming">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="904;1012;1014plus;11plus"/>
      </ValidIf>
      <Property NAME="prot" SCOPE="INSTANCE">HTTPProtocol</Property>
      <Property NAME="machine" SCOPE="INSTANCE">HTTPMachine</Property>
      <Property NAME="port" SCOPE="INSTANCE">HTTPPort</Property>
      <!--Property NAME="SSODAD" SCOPE="INSTANCE">ssoServerDAD</Property-->
      <Property NAME="url0" SCOPE="GLOBAL">%prot%://%machine%:%port%/sso/status</Property>
      <Property NAME="verbose" SCOPE="GLOBAL">0</Property>
      <Property NAME="singlerow" SCOPE="GLOBAL">y</Property>
      <Property NAME="proxyHost" SCOPE="SYSTEMGLOBAL" OPTIONAL="TRUE">proxyHost</Property>
      <Property NAME="proxyPort" SCOPE="SYSTEMGLOBAL" OPTIONAL="TRUE">proxyPort</Property>
      <Property NAME="dontProxyFor" SCOPE="SYSTEMGLOBAL" OPTIONAL="TRUE">dontProxyFor</Property>
      <Property NAME="useProxy" SCOPE="INSTANCE" OPTIONAL="TRUE">useProxy</Property>
      <Property NAME="proxyHostOverride" SCOPE="INSTANCE" OPTIONAL="TRUE">proxyHost</Property>
      <Property NAME="proxyPortOverride" SCOPE="INSTANCE" OPTIONAL="TRUE">proxyPort</Property>
    </QueryDescriptor>
    <QueryDescriptor FETCHLET_ID="URLTiming">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="902"/>
      </ValidIf>
      <Property NAME="prot" SCOPE="INSTANCE">HTTPProtocol</Property>
      <Property NAME="machine" SCOPE="INSTANCE">HTTPMachine</Property>
      <Property NAME="port" SCOPE="INSTANCE">HTTPPort</Property>
      <Property NAME="SSODAD" SCOPE="INSTANCE">ssoServerDAD</Property>
      <Property NAME="url0" SCOPE="GLOBAL">%prot%://%machine%:%port%/pls/%SSODAD%/%SSODAD%.wwsso_app_admin.ssoping</Property>
      <Property NAME="verbose" SCOPE="GLOBAL">0</Property>
      <Property NAME="singlerow" SCOPE="GLOBAL">y</Property>
      <Property NAME="proxyHost" SCOPE="SYSTEMGLOBAL" OPTIONAL="TRUE">proxyHost</Property>
      <Property NAME="proxyPort" SCOPE="SYSTEMGLOBAL" OPTIONAL="TRUE">proxyPort</Property>
      <Property NAME="dontProxyFor" SCOPE="SYSTEMGLOBAL" OPTIONAL="TRUE">dontProxyFor</Property>
      <Property NAME="useProxy" SCOPE="INSTANCE" OPTIONAL="TRUE">useProxy</Property>
      <Property NAME="proxyHostOverride" SCOPE="INSTANCE" OPTIONAL="TRUE">proxyHost</Property>
      <Property NAME="proxyPortOverride" SCOPE="INSTANCE" OPTIONAL="TRUE">proxyPort</Property>
    </QueryDescriptor>
  </Metric>

  <Metric NAME="DatabaseInstance" TYPE="TABLE">
    <Display>
      <Label NLSID="oracle_database_instance">SSO Database Instance Metric</Label>
    </Display>
    <TableDescriptor>
      <ColumnDescriptor NAME="name" TYPE="STRING" RENDERABLE="FALSE" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oracle_database_inst_name">Instance Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="starttime" TYPE="STRING" RENDERABLE="FALSE" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oracle_database_inst_start">Start Time</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="version" TYPE="STRING" RENDERABLE="FALSE" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oracle_database_inst_version">Version</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="timedstatistics" TYPE="STRING" HELP="NO_HELP" IS_KEY="FALSE" RENDERABLE="FALSE" TRANSIENT="TRUE" >
        <Display>
          <Label NLSID="oracle_database_timedstatistics">Timed Statistics</Label>
        </Display>
      </ColumnDescriptor>
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="SQL">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
      </ValidIf>
      <Property NAME="STATEMENT" SCOPE="GLOBAL">
        <![CDATA[
        select i.instance_name,to_char(i.startup_time,'yyyy-MM-dd hh:mm:ss'),i.version,p.value from
        v$instance i, v$version v, v$parameter p
        where v.banner like 'Oracle%' and p.name = 'timed_statistics'
        ]]>
      </Property>
         <Property NAME="ConnectDescriptor" SCOPE="INSTANCE" OPTIONAL="TRUE">ConnectDescriptor</Property>
         <Property NAME="UserName" SCOPE="INSTANCE">ssoServerUserName</Property>
         <Property NAME="password" SCOPE="INSTANCE">ssoServerPassword</Property>
    </QueryDescriptor>
    <QueryDescriptor FETCHLET_ID="SQL">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="904;1012;1014plus"/>
      </ValidIf>    
      <Property NAME="STATEMENT" SCOPE="GLOBAL"><![CDATA[
        select i.instance_name,to_char(i.startup_time,'yyyy-MM-dd hh:mm:ss'),i.version,p.value from 
        v$instance i, v$version v, v$parameter p 
        where v.banner like 'Oracle%' and p.name = 'timed_statistics'
        ]]></Property>
      <Property NAME="OidRepSchemaName" SCOPE="INSTANCE">OidRepSchemaName</Property>
      <Property NAME="OracleHome" SCOPE="INSTANCE">OracleHome</Property>
    </QueryDescriptor>
    <QueryDescriptor FETCHLET_ID="SQL">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="902"/>
      </ValidIf>     
      <Property NAME="STATEMENT" SCOPE="GLOBAL">
        <![CDATA[
        select i.instance_name,to_char(i.startup_time,'yyyy-MM-dd hh:mm:ss'),i.version,p.value from 
        v$instance i, v$version v, v$parameter p 
        where v.banner like 'Oracle%' and p.name = 'timed_statistics'
        ]]>
      </Property>
         <Property NAME="MachineName" SCOPE="INSTANCE">ssoServerMachineName</Property>
         <Property NAME="Port" SCOPE="INSTANCE">ssoServerPort</Property>
         <Property NAME="SID" SCOPE="INSTANCE">ssoServerSID</Property>
         <Property NAME="UserName" SCOPE="INSTANCE">ssoServerUserName</Property>
         <Property NAME="password" SCOPE="INSTANCE">ssoServerPassword</Property>
    </QueryDescriptor>    
  </Metric>

  <!--
  ======================================================================
  == Config Metric: LDAP server Instance Target Name
  ======================================================================
  -->
  <Metric NAME="SSOserverLDAPinfoCC" TYPE="RAW" CONFIG="TRUE">
    <ValidMidTierVersions START_VER="10.2.0.0.0" />
    <ValidIf>
      <CategoryProp NAME="VersionCategory" CHOICES="1014plus"/>
    </ValidIf>
    <Display>
      <Label NLSID="oracle_ldap_server_target_name_config_metric">LDAP Server Target Name Metric </Label>
    </Display>
    <TableDescriptor TABLE_NAME="MGMT_SSO_SSOSERVER_LDAP_INFOCC">
      <ColumnDescriptor NAME="LDAPTgtName" COLUMN_NAME="LDAPTARGETNAME" TYPE="STRING" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oracle_ldap_server_tgt_name">EM Target Name</Label>
        </Display>
      </ColumnDescriptor>
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="OSLineToken">
      <Property NAME="OracleHome" SCOPE="INSTANCE">OracleHome</Property>
      <Property NAME="perlBin" SCOPE="SYSTEMGLOBAL">perlBin</Property>
      <Property NAME="scriptsDir" SCOPE="SYSTEMGLOBAL">scriptsDir</Property>
      <Property NAME="command">%perlBin%/perl</Property>
      <Property NAME="args">%scriptsDir%/sso_get_ldap_target.pl %OracleHome%</Property>
      <Property NAME="startsWith" SCOPE="GLOBAL">em_result=</Property>
      <Property NAME="errStartsWith" SCOPE="GLOBAL">em_error=</Property>
      <Property NAME="ENVLC_ALL" SCOPE="GLOBAL">en_US.UTF-8</Property>
      <Property NAME="ENVLANG" SCOPE="GLOBAL">en_US.UTF-8</Property>
    </QueryDescriptor>
  </Metric>

  <!--
  ======================================================================
  == Config Metric: Database Instance Target Name
  ======================================================================
  -->

  <Metric NAME="SSOserverDBinfoCC" TYPE="RAW" CONFIG="TRUE">
    <ValidMidTierVersions START_VER="10.2.0.0.0" />
    <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="1014plus"/>
    </ValidIf>
    <Display>
      <Label NLSID="oracle_database_instance_config_metric">SSO Database Configuration Metric</Label>
    </Display>
    <TableDescriptor TABLE_NAME="MGMT_SSO_SSOSERVER_DB_INFOCC">
      <ColumnDescriptor NAME="DBName" COLUMN_NAME="DBNAME" TYPE="STRING" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oracle_database_instance_name">Instance Name</Label>
        </Display>
      </ColumnDescriptor>
      <ColumnDescriptor NAME="DBServerHost" COLUMN_NAME="DBSERVERHOST" TYPE="STRING" IS_KEY="FALSE">
        <Display>
          <Label NLSID="oracle_database_host_name">Host Name</Label>
        </Display>
      </ColumnDescriptor>
    </TableDescriptor>
    <QueryDescriptor FETCHLET_ID="SQL">
      <Property NAME="STATEMENT" SCOPE="GLOBAL"><![CDATA[
        select i.instance_name,i.host_name from
        v$instance i, v$version v
        where v.banner like 'Oracle%'
        ]]></Property>
      <Property NAME="OidRepSchemaName" SCOPE="INSTANCE">OidRepSchemaName</Property>
      <Property NAME="OracleHome" SCOPE="INSTANCE">OracleHome</Property>
    </QueryDescriptor>
  </Metric>

  <!--
  ======================================================================
  == SSO Instance Properties
   ======================================================================
  -->

  <InstanceProperties>
    <InstanceProperty NAME="version">
      <Display>
        <Label NLSID="oracle_sso_version_iprop">Version of the Single Sign-On Server</Label>
      </Display>
    </InstanceProperty>  
    <InstanceProperty NAME="ssoServerDAD">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="902;904;1012;1014plus"/>
      </ValidIf>
      <Display>
        <Label NLSID="oracle_portal_instprop_ssoServerDAD">Single Sign-On Server DAD</Label>
      </Display>
    </InstanceProperty>
    <InstanceProperty NAME="OidRepSchemaName">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="904;1012;1014plus"/>
      </ValidIf>       
      <Display>
        <Label NLSID="oracle_portal_instprop_OidRepSchemaName">Oid Rep Schema Name for orasso_PS schema</Label>
      </Display>
    </InstanceProperty>
    <InstanceProperty NAME="OracleHome">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="902;904;1012;1014plus"/>
      </ValidIf>
      <Display>
        <Label NLSID="oracle_sso_instprop_OracleHome">OracleHome</Label>
      </Display>
    </InstanceProperty>
    <InstanceProperty NAME="HTTPProtocol">
      <Display>
        <Label NLSID="dms_HTTPProtocol_iprop">Protocol</Label>
        <ShortName NLSID="dms_HTTPProtocol_iprop">Protocol</ShortName>
      </Display>
    </InstanceProperty>
    <InstanceProperty NAME="HTTPMachine">
      <Display>
        <Label NLSID="dms_HTTPMachine_iprop">Machine name</Label>
        <ShortName NLSID="dms_HTTPMachine_iprop">Machine name</ShortName>
      </Display>
    </InstanceProperty>
    <InstanceProperty NAME="HTTPPort">
      <Display>
        <Label NLSID="dms_HTTPPort_iprop">Port number</Label>
        <ShortName NLSID="dms_HTTPPort_iprop">Port number</ShortName>
      </Display>
    </InstanceProperty>
    <InstanceProperty NAME="useProxy" OPTIONAL="TRUE">
      <Display>
        <Label NLSID="dms_useProxy_iprop">Use proxy?</Label>
        <ShortName NLSID="dms_useProxy_iprop">Use proxy?</ShortName>
      </Display>
    </InstanceProperty>
    <InstanceProperty NAME="proxyHost" OPTIONAL="TRUE">
      <Display>
        <Label NLSID="dms_proxyHost_iprop">Proxy Host</Label>
        <ShortName NLSID="dms_proxyHost_iprop">Proxy Host</ShortName>
      </Display>
    </InstanceProperty>
    <InstanceProperty NAME="proxyPort" OPTIONAL="TRUE">
      <Display>
        <Label NLSID="dms_proxyPort_iprop">Proxy Port</Label>
        <ShortName NLSID="dms_proxyPort_iprop">Proxy Port</ShortName>
      </Display>
    </InstanceProperty>
    <InstanceProperty NAME="startComponent"> 
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="902;904;1012;1014plus"/>
      </ValidIf>
      <Display>
              <Label NLSID="startComponent_iprop">Component that will start the Single Sign-On Server</Label>
      </Display>
    </InstanceProperty>
    <InstanceProperty NAME="ConnectDescriptor">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
      </ValidIf>
      <Display>
        <Label NLSID="oracle_sso_instprop_connectDescriptor">Single Sign-On Server Database Connect Descriptor</Label>
      </Display>
    </InstanceProperty>
    <InstanceProperty NAME="ssoServerMachineName">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="902"/>
      </ValidIf>    
      <Display>
        <Label NLSID="oracle_portal_instprop_ssoServerMachineName">Single Sign-On Server Database Host Name</Label>
      </Display>
    </InstanceProperty> 
    <InstanceProperty NAME="ssoServerPort">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="902"/>
      </ValidIf>    
      <Display>
        <Label NLSID="oracle_sso_instprop_ssoServerPort">Single Sign-On Server Database Port</Label>
      </Display>
    </InstanceProperty> 
    <InstanceProperty NAME="ssoServerSID">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="902"/>
      </ValidIf>
      <Display>
        <Label NLSID="oracle_sso_instprop_ssoServerSID">Single Sign-On Server Database SID</Label>
      </Display>
    </InstanceProperty> 
    <InstanceProperty NAME="ssoServerPassword" CREDENTIAL="TRUE">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="902;11plus"/>
      </ValidIf>
      <Display>
        <Label NLSID="oracle_sso_instprop_ssoServerPassword">Single Sign-On Server orasso_ps Password</Label>
      </Display>
    </InstanceProperty>     
    <InstanceProperty NAME="ssoServerUserName" CREDENTIAL="TRUE">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="902;11plus"/>
      </ValidIf>
      <Display>
        <Label NLSID="oracle_sso_instprop_ssoServerUsername">Single Sign-On Server orasso_ps Username</Label>
      </Display>
    </InstanceProperty>     
     <!-- Properties for 11g Metrics -->
    <InstanceProperty NAME="serviceURL">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
      </ValidIf>
      <Display>
        <Label NLSID="oracle_sso_instprop_JMXServiceURL">Middleware Administration Server Service URL</Label>
      </Display>
    </InstanceProperty>
    <InstanceProperty NAME="MASUserName">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
      </ValidIf>
      <Display>
        <Label NLSID="oracle_sso_instprop_JMXUserName">Middleware Administration Server User Name</Label>
      </Display>
    </InstanceProperty>
    <InstanceProperty NAME="MASPassword" CREDENTIAL="TRUE">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
      </ValidIf>
      <Display>
        <Label NLSID="oracle_sso_instprop_password">Middleware Administration Server User Password</Label>
      </Display>
    </InstanceProperty>
    
    <InstanceProperty NAME="topologyNodeID">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
      </ValidIf>
      <Display>
        <Label NLSID="oracle_sso_instprop_topologyNodeID">Single Sign-On Topology Node ID</Label>
      </Display>
    </InstanceProperty>
    <InstanceProperty NAME="farmName">
        <ValidIf>
            <CategoryProp NAME="VersionCategory" CHOICES="11plus" />
        </ValidIf>
        <Display>
           <Label NLSID="oracle_sso_instprop_farmName">Middle Administration Server Farm Name</Label>
        </Display>
    </InstanceProperty>
    <InstanceProperty NAME="farmTopologyNodeID">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
      </ValidIf>
      <Display>
        <Label NLSID="oracle_sso_instprop_farmTopologyNodeID">Farm Topology Node ID</Label>
      </Display>
    </InstanceProperty>
    <InstanceProperty NAME="metricTopologyNodeID">
      <ValidIf>
        <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
      </ValidIf>
      <Display>
        <Label NLSID="oracle_sso_instprop_metricTopologyNodeID">OC4J Topology Node ID</Label>
      </Display>
    </InstanceProperty>
    <InstanceProperty NAME="appName" CREDENTIAL="FALSE" OPTIONAL="FALSE">
         <ValidIf>
            <CategoryProp NAME="VersionCategory" CHOICES="11plus"/>
         </ValidIf>
      <Display>
        <Label NLSID="oracle_sso_instprop_appName">Single Sign-On Application Name</Label>
      </Display>
    </InstanceProperty>
    <InstanceProperty NAME="MAS_OracleInstance">
        <ValidIf>
            <CategoryProp NAME="VersionCategory" CHOICES="11plus" />
        </ValidIf>
        <Display>
           <Label NLSID="MAS_OracleInstanceLabel">MAS Oracle Instance</Label>
        </Display>
    </InstanceProperty>
    <DynamicProperties NAME="ComputeVC" FORMAT="ROW"
                       PROP_LIST="VersionCategory">
      <QueryDescriptor FETCHLET_ID="VersionRangeComputer">
        <Property NAME="Version" SCOPE="INSTANCE">version</Property>
        <Property NAME="DefaultRange" SCOPE="GLOBAL">11plus</Property>
        <Property NAME="902" SCOPE="GLOBAL">9.0.2</Property>
        <Property NAME="904" SCOPE="GLOBAL">9.0.4</Property>
        <Property NAME="1012" SCOPE="GLOBAL">10.1.2.;</Property>            
        <Property NAME="1014plus" SCOPE="GLOBAL">10.1.4.;</Property>
        <Property NAME="11plus" SCOPE="GLOBAL">11.0.0.;</Property>
      </QueryDescriptor>
    </DynamicProperties>    
  </InstanceProperties>
</TargetMetadata>
