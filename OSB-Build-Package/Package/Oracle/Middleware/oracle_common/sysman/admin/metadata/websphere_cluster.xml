<?xml version="1.0"?>

<!--  $Header: emas/sysman/admin/metadata/websphere_cluster.xml /st_emasgc_11.1as/2 2010/09/03 11:36:43 scgrover Exp $ -->

<!-- 
 Copyright (c) 2010, Oracle and/or its affiliates. All rights reserved. 

   NAME
     websphere_cluster.xml 

   DESCRIPTION

   NOTES

   MODIFIED   (MM/DD/YY)
   scgrover    09/02/10 - fix instance prop
   jmcclung    03/30/10 - Creation

-->
<TargetMetadata META_VER="11.00000" TYPE="websphere_cluster" CATEGORY_PROPERTIES="VersionCategory">
   <Display>
      <Label NLSID="websphere_cluster_name">IBM WebSphere Application Server Cluster</Label>
      <ShortName NLSID="websphere_cluster_name">IBM WebSphere Application Server Cluster</ShortName>
      <Description NLSID="websphere_cluster_name">IBM WebSphere Application Server Cluster</Description>
   </Display>

<!-- TODO this will only work for FMW Control -->
<Metric NAME="Response" TYPE="TABLE">
  <Display>
    <Label NLSID="cluster_response">Response</Label>
  </Display>
  <TableDescriptor>
    <ColumnDescriptor NAME="Status" TYPE="NUMBER" IS_KEY="FALSE">
      <Display>
        <Label NLSID="cluster_status">UpDown Status</Label>
      </Display>
    </ColumnDescriptor>
  </TableDescriptor>
  <QueryDescriptor FETCHLET_ID="JMX">
    <Property NAME="serviceURL" SCOPE="ASSOCTGT" ASSOCIATION_NAME="farm">serviceURL</Property>
    <Property NAME="UserName" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">UserName</Property>
    <Property NAME="password" SCOPE="ASSOCTGT" OPTIONAL="TRUE" ASSOCIATION_NAME="farm">password</Property>
    <Property NAME="metric" SCOPE="GLOBAL">websphere_cluster:response</Property>
    <Property NAME="ClusterName.parameter" SCOPE="INSTANCE">ClusterName</Property>
    <Property NAME="MetricService" SCOPE="GLOBAL">true</Property>
    <Property NAME="ServerNames" SCOPE="INSTANCE">ServerNames</Property>
    <Property NAME="columnOrder" SCOPE="GLOBAL">Status</Property>
    <Property NAME="useCache" SCOPE="GLOBAL">false</Property>
    <Property NAME="admlMap" SCOPE="GLOBAL">
      <![CDATA[<argument type="java.util.Map"><value><item><key>clusterName.parameter</key><value type="java.lang.String">%ClusterName.parameter%</value></item></value></argument>]]>
    </Property>
  </QueryDescriptor>
</Metric>

  <InstanceProperties>
    <InstanceProperty NAME="ServerNames">
       <Display>
          <Label NLSID="serverNames">Server Names</Label>
       </Display>
    </InstanceProperty>

    <InstanceProperty NAME="ClusterName">
       <Display>
          <Label NLSID="clusterName">Cluster Name</Label>
       </Display>
    </InstanceProperty>
  </InstanceProperties>
</TargetMetadata>


