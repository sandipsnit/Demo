<?xml version="1.0"?>

<!--  $Header: CleanupDeployer.xml 20-feb-2008.05:01:25 spramani Exp $ -->

<!-- 
 Copyright (c) 2007, Oracle. All rights reserved.  

   NAME
     CleanUpDeployer.xml - <one-line expansion of the name>

   DESCRIPTION
     <short description of component this file declares/defines>

   NOTES
     <other useful comments, qualifications, etc.>

   MODIFIED   (MM/DD/YY)
   spramani    10/05/07 - clean up
   spramani    10/05/07 - Creation

-->
<prov:agentDeployment id = "CleanupDeployer" version="1.0.0" xmlns:prov="http://www.oracle.com/sysman/prov/deployment">
    <!-- 
         1. This is the third step of agent push installation. The deployer class will get the deploymentment with id
            "install" and will pick up all the actions under it to be executed according to the 'order' attribute 
            of action tag. 
         2. criticality 2 is the action with highest priority; critcality with 0 is the action with lowest priority 
         3. An action with  jndiUpdateRequired= true will update the action status to jndi , otherwise not
         4. order determines in what order the actions in a deployment will be executed
         5. scope tells on what all nodes we need the action to be executed
         6. Cleanup is a deployment (defined in PrereqChecker.xml )that is called at the end of anyother deployment. 
         7. toRetry=true means this action will be re-tried regardless of what happend on last try
    -->
    <prov:deployment id="install" shared="false">
            <prov:action id="Cleanup" critical="1" jndiUpdateRequired="false" order="0" scope="allNode" hidden="true" resourceID=""/>

    </prov:deployment>
    <prov:deployment id="install" shared="true">
            <prov:action id="Cleanup" critical="1" toStartDeployOnRestOnSuccess="true" jndiUpdateRequired="false" order="0" scope="masterNode" hidden="true" resourceID=""/>
            <prov:action id="RestCleanup" critical="1" jndiUpdateRequired="false" order="1" scope="restNode" hidden="true" resourceID=""/>
    </prov:deployment>
</prov:agentDeployment>
