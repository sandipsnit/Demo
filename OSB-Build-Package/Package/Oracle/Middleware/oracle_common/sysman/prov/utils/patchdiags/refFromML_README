README
------

This is the README for an application which allows you to upload MetaLink 
Metadata to the OMS from the command prompt.

Version : 10.2 GC


FILES:
------

refFromML.pl (the wrapper for the actual classfile UpdateARUTables.class which 
              is located in emCORE.jar. It takes care of calling the class file
              with appropriate parameters and also does error handling)


USAGE:
------

perl refFromML.pl [download | upload | update] <options> 

<options>

If download:
 -to       : Directory where you want to store the aru data
 -dl_url   : MetaLink URL
 -dl_user  : MetaLink username 
 -dl_pass  : MetaLink password 
 -rep_conn : Repository connection string <OMS_URL>:<PORT>:<SID>
 -rep_user : Repository username
 -rep_pass : Repository password

 Example: perl refFromML.pl download -to=/downloads/aru 
                                     -dl_url=http://updates.example.com 
                                     -dl_user=abc -dl_pass=xxxxx 
                                     -rep_conn=abc.example.com:1521:emrep 
                                     -rep_user=admin -rep_pass=xxxxx

If upload:
 -from     : Directory where you want to store the aru data
 -rep_conn : Repository connection string <OMS_URL>:<PORT>:<SID>
 -rep_user : Repository username
 -rep_pass : Repository password

 Example: perl refFromML.pl upload -from=/downloads/aru 
                                   -rep_conn=abc.example.com:1521:emrep 
                                   -rep_user=admin -rep_pass=xxxxx

If update:
 -dl_url   : MetaLink URL
 -dl_user  : MetaLink username 
 -dl_pass  : MetaLink password 
 -rep_conn : Repository connection string <OMS_URL>:<PORT>:<SID>
 -rep_user : Repository username
 -rep_pass : Repository password

 Example: perl refFromML.pl download -dl_url=http://updates.example.com 
                                     -dl_user=abc -dl_pass=xxxxx 
                                     -rep_conn=abc.example.com:1521:emrep 


IMPORTANT POINTS:
-----------------

-> $ORACLE_HOME should be defined for this script to work.
-> You need to have sysman privileges to execute this script.


PARAMETERS:
-----------

download
This will download all the MetaLink Metadata to the directory specified.
-> The -to directory should be existing. If not present, the program will exit
   out with a fileNotFoundException. 
-> The -dl_url should be complete including the http://. Dont just give 
   updates.oracle.com
-> The repository connection string consists of the host, port and sid in the 
   format <HOST>:<PORT>:<SID> 

upload
This uploads the MetaLink metadata to the respository and calculates the policy
violations.
-> The from directory needs to be existing and containing 8 MetaLink metadata 
   files.
-> The repository connection string consists of the host, port and sid in the 
   format <HOST>:<PORT>:<SID> 

update
This option essentially does a combination of the above two options without 
saving the MetaLink metadata in a intermediary location. It just downloads the
MetaLink Metadata and directly uploads it to the repoistory and calculates 
policy violations. 
-> The -dl_url should be complete including the http://. Dont just give 
   updates.oracle.com
-> The repository connection string consists of the host, port and sid in the 
   format <HOST>:<PORT>:<SID> 


